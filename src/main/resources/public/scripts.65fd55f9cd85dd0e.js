(function(){var ke,It,Q,ho,$e,co,Fe,wt,ut,Ue,Je,tn,hn,si,jt,Lt,Pt,cn,Wi,li,Jt,Ln,Wn,Pa,ct,xn,Re,qe,Ut,ae,Ee,Gn,je,Gi,Nt,nn,V,oe,_n,dt,zr,tt,F,We,ce,ze,De,ot,Oe=[].slice,Br={}.hasOwnProperty,bn=function(ve,se){function Me(){this.constructor=ve}for(var Ie in se)Br.call(se,Ie)&&(ve[Ie]=se[Ie]);return Me.prototype=se.prototype,ve.prototype=new Me,ve.__super__=se.prototype,ve},Hi=[].indexOf||function(ve){for(var se=0,Me=this.length;Me>se;se++)if(se in this&&this[se]===ve)return se;return-1};for(Jt={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},Ut=function(){var ve;return null!=(ve=typeof performance<"u"&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?ve:+new Date},Ee=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,li=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==Ee&&(Ee=function(ve){return setTimeout(ve,50)},li=function(ve){return clearTimeout(ve)}),je=function(ve){var se,Me;return se=Ut(),(Me=function(){var Ie;return(Ie=Ut()-se)>=33?(se=Ut(),ve(Ie,function(){return Ee(Me)})):setTimeout(Me,33-Ie)})()},Gn=function(){var ve,se,Me;return Me=arguments[0],se=arguments[1],ve=3<=arguments.length?Oe.call(arguments,2):[],"function"==typeof Me[se]?Me[se].apply(Me,ve):Me[se]},Ln=function(){var ve,se,Me,Ie,_e,pe,it;for(se=arguments[0],pe=0,it=(Ie=2<=arguments.length?Oe.call(arguments,1):[]).length;it>pe;pe++)if(Me=Ie[pe])for(ve in Me)Br.call(Me,ve)&&(_e=Me[ve],null!=se[ve]&&"object"==typeof se[ve]&&null!=_e&&"object"==typeof _e?Ln(se[ve],_e):se[ve]=_e);return se},Pt=function(ve){var se,Me,_e,pe;for(Me=se=0,_e=0,pe=ve.length;pe>_e;_e++)Me+=Math.abs(ve[_e]),se++;return Me/se},Pa=function(ve,se){var Me,_e;if(null==ve&&(ve="options"),null==se&&(se=!0),_e=document.querySelector("[data-pace-"+ve+"]")){if(Me=_e.getAttribute("data-pace-"+ve),!se)return Me;try{return JSON.parse(Me)}catch(pe){return typeof console<"u"&&null!==console?console.error("Error parsing inline pace options",pe):void 0}}},Fe=function(){function ve(){}return ve.prototype.on=function(se,Me,Ie,_e){var pe;return null==_e&&(_e=!1),null==this.bindings&&(this.bindings={}),null==(pe=this.bindings)[se]&&(pe[se]=[]),this.bindings[se].push({handler:Me,ctx:Ie,once:_e})},ve.prototype.once=function(se,Me,Ie){return this.on(se,Me,Ie,!0)},ve.prototype.off=function(se,Me){var Ie,_e,pe;if(null!=(null!=(_e=this.bindings)?_e[se]:void 0)){if(null==Me)return delete this.bindings[se];for(Ie=0,pe=[];Ie<this.bindings[se].length;)pe.push(this.bindings[se][Ie].handler===Me?this.bindings[se].splice(Ie,1):Ie++);return pe}},ve.prototype.trigger=function(){var se,Ie,pe,it,St,Ft,mt;if(Ie=arguments[0],se=2<=arguments.length?Oe.call(arguments,1):[],null!=(St=this.bindings)?St[Ie]:void 0){for(pe=0,mt=[];pe<this.bindings[Ie].length;)it=(Ft=this.bindings[Ie][pe]).once,Ft.handler.apply(Ft.ctx??this,se),mt.push(it?this.bindings[Ie].splice(pe,1):pe++);return mt}},ve}(),Ue=window.Pace||{},window.Pace=Ue,Ln(Ue,Fe.prototype),ae=Ue.options=Ln({},Jt,window.paceOptions,Pa()),F=0,ce=(De=["ajax","document","eventLag","elements"]).length;ce>F;F++)!0===ae[V=De[F]]&&(ae[V]=Jt[V]);ut=function(ve){function se(){return se.__super__.constructor.apply(this,arguments)}return bn(se,ve),se}(Error),It=function(){function ve(){this.progress=0}return ve.prototype.getElement=function(){var se;if(null==this.el){if(!(se=document.querySelector(ae.target)))throw new ut;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=se.firstChild?se.insertBefore(this.el,se.firstChild):se.appendChild(this.el)}return this.el},ve.prototype.finish=function(){var se;return(se=this.getElement()).className=se.className.replace("pace-active",""),se.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},ve.prototype.update=function(se){return this.progress=se,this.render()},ve.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(se){ut=se}return this.el=void 0},ve.prototype.render=function(){var se,Ie,_e,pe,it,St;if(null==document.querySelector(ae.target))return!1;for(se=this.getElement(),_e="translate3d("+this.progress+"%, 0, 0)",pe=0,it=(St=["webkitTransform","msTransform","transform"]).length;it>pe;pe++)se.children[0].style[St[pe]]=_e;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(se.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),this.progress>=100?Ie="99":(Ie=this.progress<10?"0":"",Ie+=0|this.progress),se.children[0].setAttribute("data-progress",""+Ie)),this.lastRenderedProgress=this.progress},ve.prototype.done=function(){return this.progress>=100},ve}(),wt=function(){function ve(){this.bindings={}}return ve.prototype.trigger=function(se,Me){var _e,pe,it,St;if(null!=this.bindings[se]){for(St=[],_e=0,pe=(it=this.bindings[se]).length;pe>_e;_e++)St.push(it[_e].call(this,Me));return St}},ve.prototype.on=function(se,Me){var Ie;return null==(Ie=this.bindings)[se]&&(Ie[se]=[]),this.bindings[se].push(Me)},ve}(),tt=window.XMLHttpRequest,zr=window.XDomainRequest,dt=window.WebSocket,Wn=function(ve,se){var Ie,_e;for(Ie in _e=[],se.prototype)try{_e.push(null==ve[Ie]&&"function"!=typeof se[Ie]?"function"==typeof Object.defineProperty?Object.defineProperty(ve,Ie,{get:function(){return se.prototype[Ie]},configurable:!0,enumerable:!0}):ve[Ie]=se.prototype[Ie]:void 0)}catch(pe){}return _e},Re=[],Ue.ignore=function(){var ve,se,Me;return se=arguments[0],ve=2<=arguments.length?Oe.call(arguments,1):[],Re.unshift("ignore"),Me=se.apply(null,ve),Re.shift(),Me},Ue.track=function(){var ve,se,Me;return se=arguments[0],ve=2<=arguments.length?Oe.call(arguments,1):[],Re.unshift("track"),Me=se.apply(null,ve),Re.shift(),Me},nn=function(ve){var se;return null==ve&&(ve="GET"),"track"===Re[0]?"force":!(Re.length||!ae.ajax||!("socket"===ve&&ae.ajax.trackWebSockets||(se=ve.toUpperCase(),Hi.call(ae.ajax.trackMethods,se)>=0)))},Je=function(ve){function se(){var Me,Ie=this;se.__super__.constructor.apply(this,arguments),Me=function(_e){var pe;return pe=_e.open,_e.open=function(it,St,Ft){return nn(it)&&Ie.trigger("request",{type:it,url:St,request:_e}),pe.apply(_e,arguments)}},window.XMLHttpRequest=function(_e){var pe;return pe=new tt(_e),Me(pe),pe};try{Wn(window.XMLHttpRequest,tt)}catch{}if(null!=zr){window.XDomainRequest=function(){var _e;return _e=new zr,Me(_e),_e};try{Wn(window.XDomainRequest,zr)}catch{}}if(null!=dt&&ae.ajax.trackWebSockets){window.WebSocket=function(_e,pe){var it;return it=null!=pe?new dt(_e,pe):new dt(_e),nn("socket")&&Ie.trigger("request",{type:"socket",url:_e,protocols:pe,request:it}),it};try{Wn(window.WebSocket,dt)}catch{}}}return bn(se,ve),se}(wt),We=null,Nt=function(ve){var se,Me,Ie,_e;for(Me=0,Ie=(_e=ae.ajax.ignoreURLs).length;Ie>Me;Me++)if("string"==typeof(se=_e[Me])){if(-1!==ve.indexOf(se))return!0}else if(se.test(ve))return!0;return!1},(ct=function(){return null==We&&(We=new Je),We})().on("request",function(ve){var se,Me,Ie,_e;return _e=ve.type,Ie=ve.request,Nt(ve.url)||Ue.running||!1===ae.restartOnRequestAfter&&"force"!==nn(_e)?void 0:(Me=arguments,"boolean"==typeof(se=ae.restartOnRequestAfter||0)&&(se=0),setTimeout(function(){var St,Ft,mt,wn,Di;if("socket"===_e?Ie.readyState<2:0<(mt=Ie.readyState)&&4>mt){for(Ue.restart(),Di=[],St=0,Ft=(wn=Ue.sources).length;Ft>St;St++){if((V=wn[St])instanceof ke){V.watch.apply(V,Me);break}Di.push(void 0)}return Di}},se))}),ke=function(){function ve(){var se=this;this.elements=[],ct().on("request",function(){return se.watch.apply(se,arguments)})}return ve.prototype.watch=function(se){var Me,Ie,_e;return _e=se.type,Me=se.request,Nt(se.url)?void 0:(Ie="socket"===_e?new si(Me):new jt(Me),this.elements.push(Ie))},ve}(),jt=function ve(se){var _e,pe,it,St,Ft=this;if(this.progress=0,null!=window.ProgressEvent)for(se.addEventListener("progress",function(mt){return Ft.progress=mt.lengthComputable?100*mt.loaded/mt.total:Ft.progress+(100-Ft.progress)/2},!1),_e=0,pe=(St=["load","abort","timeout","error"]).length;pe>_e;_e++)se.addEventListener(St[_e],function(){return Ft.progress=100},!1);else it=se.onreadystatechange,se.onreadystatechange=function(){var mt;return 0===(mt=se.readyState)||4===mt?Ft.progress=100:3===se.readyState&&(Ft.progress=50),"function"==typeof it?it.apply(null,arguments):void 0}},si=function ve(se){var Ie,_e,pe,it=this;for(this.progress=0,Ie=0,_e=(pe=["error","open"]).length;_e>Ie;Ie++)se.addEventListener(pe[Ie],function(){return it.progress=100},!1)},ho=function ve(se){var Ie,_e,pe;for(null==se&&(se={}),this.elements=[],null==se.selectors&&(se.selectors=[]),Ie=0,_e=(pe=se.selectors).length;_e>Ie;Ie++)this.elements.push(new $e(pe[Ie]))},$e=function(){function ve(se){this.selector=se,this.progress=0,this.check()}return ve.prototype.check=function(){var se=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return se.check()},ae.elements.checkInterval)},ve.prototype.done=function(){return this.progress=100},ve}(),Q=function(){function ve(){var se,Me,Ie=this;this.progress=null!=(Me=this.states[document.readyState])?Me:100,se=document.onreadystatechange,document.onreadystatechange=function(){return null!=Ie.states[document.readyState]&&(Ie.progress=Ie.states[document.readyState]),"function"==typeof se?se.apply(null,arguments):void 0}}return ve.prototype.states={loading:0,interactive:50,complete:100},ve}(),co=function ve(){var se,Me,Ie,_e,pe,it=this;this.progress=0,se=0,pe=[],_e=0,Ie=Ut(),Me=setInterval(function(){var St;return St=Ut()-Ie-50,Ie=Ut(),pe.push(St),pe.length>ae.eventLag.sampleCount&&pe.shift(),se=Pt(pe),++_e>=ae.eventLag.minSamples&&se<ae.eventLag.lagThreshold?(it.progress=100,clearInterval(Me)):it.progress=3/(se+3)*100},50)},hn=function(){function ve(se){this.source=se,this.last=this.sinceLastUpdate=0,this.rate=ae.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=Gn(this.source,"progress"))}return ve.prototype.tick=function(se,Me){var Ie;return null==Me&&(Me=Gn(this.source,"progress")),Me>=100&&(this.done=!0),Me===this.last?this.sinceLastUpdate+=se:(this.sinceLastUpdate&&(this.rate=(Me-this.last)/this.sinceLastUpdate),this.catchup=(Me-this.progress)/ae.catchupTime,this.sinceLastUpdate=0,this.last=Me),Me>this.progress&&(this.progress+=this.catchup*se),Ie=1-Math.pow(this.progress/100,ae.easeFactor),this.progress+=Ie*this.rate*se,this.progress=Math.min(this.lastProgress+ae.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},ve}(),oe=null,Gi=null,cn=null,_n=null,Lt=null,Wi=null,Ue.running=!1,xn=function(){return ae.restartOnPushState?Ue.restart():void 0},null!=window.history.pushState&&(ze=window.history.pushState,window.history.pushState=function(){return xn(),ze.apply(window.history,arguments)}),null!=window.history.replaceState&&(ot=window.history.replaceState,window.history.replaceState=function(){return xn(),ot.apply(window.history,arguments)}),tn={ajax:ke,elements:ho,document:Q,eventLag:co},(qe=function(){var ve,se,Me,Ie,_e,pe,it,St;for(Ue.sources=oe=[],se=0,Ie=(pe=["ajax","elements","document","eventLag"]).length;Ie>se;se++)!1!==ae[ve=pe[se]]&&oe.push(new tn[ve](ae[ve]));for(Me=0,_e=(St=null!=(it=ae.extraSources)?it:[]).length;_e>Me;Me++)oe.push(new(V=St[Me])(ae));return Ue.bar=cn=new It,Gi=[],_n=new hn})(),Ue.stop=function(){return Ue.trigger("stop"),Ue.running=!1,cn.destroy(),Wi=!0,null!=Lt&&("function"==typeof li&&li(Lt),Lt=null),qe()},Ue.restart=function(){return Ue.trigger("restart"),Ue.stop(),Ue.start()},Ue.go=function(){var ve;return Ue.running=!0,cn.render(),ve=Ut(),Wi=!1,Lt=je(function(se,Me){var _e,pe,St,Ft,mt,Di,Ui,Ai,po,Ne,fr,ki,fo;for(_e=Ai=0,pe=!0,Ft=po=0,fr=oe.length;fr>po;Ft=++po)for(V=oe[Ft],Ui=null!=Gi[Ft]?Gi[Ft]:Gi[Ft]=[],mt=Ne=0,ki=(St=null!=(fo=V.elements)?fo:[V]).length;ki>Ne;mt=++Ne)pe&=(Di=null!=Ui[mt]?Ui[mt]:Ui[mt]=new hn(St[mt])).done,Di.done||(_e++,Ai+=Di.tick(se));return cn.update(_n.tick(se,Ai/_e)),cn.done()||pe||Wi?(cn.update(100),Ue.trigger("done"),setTimeout(function(){return cn.finish(),Ue.running=!1,Ue.trigger("hide")},Math.max(ae.ghostTime,Math.max(ae.minTime-(Ut()-ve),0)))):Me()})},Ue.start=function(ve){Ln(ae,ve),Ue.running=!0;try{cn.render()}catch(se){ut=se}return document.querySelector(".pace")?(Ue.trigger("start"),Ue.go()):setTimeout(Ue.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return Ue}):"object"==typeof exports?module.exports=Ue:ae.startOnPageLoad&&Ue.start()}).call(this),function(ke,It){"object"==typeof exports&&typeof module<"u"?It(exports):"function"==typeof define&&define.amd?define(["exports"],It):It((ke=typeof globalThis<"u"?globalThis:ke||self).echarts={})}(this,function(ke){"use strict";var It=function(n,t){return(It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])})(n,t)};function Q(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}It(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var ho=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},$e=new function(){this.browser=new ho,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?($e.wxa=!0,$e.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?$e.worker=!0:typeof navigator>"u"?($e.node=!0,$e.svgSupported=!0):function(n,t){var e=t.browser,i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(n);i&&(e.firefox=!0,e.version=i[1]),r&&(e.ie=!0,e.version=r[1]),o&&(e.edge=!0,e.version=o[1],e.newEdge=+o[1].split(".")[0]>18),a&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported=typeof document<"u";var s=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in s||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}(navigator.userAgent,$e);var wt,ut,Fe="12px sans-serif",Ue=function(n){var t={};if(typeof JSON>"u")return t;for(var e=0;e<n.length;e++){var i=String.fromCharCode(e+32),r=(n.charCodeAt(e)-20)/100;t[i]=r}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),Je={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(n,t){if(!wt){var e=Je.createCanvas();wt=e&&e.getContext("2d")}if(wt)return ut!==t&&(ut=wt.font=t||Fe),wt.measureText(n);n=n||"";var i=/^([0-9]*?)px$/.exec(t=t||Fe),r=+(i&&i[1])||12,o=0;if(t.indexOf("mono")>=0)o=r*n.length;else for(var a=0;a<n.length;a++){var s=Ue[n[a]];o+=null==s?r:s*r}return{width:o}},loadImage:function(n,t,e){var i=new Image;return i.onload=t,i.onerror=e,i.src=n,i}};function tn(n){for(var t in Je)n[t]&&(Je[t]=n[t])}var hn=_n(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,t){return n["[object "+t+"]"]=!0,n},{}),si=_n(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,t){return n["[object "+t+"Array]"]=!0,n},{}),jt=Object.prototype.toString,Lt=Array.prototype,Pt=Lt.forEach,cn=Lt.filter,Wi=Lt.slice,li=Lt.map,Jt=function(){}.constructor,Ln=Jt?Jt.prototype:null,Wn="__proto__",Pa=2311;function ct(){return Pa++}function xn(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];typeof console<"u"&&console.error.apply(console,n)}function Re(n){if(null==n||"object"!=typeof n)return n;var t=n,e=jt.call(n);if("[object Array]"===e){if(!Ai(n)){t=[];for(var i=0,r=n.length;i<r;i++)t[i]=Re(n[i])}}else if(si[e]){if(!Ai(n)){var o=n.constructor;if(o.from)t=o.from(n);else for(t=new o(n.length),i=0,r=n.length;i<r;i++)t[i]=n[i]}}else if(!hn[e]&&!Ai(n)&&!Hi(n))for(var a in t={},n)n.hasOwnProperty(a)&&a!==Wn&&(t[a]=Re(n[a]));return t}function qe(n,t,e){if(!Oe(t)||!Oe(n))return e?Re(t):n;for(var i in t)if(t.hasOwnProperty(i)&&i!==Wn){var r=n[i],o=t[i];!Oe(o)||!Oe(r)||ce(o)||ce(r)||Hi(o)||Hi(r)||Br(o)||Br(r)||Ai(o)||Ai(r)?!e&&i in n||(n[i]=Re(t[i])):qe(r,o,e)}return n}function Ut(n,t){for(var e=n[0],i=1,r=n.length;i<r;i++)e=qe(e,n[i],t);return e}function ae(n,t){if(Object.assign)Object.assign(n,t);else for(var e in t)t.hasOwnProperty(e)&&e!==Wn&&(n[e]=t[e]);return n}function Ee(n,t,e){for(var i=tt(t),r=0;r<i.length;r++){var o=i[r];(e?null!=t[o]:null==n[o])&&(n[o]=t[o])}return n}var Gn=Je.createCanvas;function je(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var e=0,i=n.length;e<i;e++)if(n[e]===t)return e}return-1}function Gi(n,t){var e=n.prototype;function i(){}for(var r in i.prototype=t.prototype,n.prototype=new i,e)e.hasOwnProperty(r)&&(n.prototype[r]=e[r]);n.prototype.constructor=n,n.superClass=t}function Nt(n,t,e){if(n="prototype"in n?n.prototype:n,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(t),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(e?null!=t[o]:null==n[o])&&(n[o]=t[o])}else Ee(n,t,e)}function nn(n){return!!n&&"string"!=typeof n&&"number"==typeof n.length}function V(n,t,e){if(n&&t)if(n.forEach&&n.forEach===Pt)n.forEach(t,e);else if(n.length===+n.length)for(var i=0,r=n.length;i<r;i++)t.call(e,n[i],i,n);else for(var o in n)n.hasOwnProperty(o)&&t.call(e,n[o],o,n)}function oe(n,t,e){if(!n)return[];if(!t)return St(n);if(n.map&&n.map===li)return n.map(t,e);for(var i=[],r=0,o=n.length;r<o;r++)i.push(t.call(e,n[r],r,n));return i}function _n(n,t,e,i){if(n&&t){for(var r=0,o=n.length;r<o;r++)e=t.call(i,e,n[r],r,n);return e}}function dt(n,t,e){if(!n)return[];if(!t)return St(n);if(n.filter&&n.filter===cn)return n.filter(t,e);for(var i=[],r=0,o=n.length;r<o;r++)t.call(e,n[r],r,n)&&i.push(n[r]);return i}function zr(n,t,e){if(n&&t)for(var i=0,r=n.length;i<r;i++)if(t.call(e,n[i],i,n))return n[i]}function tt(n){if(!n)return[];if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t}var F=Ln&&ze(Ln.bind)?Ln.call.bind(Ln.bind):function(n,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return function(){return n.apply(t,e.concat(Wi.call(arguments)))}};function We(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return n.apply(this,t.concat(Wi.call(arguments)))}}function ce(n){return Array.isArray?Array.isArray(n):"[object Array]"===jt.call(n)}function ze(n){return"function"==typeof n}function De(n){return"string"==typeof n}function Vo(n){return"[object String]"===jt.call(n)}function ot(n){return"number"==typeof n}function Oe(n){var t=typeof n;return"function"===t||!!n&&"object"===t}function Br(n){return!!hn[jt.call(n)]}function bn(n){return!!si[jt.call(n)]}function Hi(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function ve(n){return null!=n.colorStops}function se(n){return null!=n.image}function Me(n){return"[object RegExp]"===jt.call(n)}function Ie(n){return n!=n}function _e(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=0,i=n.length;e<i;e++)if(null!=n[e])return n[e]}function pe(n,t){return n??t}function it(n,t,e){return n??t??e}function St(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return Wi.apply(n,t)}function Ft(n){if("number"==typeof n)return[n,n,n,n];var t=n.length;return 2===t?[n[0],n[1],n[0],n[1]]:3===t?[n[0],n[1],n[2],n[1]]:n}function mt(n,t){if(!n)throw new Error(t)}function wn(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Di="__ec_primitive__";function Ui(n){n[Di]=!0}function Ai(n){return n[Di]}var po=function(){function n(t){this.data={};var e=ce(t);this.data={};var i=this;function r(o,a){e?i.set(o,a):i.set(a,o)}t instanceof n?t.each(r):t&&V(t,r)}return n.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},n.prototype.set=function(t,e){return this.data[t]=e},n.prototype.each=function(t,e){for(var i in this.data)this.data.hasOwnProperty(i)&&t.call(e,this.data[i],i)},n.prototype.keys=function(){return tt(this.data)},n.prototype.removeKey=function(t){delete this.data[t]},n}();function Ne(n){return new po(n)}function fr(n,t){for(var e=new n.constructor(n.length+t.length),i=0;i<n.length;i++)e[i]=n[i];var r=n.length;for(i=0;i<t.length;i++)e[i+r]=t[i];return e}function ki(n,t){var e;if(Object.create)e=Object.create(n);else{var i=function(){};i.prototype=n,e=new i}return t&&ae(e,t),e}function fo(n){var t=n.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Le(n,t){return n.hasOwnProperty(t)}function rn(){}var gr=180/Math.PI,yf=Object.freeze({__proto__:null,guid:ct,logError:xn,clone:Re,merge:qe,mergeAll:Ut,extend:ae,defaults:Ee,createCanvas:Gn,indexOf:je,inherits:Gi,mixin:Nt,isArrayLike:nn,each:V,map:oe,reduce:_n,filter:dt,find:zr,keys:tt,bind:F,curry:We,isArray:ce,isFunction:ze,isString:De,isStringSafe:Vo,isNumber:ot,isObject:Oe,isBuiltInObject:Br,isTypedArray:bn,isDom:Hi,isGradientObject:ve,isImagePatternObject:se,isRegExp:Me,eqNaN:Ie,retrieve:_e,retrieve2:pe,retrieve3:it,slice:St,normalizeCssArray:Ft,assert:mt,trim:wn,setAsPrimitive:Ui,isPrimitive:Ai,HashMap:po,createHashMap:Ne,concatArray:fr,createObject:ki,disableUserSelect:fo,hasOwn:Le,noop:rn,RADIAN_TO_DEGREE:gr});function sn(n,t){return null==n&&(n=0),null==t&&(t=0),[n,t]}function Hn(n,t){return n[0]=t[0],n[1]=t[1],n}function Yi(n){return[n[0],n[1]]}function Mc(n,t,e){return n[0]=t,n[1]=e,n}function gu(n,t,e){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n}function Vr(n,t,e,i){return n[0]=t[0]+e[0]*i,n[1]=t[1]+e[1]*i,n}function ui(n,t,e){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n}function Oa(n){return Math.sqrt(Ra(n))}function Ra(n){return n[0]*n[0]+n[1]*n[1]}function Zs(n,t,e){return n[0]=t[0]*e,n[1]=t[1]*e,n}function mr(n,t){var e=Oa(t);return 0===e?(n[0]=0,n[1]=0):(n[0]=t[0]/e,n[1]=t[1]/e),n}function Xi(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}var Pn=Xi;function Fr(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])}var vr=Fr;function Na(n,t,e,i){return n[0]=t[0]+i*(e[0]-t[0]),n[1]=t[1]+i*(e[1]-t[1]),n}function Zt(n,t,e){var i=t[0],r=t[1];return n[0]=e[0]*i+e[2]*r+e[4],n[1]=e[1]*i+e[3]*r+e[5],n}function yr(n,t,e){return n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n}function Li(n,t,e){return n[0]=Math.max(t[0],e[0]),n[1]=Math.max(t[1],e[1]),n}var Cc=Object.freeze({__proto__:null,create:sn,copy:Hn,clone:Yi,set:Mc,add:gu,scaleAndAdd:Vr,sub:ui,len:Oa,length:Oa,lenSquare:Ra,lengthSquare:Ra,mul:function(n,t,e){return n[0]=t[0]*e[0],n[1]=t[1]*e[1],n},div:function(n,t,e){return n[0]=t[0]/e[0],n[1]=t[1]/e[1],n},dot:function(n,t){return n[0]*t[0]+n[1]*t[1]},scale:Zs,normalize:mr,distance:Xi,dist:Pn,distanceSquare:Fr,distSquare:vr,negate:function(n,t){return n[0]=-t[0],n[1]=-t[1],n},lerp:Na,applyTransform:Zt,min:yr,max:Li}),Fo=function(n,t){this.target=n,this.topTarget=t&&t.topTarget},_f=function(){function n(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Fo(e,t),"dragstart",t.event))},n.prototype._drag=function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,r=t.offsetY,o=i-this._x,a=r-this._y;this._x=i,this._y=r,e.drift(o,a,t),this.handler.dispatchToElement(new Fo(e,t),"drag",t.event);var s=this.handler.findHover(i,r,e).target,l=this._dropTarget;this._dropTarget=s,e!==s&&(l&&s!==l&&this.handler.dispatchToElement(new Fo(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new Fo(s,t),"dragenter",t.event))}},n.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new Fo(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Fo(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},n}(),hi=function(){function n(t){t&&(this._$eventProcessor=t)}return n.prototype.on=function(t,e,i,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"==typeof e&&(r=i,i=e,e=null),!i||!t)return this;var a=this._$eventProcessor;null!=e&&a&&a.normalizeQuery&&(e=a.normalizeQuery(e)),o[t]||(o[t]=[]);for(var s=0;s<o[t].length;s++)if(o[t][s].h===i)return this;var l={h:i,query:e,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},u=o[t].length-1,h=o[t][u];return h&&h.callAtLast?o[t].splice(u,0,l):o[t].push(l),this},n.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},n.prototype.off=function(t,e){var i=this._$handlers;if(!i)return this;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var r=[],o=0,a=i[t].length;o<a;o++)i[t][o].h!==e&&r.push(i[t][o]);i[t]=r}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},n.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,s=r.length,l=0;l<s;l++){var u=r[l];if(!o||!o.filter||null==u.query||o.filter(t,u.query))switch(a){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,e[0]);break;case 2:u.h.call(u.ctx,e[0],e[1]);break;default:u.h.apply(u.ctx,e)}}return o&&o.afterTrigger&&o.afterTrigger(t),this},n.prototype.triggerWithContext=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[t],o=this._$eventProcessor;if(r)for(var a=e.length,s=e[a-1],l=r.length,u=0;u<l;u++){var h=r[u];if(!o||!o.filter||null==h.query||o.filter(t,h.query))switch(a){case 0:h.h.call(s);break;case 1:h.h.call(s,e[0]);break;case 2:h.h.call(s,e[0],e[1]);break;default:h.h.apply(s,e.slice(1,a-1))}}return o&&o.afterTrigger&&o.afterTrigger(t),this},n}(),bf=Math.log(2);function mu(n,t,e,i,r,o){var a=i+"-"+r,s=n.length;if(o.hasOwnProperty(a))return o[a];if(1===t){var l=Math.round(Math.log((1<<s)-1&~r)/bf);return n[e][l]}for(var u=i|1<<e,h=e+1;i&1<<h;)h++;for(var c=0,p=0,f=0;p<s;p++){var g=1<<p;g&r||(c+=(f%2?-1:1)*n[e][p]*mu(n,t-1,h,u,r|g,o),f++)}return o[a]=c,c}function Tc(n,t){var e=[[n[0],n[1],1,0,0,0,-t[0]*n[0],-t[0]*n[1]],[0,0,0,n[0],n[1],1,-t[1]*n[0],-t[1]*n[1]],[n[2],n[3],1,0,0,0,-t[2]*n[2],-t[2]*n[3]],[0,0,0,n[2],n[3],1,-t[3]*n[2],-t[3]*n[3]],[n[4],n[5],1,0,0,0,-t[4]*n[4],-t[4]*n[5]],[0,0,0,n[4],n[5],1,-t[5]*n[4],-t[5]*n[5]],[n[6],n[7],1,0,0,0,-t[6]*n[6],-t[6]*n[7]],[0,0,0,n[6],n[7],1,-t[7]*n[6],-t[7]*n[7]]],i={},r=mu(e,8,0,0,0,i);if(0!==r){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)null==o[s]&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*mu(e,7,0===a?1:0,1<<a,1<<s,i)/r*t[a];return function(l,u,h){var c=u*o[6]+h*o[7]+1;l[0]=(u*o[0]+h*o[1]+o[2])/c,l[1]=(u*o[3]+h*o[4]+o[5])/c}}}var xr=[];function vu(n,t,e,i,r){if(t.getBoundingClientRect&&$e.domSupported&&!yu(t)){var o=t.___zrEVENTSAVED||(t.___zrEVENTSAVED={}),a=function(s,l,u){for(var h=u?"invTrans":"trans",c=l[h],p=l.srcCoords,f=[],g=[],m=!0,y=0;y<4;y++){var x=s[y].getBoundingClientRect(),b=2*y,S=x.left,M=x.top;f.push(S,M),m=m&&p&&S===p[b]&&M===p[b+1],g.push(s[y].offsetLeft,s[y].offsetTop)}return m&&c?c:(l.srcCoords=f,l[h]=u?Tc(g,f):Tc(f,g))}(function(s,l){var u=l.markers;if(u)return u;u=l.markers=[];for(var h=["left","right"],c=["top","bottom"],p=0;p<4;p++){var f=document.createElement("div"),g=p%2,m=(p>>1)%2;f.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",h[g]+":0",c[m]+":0",h[1-g]+":auto",c[1-m]+":auto",""].join("!important;"),s.appendChild(f),u.push(f)}return u}(t,o),o,r);if(a)return a(n,e,i),!0}return!1}function yu(n){return"CANVAS"===n.nodeName.toUpperCase()}var go=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,mo=[],xu=$e.browser.firefox&&+$e.browser.version.split(".")[0]<39;function Ea(n,t,e,i){return e=e||{},i?qs(n,t,e):xu&&null!=t.layerX&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):null!=t.offsetX?(e.zrX=t.offsetX,e.zrY=t.offsetY):qs(n,t,e),e}function qs(n,t,e){if($e.domSupported&&n.getBoundingClientRect){var i=t.clientX,r=t.clientY;if(yu(n)){var o=n.getBoundingClientRect();return e.zrX=i-o.left,void(e.zrY=r-o.top)}if(vu(mo,n,i,r))return e.zrX=mo[0],void(e.zrY=mo[1])}e.zrX=e.zrY=0}function za(n){return n||window.event}function On(n,t,e){if(null!=(t=za(t)).zrX)return t;var i=t.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!==i?t.targetTouches[0]:t.changedTouches[0];r&&Ea(n,r,t,e)}else{Ea(n,t,t,e);var o=function(s){var l=s.wheelDelta;if(l)return l;var u=s.deltaX,h=s.deltaY;return null==u||null==h?l:3*Math.abs(0!==h?h:u)*(h>0?-1:h<0?1:u>0?-1:1)}(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var a=t.button;return null==t.which&&void 0!==a&&go.test(t.type)&&(t.which=1&a?1:2&a?3:4&a?2:0),t}function Ba(n,t,e,i){n.addEventListener(t,e,i)}var ci=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function Va(n){return 2===n.which||3===n.which}var Dc=function(){function n(){this._track=[]}return n.prototype.recognize=function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(t,e,i){var r=t.touches;if(r){for(var o={points:[],touches:[],target:e,event:t},a=0,s=r.length;a<s;a++){var l=r[a],u=Ea(i,l,{});o.points.push([u.zrX,u.zrY]),o.touches.push(l)}this._track.push(o)}},n.prototype._recognize=function(t){for(var e in _u)if(_u.hasOwnProperty(e)){var i=_u[e](this._track,t);if(i)return i}},n}();function Ac(n){var t=n[1][0]-n[0][0],e=n[1][1]-n[0][1];return Math.sqrt(t*t+e*e)}var _u={pinch:function(n,t){var e=n.length;if(e){var i,r=(n[e-1]||{}).points,o=(n[e-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=Ac(r)/Ac(o);!isFinite(a)&&(a=1),t.pinchScale=a;var s=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:n[0].target,event:t}}}}};function kc(){ci(this.event)}var bu=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.handler=null,e}return Q(t,n),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(hi),Un=function(n,t){this.x=n,this.y=t},wf=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Yn=function(n){function t(e,i,r,o){var a=n.call(this)||this;return a._hovered=new Un(0,0),a.storage=e,a.painter=i,a.painterRoot=o,r=r||new bu,a.proxy=null,a.setHandlerProxy(r),a._draggingMgr=new _f(a),a}return Q(t,n),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(V(wf,function(i){e.on&&e.on(i,this[i],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var i=e.zrX,r=e.zrY,o=Su(this,i,r),a=this._hovered,s=a.target;s&&!s.__zr&&(s=(a=this.findHover(a.x,a.y)).target);var l=this._hovered=o?new Un(i,r):this.findHover(i,r),u=l.target,h=this.proxy;h.setCursor&&h.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(a,"mouseout",e),this.dispatchToElement(l,"mousemove",e),u&&u!==s&&this.dispatchToElement(l,"mouseover",e)},t.prototype.mouseout=function(e){var i=e.zrEventControl;"only_globalout"!==i&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==i&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Un(0,0)},t.prototype.dispatch=function(e,i){var r=this[e];r&&r.call(this,i)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var i=this.proxy;i.setCursor&&i.setCursor(e)},t.prototype.dispatchToElement=function(e,i,r){var u,h,o=(e=e||{}).target;if(!o||!o.silent){for(var a="on"+i,s={type:i,event:h=r,target:(u=e).target,topTarget:u.topTarget,cancelBubble:!1,offsetX:h.zrX,offsetY:h.zrY,gestureEvent:h.gestureEvent,pinchX:h.pinchX,pinchY:h.pinchY,pinchScale:h.pinchScale,wheelDelta:h.zrDelta,zrByTouch:h.zrByTouch,which:h.which,stop:kc};o&&(o[a]&&(s.cancelBubble=!!o[a].call(o,s)),o.trigger(i,s),o=o.__hostTarget?o.__hostTarget:o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(i,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){"function"==typeof l[a]&&l[a].call(l,s),l.trigger&&l.trigger(i,s)}))}},t.prototype.findHover=function(e,i,r){for(var o=this.storage.getDisplayList(),a=new Un(e,i),s=o.length-1;s>=0;s--){var l=void 0;if(o[s]!==r&&!o[s].ignore&&(l=wu(o[s],e,i))&&(!a.topTarget&&(a.topTarget=o[s]),"silent"!==l)){a.target=o[s];break}}return a},t.prototype.processGesture=function(e,i){this._gestureMgr||(this._gestureMgr=new Dc);var r=this._gestureMgr;"start"===i&&r.clear();var o=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===i&&r.clear(),o){var a=o.type;e.gestureEvent=a;var s=new Un;s.target=o.target,this.dispatchToElement(s,a,o.event)}},t}(hi);function wu(n,t,e){if(n[n.rectHover?"rectContain":"contain"](t,e)){for(var i=n,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(t,e))return!1;i.silent&&(r=!0)}i=i.__hostTarget||i.parent}return!r||"silent"}return!1}function Su(n,t,e){var i=n.painter;return t<0||t>i.getWidth()||e<0||e>i.getHeight()}function Lc(n,t,e,i){var r=t+1;if(r===e)return 1;if(i(n[r++],n[t])<0){for(;r<e&&i(n[r],n[r-1])<0;)r++;!function(o,a,s){for(s--;a<s;){var l=o[a];o[a++]=o[s],o[s--]=l}}(n,t,r)}else for(;r<e&&i(n[r],n[r-1])>=0;)r++;return r-t}function Mu(n,t,e,i,r){for(i===t&&i++;i<e;i++){for(var o,a=n[i],s=t,l=i;s<l;)r(a,n[o=s+l>>>1])<0?l=o:s=o+1;var u=i-s;switch(u){case 3:n[s+3]=n[s+2];case 2:n[s+2]=n[s+1];case 1:n[s+1]=n[s];break;default:for(;u>0;)n[s+u]=n[s+u-1],u--}n[s]=a}}function Iu(n,t,e,i,r,o){var a=0,s=0,l=1;if(o(n,t[e+r])>0){for(s=i-r;l<s&&o(n,t[e+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(n,t[e+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}for(a++;a<l;){var h=a+(l-a>>>1);o(n,t[e+h])>0?a=h+1:l=h}return l}function Ks(n,t,e,i,r,o){var a=0,s=0,l=1;if(o(n,t[e+r])<0){for(s=r+1;l<s&&o(n,t[e+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}else{for(s=i-r;l<s&&o(n,t[e+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var h=a+(l-a>>>1);o(n,t[e+h])<0?l=h:a=h+1}return l}function Wr(n,t,e,i){e||(e=0),i||(i=n.length);var r=i-e;if(!(r<2)){var o=0;if(r<32)Mu(n,e,i,e+(o=Lc(n,e,i,t)),t);else{var a=function Pc(n,t){var e,i,r=7,o=0,a=[];function s(l){var u=e[l],h=i[l],c=e[l+1],p=i[l+1];i[l]=h+p,l===o-3&&(e[l+1]=e[l+2],i[l+1]=i[l+2]),o--;var f=Ks(n[c],n,u,h,0,t);u+=f,0!=(h-=f)&&0!==(p=Iu(n[u+h-1],n,c,p,p-1,t))&&(h<=p?function(g,m,y,x){var b=0;for(b=0;b<m;b++)a[b]=n[g+b];var S=0,M=y,C=g;if(n[C++]=n[M++],0!=--x)if(1!==m){for(var T,D,k,R=r;;){T=0,D=0,k=!1;do{if(t(n[M],a[S])<0){if(n[C++]=n[M++],D++,T=0,0==--x){k=!0;break}}else if(n[C++]=a[S++],T++,D=0,1==--m){k=!0;break}}while((T|D)<R);if(k)break;do{if(0!==(T=Ks(n[M],a,S,m,0,t))){for(b=0;b<T;b++)n[C+b]=a[S+b];if(C+=T,S+=T,(m-=T)<=1){k=!0;break}}if(n[C++]=n[M++],0==--x){k=!0;break}if(0!==(D=Iu(a[S],n,M,x,0,t))){for(b=0;b<D;b++)n[C+b]=n[M+b];if(C+=D,M+=D,0==(x-=D)){k=!0;break}}if(n[C++]=a[S++],1==--m){k=!0;break}R--}while(T>=7||D>=7);if(k)break;R<0&&(R=0),R+=2}if((r=R)<1&&(r=1),1===m){for(b=0;b<x;b++)n[C+b]=n[M+b];n[C+x]=a[S]}else{if(0===m)throw new Error;for(b=0;b<m;b++)n[C+b]=a[S+b]}}else{for(b=0;b<x;b++)n[C+b]=n[M+b];n[C+x]=a[S]}else for(b=0;b<m;b++)n[C+b]=a[S+b]}(u,h,c,p):function(g,m,y,x){var b=0;for(b=0;b<x;b++)a[b]=n[y+b];var S=g+m-1,M=x-1,C=y+x-1,T=0,D=0;if(n[C--]=n[S--],0!=--m)if(1!==x){for(var k=r;;){var R=0,N=0,E=!1;do{if(t(a[M],n[S])<0){if(n[C--]=n[S--],R++,N=0,0==--m){E=!0;break}}else if(n[C--]=a[M--],N++,R=0,1==--x){E=!0;break}}while((R|N)<k);if(E)break;do{if(0!=(R=m-Ks(a[M],n,g,m,m-1,t))){for(m-=R,D=1+(C-=R),T=1+(S-=R),b=R-1;b>=0;b--)n[D+b]=n[T+b];if(0===m){E=!0;break}}if(n[C--]=a[M--],1==--x){E=!0;break}if(0!=(N=x-Iu(n[S],a,0,x,x-1,t))){for(x-=N,D=1+(C-=N),T=1+(M-=N),b=0;b<N;b++)n[D+b]=a[T+b];if(x<=1){E=!0;break}}if(n[C--]=n[S--],0==--m){E=!0;break}k--}while(R>=7||N>=7);if(E)break;k<0&&(k=0),k+=2}if((r=k)<1&&(r=1),1===x){for(D=1+(C-=m),T=1+(S-=m),b=m-1;b>=0;b--)n[D+b]=n[T+b];n[C]=a[M]}else{if(0===x)throw new Error;for(T=C-(x-1),b=0;b<x;b++)n[T+b]=a[b]}}else{for(D=1+(C-=m),T=1+(S-=m),b=m-1;b>=0;b--)n[D+b]=n[T+b];n[C]=a[M]}else for(T=C-(x-1),b=0;b<x;b++)n[T+b]=a[b]}(u,h,c,p))}return e=[],i=[],{mergeRuns:function(){for(;o>1;){var l=o-2;if(l>=1&&i[l-1]<=i[l]+i[l+1]||l>=2&&i[l-2]<=i[l]+i[l-1])i[l-1]<i[l+1]&&l--;else if(i[l]>i[l+1])break;s(l)}},forceMergeRuns:function(){for(;o>1;){var l=o-2;l>0&&i[l-1]<i[l+1]&&l--,s(l)}},pushRun:function(l,u){e[o]=l,i[o]=u,o+=1}}}(n,t),s=function(u){for(var h=0;u>=32;)h|=1&u,u>>=1;return u+h}(r);do{if((o=Lc(n,e,i,t))<s){var l=r;l>s&&(l=s),Mu(n,e,e+l,e+o,t),o=l}a.pushRun(e,o),a.mergeRuns(),r-=o,e+=o}while(0!==r);a.forceMergeRuns()}}}V(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){Yn.prototype[n]=function(t){var e,i,r=t.zrX,o=t.zrY,a=Su(this,r,o);if("mouseup"===n&&a||(i=(e=this.findHover(r,o)).target),"mousedown"===n)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===n)this._upEl=i;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||Pn(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(e,n,t)}});var $s=!1;function Wa(){$s||($s=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Wo(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}var Sf=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Wo}return n.prototype.traverse=function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},n.prototype.getDisplayList=function(t,e){e=e||!1;var i=this._displayList;return!t&&i.length||this.updateDisplayList(e),i},n.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,r=0,o=e.length;r<o;r++)this._updateAndAddDisplayable(e[r],null,t);i.length=this._displayListLen,Wr(i,Wo)},n.prototype._updateAndAddDisplayable=function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e=e?e.slice():[];for(var o=r,a=t;o;)o.parent=a,o.updateTransform(),e.push(o),a=o,o=o.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var u=s[l];t.__dirty&&(u.__dirty|=1),this._updateAndAddDisplayable(u,e,i)}t.__dirty=0}else{var h=t;e&&e.length?h.__clipPaths=e:h.__clipPaths&&h.__clipPaths.length>0&&(h.__clipPaths=[]),isNaN(h.z)&&(Wa(),h.z=0),isNaN(h.z2)&&(Wa(),h.z2=0),isNaN(h.zlevel)&&(Wa(),h.zlevel=0),this._displayList[this._displayListLen++]=h}var c=t.getDecalElement&&t.getDecalElement();c&&this._updateAndAddDisplayable(c,e,i);var p=t.getTextGuideLine();p&&this._updateAndAddDisplayable(p,e,i);var f=t.getTextContent();f&&this._updateAndAddDisplayable(f,e,i)}},n.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},n.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);else{var r=je(this._roots,t);r>=0&&this._roots.splice(r,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),Cu=$e.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)},Go={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4))},elasticOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),(n*=2)<1?e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?n*n*((t+1)*n-t)*.5:.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-Go.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*Go.bounceIn(2*n):.5*Go.bounceOut(2*n-1)+.5}},Js=Math.pow,di=Math.sqrt,ji=di(3),Uo=1/3,Pi=sn(),ln=sn(),Kn=sn();function _r(n){return n>-1e-8&&n<1e-8}function Ga(n){return n>1e-8||n<-1e-8}function dn(n,t,e,i,r){var o=1-r;return o*o*(o*n+3*r*t)+r*r*(r*i+3*o*e)}function Oc(n,t,e,i,r){var o=1-r;return 3*(((t-n)*o+2*(e-t)*r)*o+(i-e)*r*r)}function Qs(n,t,e,i,r,o){var a=i+3*(t-e)-n,s=3*(e-2*t+n),l=3*(t-n),u=n-r,h=s*s-3*a*l,c=s*l-9*a*u,p=l*l-3*s*u,f=0;if(_r(h)&&_r(c))_r(s)?o[0]=0:(k=-l/s)>=0&&k<=1&&(o[f++]=k);else{var g=c*c-4*h*p;if(_r(g)){var m=c/h,y=-m/2;(k=-s/a+m)>=0&&k<=1&&(o[f++]=k),y>=0&&y<=1&&(o[f++]=y)}else if(g>0){var x=di(g),b=h*s+1.5*a*(-c+x),S=h*s+1.5*a*(-c-x);(k=(-s-((b=b<0?-Js(-b,Uo):Js(b,Uo))+(S=S<0?-Js(-S,Uo):Js(S,Uo))))/(3*a))>=0&&k<=1&&(o[f++]=k)}else{var M=(2*h*s-3*a*c)/(2*di(h*h*h)),C=Math.acos(M)/3,T=di(h),D=Math.cos(C),k=(-s-2*T*D)/(3*a),R=(y=(-s+T*(D+ji*Math.sin(C)))/(3*a),(-s+T*(D-ji*Math.sin(C)))/(3*a));k>=0&&k<=1&&(o[f++]=k),y>=0&&y<=1&&(o[f++]=y),R>=0&&R<=1&&(o[f++]=R)}}return f}function el(n,t,e,i,r){var o=6*e-12*t+6*n,a=9*t+3*i-3*n-9*e,s=3*t-3*n,l=0;if(_r(a))Ga(o)&&(h=-s/o)>=0&&h<=1&&(r[l++]=h);else{var u=o*o-4*a*s;if(_r(u))r[0]=-o/(2*a);else if(u>0){var h,c=di(u),p=(-o-c)/(2*a);(h=(-o+c)/(2*a))>=0&&h<=1&&(r[l++]=h),p>=0&&p<=1&&(r[l++]=p)}}return l}function Zi(n,t,e,i,r,o){var a=(t-n)*r+n,s=(e-t)*r+t,l=(i-e)*r+e,u=(s-a)*r+a,h=(l-s)*r+s,c=(h-u)*r+u;o[0]=n,o[1]=a,o[2]=u,o[3]=c,o[4]=c,o[5]=h,o[6]=l,o[7]=i}function Tu(n,t,e,i,r,o,a,s,l,u,h){var c,p,f,g,m,y=.005,x=1/0;Pi[0]=l,Pi[1]=u;for(var b=0;b<1;b+=.05)ln[0]=dn(n,e,r,a,b),ln[1]=dn(t,i,o,s,b),(g=vr(Pi,ln))<x&&(c=b,x=g);x=1/0;for(var S=0;S<32&&!(y<1e-4);S++)f=c+y,ln[0]=dn(n,e,r,a,p=c-y),ln[1]=dn(t,i,o,s,p),g=vr(ln,Pi),p>=0&&g<x?(c=p,x=g):(Kn[0]=dn(n,e,r,a,f),Kn[1]=dn(t,i,o,s,f),m=vr(Kn,Pi),f<=1&&m<x?(c=f,x=m):y*=.5);return h&&(h[0]=dn(n,e,r,a,c),h[1]=dn(t,i,o,s,c)),di(x)}function Du(n,t,e,i,r,o,a,s,l){for(var u=n,h=t,c=0,p=1/l,f=1;f<=l;f++){var g=f*p,m=dn(n,e,r,a,g),y=dn(t,i,o,s,g),x=m-u,b=y-h;c+=Math.sqrt(x*x+b*b),u=m,h=y}return c}function Dn(n,t,e,i){var r=1-i;return r*(r*n+2*i*t)+i*i*e}function tl(n,t,e,i){return 2*((1-i)*(t-n)+i*(e-t))}function Au(n,t,e){var i=n+e-2*t;return 0===i?.5:(n-t)/i}function Yo(n,t,e,i,r){var o=(t-n)*i+n,a=(e-t)*i+t,s=(a-o)*i+o;r[0]=n,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=e}function br(n,t,e,i,r,o,a,s,l){var u,h=.005,c=1/0;Pi[0]=a,Pi[1]=s;for(var p=0;p<1;p+=.05)ln[0]=Dn(n,e,r,p),ln[1]=Dn(t,i,o,p),(y=vr(Pi,ln))<c&&(u=p,c=y);c=1/0;for(var f=0;f<32&&!(h<1e-4);f++){var g=u-h,m=u+h;ln[0]=Dn(n,e,r,g),ln[1]=Dn(t,i,o,g);var y=vr(ln,Pi);if(g>=0&&y<c)u=g,c=y;else{Kn[0]=Dn(n,e,r,m),Kn[1]=Dn(t,i,o,m);var x=vr(Kn,Pi);m<=1&&x<c?(u=m,c=x):h*=.5}}return l&&(l[0]=Dn(n,e,r,u),l[1]=Dn(t,i,o,u)),di(c)}function pt(n,t,e,i,r,o,a){for(var s=n,l=t,u=0,h=1/a,c=1;c<=a;c++){var p=c*h,f=Dn(n,e,r,p),g=Dn(t,i,o,p),m=f-s,y=g-l;u+=Math.sqrt(m*m+y*y),s=f,l=g}return u}var vo=/cubic-bezier\(([0-9,\.e ]+)\)/;function Xo(n){var t=n&&vo.exec(n);if(t){var e=t[1].split(","),i=+wn(e[0]),r=+wn(e[1]),o=+wn(e[2]),a=+wn(e[3]);if(isNaN(i+r+o+a))return;var s=[];return function(l){return l<=0?0:l>=1?1:Qs(0,i,o,1,l,s)&&dn(0,r,a,1,s[0])}}}var ku=function(){function n(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||rn,this.ondestroy=t.ondestroy||rn,this.onrestart=t.onrestart||rn,t.easing&&this.setEasing(t.easing)}return n.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var i=this._life,r=t-this._startTime-this._pausedTime,o=r/i;o<0&&(o=0),o=Math.min(o,1);var a=this.easingFunc,s=a?a(o):o;if(this.onframe(s),1===o){if(!this.loop)return!0;this._startTime=t-r%i,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(t){this.easing=t,this.easingFunc=ze(t)?t:Go[t]||Xo(t)},n}(),jo=function(n){this.value=n},yo=function(){function n(){this._len=0}return n.prototype.insert=function(t){var e=new jo(t);return this.insertEntry(e),e},n.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},n.prototype.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),wr=function(){function n(t){this._list=new yo,this._maxSize=10,this._map={},this._maxSize=t}return n.prototype.put=function(t,e){var i=this._list,r=this._map,o=null;if(null==r[t]){var a=i.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=i.head;i.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new jo(e),s.key=t,i.insertEntry(s),r[t]=s}return o},n.prototype.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}(),Gr={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Xn(n){return(n=Math.round(n))<0?0:n>255?255:n}function Ha(n){return n<0?0:n>1?1:n}function Lu(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?Xn(parseFloat(t)/100*255):Xn(parseInt(t,10))}function qi(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?Ha(parseFloat(t)/100):Ha(parseFloat(t))}function Ua(n,t,e){return e<0?e+=1:e>1&&(e-=1),6*e<1?n+(t-n)*e*6:2*e<1?t:3*e<2?n+(t-n)*(2/3-e)*6:n}function Sr(n,t,e){return n+(t-n)*e}function $n(n,t,e,i,r){return n[0]=t,n[1]=e,n[2]=i,n[3]=r,n}function Ya(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}var Xa=new wr(20),Zo=null;function Sn(n,t){Zo&&Ya(Zo,t),Zo=Xa.put(n,Zo||t.slice())}function Rn(n,t){if(n){t=t||[];var e=Xa.get(n);if(e)return Ya(t,e);var i=(n+="").replace(/ /g,"").toLowerCase();if(i in Gr)return Ya(t,Gr[i]),Sn(n,t),t;var r,o=i.length;if("#"===i.charAt(0))return 4===o||5===o?(r=parseInt(i.slice(1,4),16))>=0&&r<=4095?($n(t,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,5===o?parseInt(i.slice(4),16)/15:1),Sn(n,t),t):void $n(t,0,0,0,1):7===o||9===o?(r=parseInt(i.slice(1,7),16))>=0&&r<=16777215?($n(t,(16711680&r)>>16,(65280&r)>>8,255&r,9===o?parseInt(i.slice(7),16)/255:1),Sn(n,t),t):void $n(t,0,0,0,1):void 0;var a=i.indexOf("("),s=i.indexOf(")");if(-1!==a&&s+1===o){var l=i.substr(0,a),u=i.substr(a+1,s-(a+1)).split(","),h=1;switch(l){case"rgba":if(4!==u.length)return 3===u.length?$n(t,+u[0],+u[1],+u[2],1):$n(t,0,0,0,1);h=qi(u.pop());case"rgb":return 3!==u.length?void $n(t,0,0,0,1):($n(t,Lu(u[0]),Lu(u[1]),Lu(u[2]),h),Sn(n,t),t);case"hsla":return 4!==u.length?void $n(t,0,0,0,1):(u[3]=qi(u[3]),nl(u,t),Sn(n,t),t);case"hsl":return 3!==u.length?void $n(t,0,0,0,1):(nl(u,t),Sn(n,t),t);default:return}}$n(t,0,0,0,1)}}function nl(n,t){var e=(parseFloat(n[0])%360+360)%360/360,i=qi(n[1]),r=qi(n[2]),o=r<=.5?r*(i+1):r+i-r*i,a=2*r-o;return $n(t=t||[],Xn(255*Ua(a,o,e+1/3)),Xn(255*Ua(a,o,e)),Xn(255*Ua(a,o,e-1/3)),1),4===n.length&&(t[3]=n[3]),t}function il(n,t){var e=Rn(n);if(e){for(var i=0;i<3;i++)e[i]=t<0?e[i]*(1-t)|0:(255-e[i])*t+e[i]|0,e[i]>255?e[i]=255:e[i]<0&&(e[i]=0);return yi(e,4===e.length?"rgba":"rgb")}}function ja(n,t,e){if(t&&t.length&&n>=0&&n<=1){e=e||[];var i=n*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=t[r],s=t[o],l=i-r;return e[0]=Xn(Sr(a[0],s[0],l)),e[1]=Xn(Sr(a[1],s[1],l)),e[2]=Xn(Sr(a[2],s[2],l)),e[3]=Ha(Sr(a[3],s[3],l)),e}}function qo(n,t,e){if(t&&t.length&&n>=0&&n<=1){var i=n*(t.length-1),r=Math.floor(i),o=Math.ceil(i),a=Rn(t[r]),s=Rn(t[o]),l=i-r,u=yi([Xn(Sr(a[0],s[0],l)),Xn(Sr(a[1],s[1],l)),Xn(Sr(a[2],s[2],l)),Ha(Sr(a[3],s[3],l))],"rgba");return e?{color:u,leftIndex:r,rightIndex:o,value:i}:u}}function Ko(n,t,e,i){var o,r=Rn(n);if(n)return r=function(o){if(o){var a,s,l=o[0]/255,u=o[1]/255,h=o[2]/255,c=Math.min(l,u,h),p=Math.max(l,u,h),f=p-c,g=(p+c)/2;if(0===f)a=0,s=0;else{s=g<.5?f/(p+c):f/(2-p-c);var m=((p-l)/6+f/2)/f,y=((p-u)/6+f/2)/f,x=((p-h)/6+f/2)/f;l===p?a=x-y:u===p?a=1/3+m-x:h===p&&(a=2/3+y-m),a<0&&(a+=1),a>1&&(a-=1)}var b=[360*a,s,g];return null!=o[3]&&b.push(o[3]),b}}(r),null!=t&&(r[0]=(o=t,(o=Math.round(o))<0?0:o>360?360:o)),null!=e&&(r[1]=qi(e)),null!=i&&(r[2]=qi(i)),yi(nl(r),"rgba")}function Za(n,t){var e=Rn(n);if(e&&null!=t)return e[3]=Ha(t),yi(e,"rgba")}function yi(n,t){if(n&&n.length){var e=n[0]+","+n[1]+","+n[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(e+=","+n[3]),t+"("+e+")"}}function qa(n,t){var e=Rn(n);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}var Pu=Object.freeze({__proto__:null,parse:Rn,lift:il,toHex:function(n){var t=Rn(n);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)},fastLerp:ja,fastMapToColor:ja,lerp:qo,mapToColor:qo,modifyHSL:Ko,modifyAlpha:Za,stringify:yi,lum:qa,random:function(){return yi([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}}),Nn=Math.round;function $o(n){var t;if(n&&"transparent"!==n){if("string"==typeof n&&n.indexOf("rgba")>-1){var e=Rn(n);e&&(n="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}}else n="none";return{color:n,opacity:t??1}}function Mr(n){return n<1e-4&&n>-1e-4}function ol(n){return Nn(1e3*n)/1e3}function Jo(n){return Nn(1e4*n)/1e4}var Ou={left:"start",right:"end",center:"middle",middle:"middle"};function Ru(n){return n&&!!n.image}function Rc(n){return"linear"===n.type}function al(n){return"radial"===n.type}function Ka(n){return"url(#"+n+")"}function Nc(n){var t=n.getGlobalScale(),e=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function Ec(n){var t=n.x||0,e=n.y||0,i=(n.rotation||0)*gr,r=pe(n.scaleX,1),o=pe(n.scaleY,1),a=n.skewX||0,s=n.skewY||0,l=[];return(t||e)&&l.push("translate("+t+"px,"+e+"px)"),i&&l.push("rotate("+i+")"),1===r&&1===o||l.push("scale("+r+","+o+")"),(a||s)&&l.push("skew("+Nn(a*gr)+"deg, "+Nn(s*gr)+"deg)"),l.join(" ")}var If=$e.hasGlobalWindow&&ze(window.btoa)?function(n){return window.btoa(unescape(n))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null},Qo=Array.prototype.slice;function Ki(n,t,e){return(t-n)*e+n}function Nu(n,t,e,i){for(var r=t.length,o=0;o<r;o++)n[o]=Ki(t[o],e[o],i);return n}function ea(n,t,e,i){for(var r=t.length,o=0;o<r;o++)n[o]=t[o]+e[o]*i;return n}function Eu(n,t,e,i){for(var r=t.length,o=r&&t[0].length,a=0;a<r;a++){n[a]||(n[a]=[]);for(var s=0;s<o;s++)n[a][s]=t[a][s]+e[a][s]*i}return n}function Cf(n,t){for(var e=n.length,i=t.length,r=e>i?t:n,o=Math.min(e,i),a=r[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(e,i);s++)r.push({offset:a.offset,color:a.color.slice()})}function zc(n,t,e){var i=n,r=t;if(i.push&&r.push){var o=i.length,a=r.length;if(o!==a)if(o>a)i.length=a;else for(var s=o;s<a;s++)i.push(1===e?r[s]:Qo.call(r[s]));var l=i[0]&&i[0].length;for(s=0;s<i.length;s++)if(1===e)isNaN(i[s])&&(i[s]=r[s]);else for(var u=0;u<l;u++)isNaN(i[s][u])&&(i[s][u]=r[s][u])}}function _o(n){if(nn(n)){var t=n.length;if(nn(n[0])){for(var e=[],i=0;i<t;i++)e.push(Qo.call(n[i]));return e}return Qo.call(n)}return n}function bo(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]??1,"rgba("+n.join(",")+")"}function Zn(n){return 4===n||5===n}function $a(n){return 1===n||2===n}var ta=[0,0,0,0],Bc=function(){function n(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(t,e,i){this._needsSort=!0;var f,r=this.keyframes,o=r.length,a=!1,s=6,l=e;if(nn(e)){var u=nn((f=e)&&f[0])?2:1;s=u,(1===u&&!ot(e[0])||2===u&&!ot(e[0][0]))&&(a=!0)}else if(ot(e)&&!Ie(e))s=0;else if(De(e))if(isNaN(+e)){var h=Rn(e);h&&(l=h,s=3)}else s=0;else if(ve(e)){var c=ae({},l);c.colorStops=oe(e.colorStops,function(f){return{offset:f.offset,color:Rn(f.color)}}),Rc(e)?s=4:al(e)&&(s=5),l=c}0===o?this.valType=s:s===this.valType&&6!==s||(a=!0),this.discrete=this.discrete||a;var p={time:t,value:l,rawValue:e,percent:0};return i&&(p.easing=i,p.easingFunc=ze(i)?i:Go[i]||Xo(i)),r.push(p),p},n.prototype.prepare=function(t,e){var i=this.keyframes;this._needsSort&&i.sort(function(m,y){return m.time-y.time});for(var r=this.valType,o=i.length,a=i[o-1],s=this.discrete,l=$a(r),u=Zn(r),h=0;h<o;h++){var c=i[h],p=c.value,f=a.value;c.percent=c.time/t,s||(l&&h!==o-1?zc(p,f,r):u&&Cf(p.colorStops,f.colorStops))}if(!s&&5!==r&&e&&this.needsAnimate()&&e.needsAnimate()&&r===e.valType&&!e._finished){this._additiveTrack=e;var g=i[0].value;for(h=0;h<o;h++)0===r?i[h].additiveValue=i[h].value-g:3===r?i[h].additiveValue=ea([],i[h].value,g,-1):$a(r)&&(i[h].additiveValue=1===r?ea([],i[h].value,g,-1):Eu([],i[h].value,g,-1))}},n.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i,r,o,a=null!=this._additiveTrack,s=a?"additiveValue":"value",l=this.valType,u=this.keyframes,h=u.length,c=this.propName,p=3===l,f=this._lastFr,g=Math.min;if(1===h)r=o=u[0];else{if(e<0)i=0;else if(e<this._lastFrP){for(i=g(f+1,h-1);i>=0&&!(u[i].percent<=e);i--);i=g(i,h-2)}else{for(i=f;i<h&&!(u[i].percent>e);i++);i=g(i-1,h-2)}o=u[i+1],r=u[i]}if(r&&o){this._lastFr=i,this._lastFrP=e;var m=o.percent-r.percent,y=0===m?1:g((e-r.percent)/m,1);o.easingFunc&&(y=o.easingFunc(y));var x=a?this._additiveValue:p?ta:t[c];if(!$a(l)&&!p||x||(x=this._additiveValue=[]),this.discrete)t[c]=y<1?r.rawValue:o.rawValue;else if($a(l))1===l?Nu(x,r[s],o[s],y):function(T,D,k,R){for(var N=D.length,E=N&&D[0].length,B=0;B<N;B++){T[B]||(T[B]=[]);for(var G=0;G<E;G++)T[B][G]=Ki(D[B][G],k[B][G],R)}}(x,r[s],o[s],y);else if(Zn(l)){var b=r[s],S=o[s],M=4===l;t[c]={type:M?"linear":"radial",x:Ki(b.x,S.x,y),y:Ki(b.y,S.y,y),colorStops:oe(b.colorStops,function(T,D){var k=S.colorStops[D];return{offset:Ki(T.offset,k.offset,y),color:bo(Nu([],T.color,k.color,y))}}),global:S.global},M?(t[c].x2=Ki(b.x2,S.x2,y),t[c].y2=Ki(b.y2,S.y2,y)):t[c].r=Ki(b.r,S.r,y)}else if(p)Nu(x,r[s],o[s],y),a||(t[c]=bo(x));else{var C=Ki(r[s],o[s],y);a?this._additiveValue=C:t[c]=C}a&&this._addToTarget(t)}}},n.prototype._addToTarget=function(t){var e=this.valType,i=this.propName,r=this._additiveValue;0===e?t[i]=t[i]+r:3===e?(Rn(t[i],ta),ea(ta,ta,r,1),t[i]=bo(ta)):1===e?ea(t[i],t[i],r,1):2===e&&Eu(t[i],t[i],r,1)},n}(),Hr=function(){function n(t,e,i,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&r?xn("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=i)}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(t){this._target=t},n.prototype.when=function(t,e,i){return this.whenWithKeys(t,e,tt(e),i)},n.prototype.whenWithKeys=function(t,e,i,r){for(var o=this._tracks,a=0;a<i.length;a++){var s=i[a],l=o[s];if(!l){l=o[s]=new Bc(s);var u=void 0,h=this._getAdditiveTrack(s);if(h){var c=h.keyframes,p=c[c.length-1];u=p&&p.value,3===h.valType&&u&&(u=bo(u))}else u=this._target[s];if(null==u)continue;t>0&&l.addKeyframe(0,_o(u),r),this._trackKeys.push(s)}l.addKeyframe(t,_o(e[s]),r)}return this._maxTime=Math.max(this._maxTime,t),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,i=0;i<e;i++)t[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var i=0;i<e.length;i++)e[i].call(this)},n.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,i=0;i<e.length;i++)t[e[i]].setFinished()},n.prototype._getAdditiveTrack=function(t){var e,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var o=i[r].getTrack(t);o&&(e=o)}return e},n.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,i=[],r=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=this._getAdditiveTrack(a),u=s.keyframes,h=u.length;if(s.prepare(r,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var c=u[h-1];c&&(e._target[s.propName]=c.rawValue),s.setFinished()}else i.push(s)}if(i.length||this._force){var p=new ku({life:r,loop:this._loop,delay:this._delay||0,onframe:function(f){e._started=2;var g=e._additiveAnimators;if(g){for(var m=!1,y=0;y<g.length;y++)if(g[y]._clip){m=!0;break}m||(e._additiveAnimators=null)}for(y=0;y<i.length;y++)i[y].step(e._target,f);var x=e._onframeCbs;if(x)for(y=0;y<x.length;y++)x[y](e._target,f)},ondestroy:function(){e._doneCallback()}});this._clip=p,this.animation&&this.animation.addClip(p),t&&p.setEasing(t)}else this._doneCallback();return this}},n.prototype.stop=function(t){this._clip&&(t&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(t){return this._delay=t,this},n.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},n.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},n.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(t){return this._tracks[t]},n.prototype.getTracks=function(){var t=this;return oe(this._trackKeys,function(e){return t._tracks[e]})},n.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,o=0;o<t.length;o++){var a=i[t[o]];a&&!a.isFinished()&&(e?a.step(this._target,1):1===this._started&&a.step(this._target,0),a.setFinished())}var s=!0;for(o=0;o<r.length;o++)if(!i[r[o]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},n.prototype.saveTo=function(t,e,i){if(t){e=e||this._trackKeys;for(var r=0;r<e.length;r++){var o=e[r],a=this._tracks[o];if(a&&!a.isFinished()){var s=a.keyframes,l=s[i?0:s.length-1];l&&(t[o]=_o(l.rawValue))}}}},n.prototype.__changeFinalValue=function(t,e){e=e||tt(t);for(var i=0;i<e.length;i++){var r=e[i],o=this._tracks[r];if(o){var a=o.keyframes;if(a.length>1){var s=a.pop();o.addKeyframe(s.time,t[r]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},n}();function Ur(){return(new Date).getTime()}var Yr,zu,Vc=function(n){function t(e){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,i.stage=(e=e||{}).stage||{},i}return Q(t,n),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var i=e.getClip();i&&this.addClip(i)},t.prototype.removeClip=function(e){if(e.animation){var i=e.prev,r=e.next;i?i.next=r:this._head=r,r?r.prev=i:this._tail=i,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var i=e.getClip();i&&this.removeClip(i),e.animation=null},t.prototype.update=function(e){for(var i=Ur()-this._pausedTime,r=i-this._time,o=this._head;o;){var a=o.next;o.step(i,r)&&(o.ondestroy(),this.removeClip(o)),o=a}this._time=i,e||(this.trigger("frame",r),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,Cu(function i(){e._running&&(Cu(i),!e._paused&&e.update())})},t.prototype.start=function(){this._running||(this._time=Ur(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Ur(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Ur()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var i=e.next;e.prev=e.next=e.animation=null,e=i}this._head=this._tail=null},t.prototype.isFinished=function(){return null==this._head},t.prototype.animate=function(e,i){i=i||{},this.start();var r=new Hr(e,i.loop);return this.addAnimator(r),r},t}(hi),sl=$e.domSupported,Bu=(zu={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:Yr=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:oe(Yr,function(n){var t=n.replace("mouse","pointer");return zu.hasOwnProperty(t)?t:n})}),Tf=["mousemove","mouseup"],Df=["pointermove","pointerup"],Fc=!1;function Vu(n){var t=n.pointerType;return"pen"===t||"touch"===t}function Fu(n){n&&(n.zrByTouch=!0)}function Wc(n,t){for(var e=t,i=!1;e&&9!==e.nodeType&&!(i=e.domBelongToZr||e!==t&&e===n.painterRoot);)e=e.parentNode;return i}var Af=function(n,t){this.stopPropagation=rn,this.stopImmediatePropagation=rn,this.preventDefault=rn,this.type=t.type,this.target=this.currentTarget=n.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},xi={mousedown:function(n){n=On(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=On(this.dom,n);var t=this.__mayPointerCapture;!t||n.zrX===t[0]&&n.zrY===t[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=On(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){Wc(this,(n=On(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){Fc=!0,n=On(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){Fc||(n=On(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){Fu(n=On(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),xi.mousemove.call(this,n),xi.mousedown.call(this,n)},touchmove:function(n){Fu(n=On(this.dom,n)),this.handler.processGesture(n,"change"),xi.mousemove.call(this,n)},touchend:function(n){Fu(n=On(this.dom,n)),this.handler.processGesture(n,"end"),xi.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&xi.click.call(this,n)},pointerdown:function(n){xi.mousedown.call(this,n)},pointermove:function(n){Vu(n)||xi.mousemove.call(this,n)},pointerup:function(n){xi.mouseup.call(this,n)},pointerout:function(n){Vu(n)||xi.mouseout.call(this,n)}};V(["click","dblclick","contextmenu"],function(n){xi[n]=function(t){t=On(this.dom,t),this.trigger(n,t)}});var ll={pointermove:function(n){Vu(n)||ll.mousemove.call(this,n)},pointerup:function(n){ll.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),t&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function ul(n,t,e,i){n.mounted[t]=e,n.listenerOpts[t]=i,Ba(n.domTarget,t,e,i)}function $i(n){var o=n.mounted;for(var a in o)o.hasOwnProperty(a)&&n.domTarget.removeEventListener(a,o[a],n.listenerOpts[a]);n.mounted={}}var Ir=function(n,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=t},Wu=function(n){function t(e,i){var r=n.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=i,r._localHandlerScope=new Ir(e,xi),sl&&(r._globalHandlerScope=new Ir(document,ll)),function kf(n,t){var e=t.domHandlers;$e.pointerEventsSupported?V(Bu.pointer,function(i){ul(t,i,function(r){e[i].call(n,r)})}):($e.touchEventsSupported&&V(Bu.touch,function(i){ul(t,i,function(r){var o;e[i].call(n,r),(o=t).touching=!0,null!=o.touchTimer&&(clearTimeout(o.touchTimer),o.touchTimer=null),o.touchTimer=setTimeout(function(){o.touching=!1,o.touchTimer=null},700)})}),V(Bu.mouse,function(i){ul(t,i,function(r){r=za(r),t.touching||e[i].call(n,r)})}))}(r,r._localHandlerScope),r}return Q(t,n),t.prototype.dispose=function(){$i(this._localHandlerScope),sl&&$i(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,sl&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var i=this._globalHandlerScope;e?function Lf(n,t){function e(i){ul(t,i,function(r){var o;r=za(r),Wc(n,r.target)||(r=On((o=n).dom,new Af(o,r),!0),t.domHandlers[i].call(n,r))},{capture:!0})}$e.pointerEventsSupported?V(Df,e):$e.touchEventsSupported||V(Tf,e)}(this,i):$i(i)}},t}(hi),Gu=1;$e.hasGlobalWindow&&(Gu=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Ja=Gu,Hu="#333",Oi="#ccc";function na(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function Ri(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function Ji(n,t,e){var r=t[1]*e[0]+t[3]*e[1],o=t[0]*e[2]+t[2]*e[3],a=t[1]*e[2]+t[3]*e[3],s=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];return n[0]=t[0]*e[0]+t[2]*e[1],n[1]=r,n[2]=o,n[3]=a,n[4]=s,n[5]=l,n}function Ni(n,t,e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+e[0],n[5]=t[5]+e[1],n}function Xr(n,t,e){var i=t[0],r=t[2],o=t[4],a=t[1],s=t[3],l=t[5],u=Math.sin(e),h=Math.cos(e);return n[0]=i*h+a*u,n[1]=-i*u+a*h,n[2]=r*h+s*u,n[3]=-r*u+h*s,n[4]=h*o+u*l,n[5]=h*l-u*o,n}function Qa(n,t,e){var i=e[0],r=e[1];return n[0]=t[0]*i,n[1]=t[1]*r,n[2]=t[2]*i,n[3]=t[3]*r,n[4]=t[4]*i,n[5]=t[5]*r,n}function wo(n,t){var e=t[0],i=t[2],r=t[4],o=t[1],a=t[3],s=t[5],l=e*a-o*i;return l?(n[0]=a*(l=1/l),n[1]=-o*l,n[2]=-i*l,n[3]=e*l,n[4]=(i*s-a*r)*l,n[5]=(o*r-e*s)*l,n):null}function d(n){var t=[1,0,0,1,0,0];return Ri(t,n),t}var v=Object.freeze({__proto__:null,create:function Gc(){return[1,0,0,1,0,0]},identity:na,copy:Ri,mul:Ji,translate:Ni,rotate:Xr,scale:Qa,invert:wo,clone:d}),_=na;function I(n){return n>5e-5||n<-5e-5}var A=[],L=[],P=[1,0,0,1,0,0],O=Math.abs,z=function(){function n(){}return n.prototype.getLocalTransform=function(t){return n.getLocalTransform(this,t)},n.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},n.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},n.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},n.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},n.prototype.needLocalTransform=function(){return I(this.rotation)||I(this.x)||I(this.y)||I(this.scaleX-1)||I(this.scaleY-1)||I(this.skewX)||I(this.skewY)},n.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),i=this.transform;e||t?(i=i||[1,0,0,1,0,0],e?this.getLocalTransform(i):_(i),t&&(e?Ji(i,t,i):Ri(i,t)),this.transform=i,this._resolveGlobalScaleRatio(i)):i&&_(i)},n.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(A);var i=A[0]<0?-1:1,r=A[1]<0?-1:1,o=((A[0]-i)*e+i)/A[0]||0,a=((A[1]-r)*e+r)/A[1]||0;t[0]*=o,t[1]*=o,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||[1,0,0,1,0,0],wo(this.invTransform,t)},n.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},n.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),o=Math.PI/2+r-Math.atan2(t[3],t[2]);i=Math.sqrt(i)*Math.cos(o),e=Math.sqrt(e),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Ji(L,t.invTransform,e),e=L);var i=this.originX,r=this.originY;(i||r)&&(P[4]=i,P[5]=r,Ji(L,e,P),L[4]-=i,L[5]-=r,e=L),this.setLocalTransform(e)}},n.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},n.prototype.transformCoordToLocal=function(t,e){var i=[t,e],r=this.invTransform;return r&&Zt(i,i,r),i},n.prototype.transformCoordToGlobal=function(t,e){var i=[t,e],r=this.transform;return r&&Zt(i,i,r),i},n.prototype.getLineScale=function(){var t=this.transform;return t&&O(t[0]-1)>1e-10&&O(t[3]-1)>1e-10?Math.sqrt(O(t[0]*t[3]-t[2]*t[1])):1},n.prototype.copyTransform=function(t){U(this,t)},n.getLocalTransform=function(t,e){e=e||[];var i=t.originX||0,r=t.originY||0,o=t.scaleX,a=t.scaleY,s=t.anchorX,l=t.anchorY,u=t.rotation||0,h=t.x,c=t.y,p=t.skewX?Math.tan(t.skewX):0,f=t.skewY?Math.tan(-t.skewY):0;if(i||r||s||l){var g=i+s,m=r+l;e[4]=-g*o-p*m*a,e[5]=-m*a-f*g*o}else e[4]=e[5]=0;return e[0]=o,e[3]=a,e[1]=f*o,e[2]=p*a,u&&Xr(e,e,u),e[4]+=i+h,e[5]+=r+c,e},n.initDefaultProps=((t=n.prototype).scaleX=t.scaleY=t.globalScaleRatio=1,void(t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0)),n;var t}(),W=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function U(n,t){for(var e=0;e<W.length;e++){var i=W[e];n[i]=t[i]}}var X=function(){function n(t,e){this.x=t||0,this.y=e||0}return n.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(t,e){return this.x=t,this.y=e,this},n.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.scale=function(t){this.x*=t,this.y*=t},n.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},n.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},n.prototype.distance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},n.prototype.distanceSquare=function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(t){if(t){var e=this.x,i=this.y;return this.x=t[0]*e+t[2]*i+t[4],this.y=t[1]*e+t[3]*i+t[5],this}},n.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},n.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},n.set=function(t,e,i){t.x=e,t.y=i},n.copy=function(t,e){t.x=e.x,t.y=e.y},n.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.lenSquare=function(t){return t.x*t.x+t.y*t.y},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.add=function(t,e,i){t.x=e.x+i.x,t.y=e.y+i.y},n.sub=function(t,e,i){t.x=e.x-i.x,t.y=e.y-i.y},n.scale=function(t,e,i){t.x=e.x*i,t.y=e.y*i},n.scaleAndAdd=function(t,e,i,r){t.x=e.x+i.x*r,t.y=e.y+i.y*r},n.lerp=function(t,e,i,r){var o=1-r;t.x=o*e.x+r*i.x,t.y=o*e.y+r*i.y},n}(),K=Math.min,$=Math.max,ee=new X,re=new X,fe=new X,de=new X,Se=new X,Ae=new X,ue=function(){function n(t,e,i,r){i<0&&(t+=i,i=-i),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=i,this.height=r}return n.prototype.union=function(t){var e=K(t.x,this.x),i=K(t.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?$(t.x+t.width,this.x+this.width)-e:t.width,this.height=isFinite(this.y)&&isFinite(this.height)?$(t.y+t.height,this.y+this.height)-i:t.height,this.x=e,this.y=i},n.prototype.applyTransform=function(t){n.applyTransform(this,this,t)},n.prototype.calculateTransform=function(t){var e=this,i=t.width/e.width,r=t.height/e.height,o=[1,0,0,1,0,0];return Ni(o,o,[-e.x,-e.y]),Qa(o,o,[i,r]),Ni(o,o,[t.x,t.y]),o},n.prototype.intersect=function(t,e){if(!t)return!1;t instanceof n||(t=n.create(t));var i=this,r=i.x,o=i.x+i.width,a=i.y,s=i.y+i.height,l=t.x,u=t.x+t.width,h=t.y,c=t.y+t.height,p=!(o<l||u<r||s<h||c<a);if(e){var f=1/0,g=0,m=Math.abs(o-l),y=Math.abs(u-r),x=Math.abs(s-h),b=Math.abs(c-a),S=Math.min(m,y),M=Math.min(x,b);o<l||u<r?S>g&&(g=S,X.set(Ae,m<y?-m:y,0)):S<f&&(f=S,X.set(Se,m<y?m:-y,0)),s<h||c<a?M>g&&(g=M,X.set(Ae,0,x<b?-x:b)):S<f&&(f=S,X.set(Se,0,x<b?x:-b))}return e&&X.copy(e,p?Se:Ae),p},n.prototype.contain=function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(t){n.copy(this,t)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(t){return new n(t.x,t.y,t.width,t.height)},n.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},n.applyTransform=function(t,e,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],s=i[5];return t.x=e.x*r+i[4],t.y=e.y*o+s,t.width=e.width*r,t.height=e.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}ee.x=fe.x=e.x,ee.y=de.y=e.y,re.x=de.x=e.x+e.width,re.y=fe.y=e.y+e.height,ee.transform(i),de.transform(i),re.transform(i),fe.transform(i),t.x=K(ee.x,re.x,fe.x,de.x),t.y=K(ee.y,re.y,fe.y,de.y);var l=$(ee.x,re.x,fe.x,de.x),u=$(ee.y,re.y,fe.y,de.y);t.width=l-t.x,t.height=u-t.y}else t!==e&&n.copy(t,e)},n}(),Ve={};function Ge(n,t){var e=Ve[t=t||Fe];e||(e=Ve[t]=new wr(500));var i=e.get(n);return null==i&&(i=Je.measureText(n,t).width,e.put(n,i)),i}function Qe(n,t,e,i){var r=Ge(n,t),o=yt(t),a=Mt(0,r,e),s=ft(0,o,i);return new ue(a,s,r,o)}function Be(n,t,e,i){var r=((n||"")+"").split("\n");if(1===r.length)return Qe(r[0],t,e,i);for(var o=new ue(0,0,0,0),a=0;a<r.length;a++){var s=Qe(r[a],t,e,i);0===a?o.copy(s):o.union(s)}return o}function Mt(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function ft(n,t,e){return"middle"===e?n-=t/2:"bottom"===e&&(n-=t),n}function yt(n){return Ge("\u56fd",n)}function Tt(n,t){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function xt(n,t,e){var i=t.position||"inside",r=null!=t.distance?t.distance:5,o=e.height,a=e.width,s=o/2,l=e.x,u=e.y,h="left",c="top";if(i instanceof Array)l+=Tt(i[0],e.width),u+=Tt(i[1],e.height),h=null,c=null;else switch(i){case"left":l-=r,u+=s,h="right",c="middle";break;case"right":l+=r+a,u+=s,c="middle";break;case"top":l+=a/2,u-=r,h="center",c="bottom";break;case"bottom":l+=a/2,u+=o+r,h="center";break;case"inside":l+=a/2,u+=s,h="center",c="middle";break;case"insideLeft":l+=r,u+=s,c="middle";break;case"insideRight":l+=a-r,u+=s,h="right",c="middle";break;case"insideTop":l+=a/2,u+=r,h="center";break;case"insideBottom":l+=a/2,u+=o-r,h="center",c="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=a-r,u+=r,h="right";break;case"insideBottomLeft":l+=r,u+=o-r,c="bottom";break;case"insideBottomRight":l+=a-r,u+=o-r,h="right",c="bottom"}return(n=n||{}).x=l,n.y=u,n.align=h,n.verticalAlign=c,n}var Et="__zr_normal__",qt=W.concat(["ignore"]),on=_n(W,function(n,t){return n[t]=!0,n},{ignore:!1}),Qt={},Jn=new ue(0,0,0,0),_i=function(){function n(t){this.id=ct(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return n.prototype._init=function(t){this.attr(t)},n.prototype.drift=function(t,e,i){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,o=e.innerTransformable,a=void 0,s=void 0,l=!1;o.parent=r?this:null;var u=!1;if(o.copyTransform(e),null!=i.position){var h=Jn;h.copy(i.layoutRect?i.layoutRect:this.getBoundingRect()),r||h.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Qt,i,h):xt(Qt,i,h),o.x=Qt.x,o.y=Qt.y,a=Qt.align,s=Qt.verticalAlign;var c=i.origin;if(c&&null!=i.rotation){var p=void 0,f=void 0;"center"===c?(p=.5*h.width,f=.5*h.height):(p=Tt(c[0],h.width),f=Tt(c[1],h.height)),u=!0,o.originX=-o.x+p+(r?0:h.x),o.originY=-o.y+f+(r?0:h.y)}}null!=i.rotation&&(o.rotation=i.rotation);var g=i.offset;g&&(o.x+=g[0],o.y+=g[1],u||(o.originX=-g[0],o.originY=-g[1]));var m=i.inside??("string"==typeof i.position&&i.position.indexOf("inside")>=0),y=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),x=void 0,b=void 0,S=void 0;m&&this.canBeInsideText()?(b=i.insideStroke,null!=(x=i.insideFill)&&"auto"!==x||(x=this.getInsideTextFill()),null!=b&&"auto"!==b||(b=this.getInsideTextStroke(x),S=!0)):(b=i.outsideStroke,null!=(x=i.outsideFill)&&"auto"!==x||(x=this.getOutsideFill()),null!=b&&"auto"!==b||(b=this.getOutsideStroke(x),S=!0)),(x=x||"#000")===y.fill&&b===y.stroke&&S===y.autoStroke&&a===y.align&&s===y.verticalAlign||(l=!0,y.fill=x,y.stroke=b,y.autoStroke=S,y.align=a,y.verticalAlign=s,e.setDefaultTextStyle(y)),e.__dirty|=1,l&&e.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(t){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Oi:Hu},n.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),i="string"==typeof e&&Rn(e);i||(i=[255,255,255,1]);for(var r=i[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)i[a]=i[a]*r+(o?0:255)*(1-r);return i[3]=1,yi(i,"rgba")},n.prototype.traverse=function(t,e){},n.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},ae(this.extra,e)):this[t]=e},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(Oe(t))for(var i=tt(t),r=0;r<i.length;r++){var o=i[r];this.attrKV(o,t[o])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],o=r.__fromStateTransition;if(!(r.getLoop()||o&&o!==Et)){var a=r.targetName;r.saveTo(a?e[a]:e)}}},n.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,qt)},n.prototype._savePrimaryToNormal=function(t,e,i){for(var r=0;r<i.length;r++){var o=i[r];null==t[o]||o in e||(e[o]=this[o])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(t){return this.states[t]},n.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},n.prototype.clearStates=function(t){this.useState(Et,!1,t)},n.prototype.useState=function(t,e,i,r){var o=t===Et;if(this.hasState()||!o){var a=this.currentStates,s=this.stateTransition;if(!(je(a,t)>=0)||!e&&1!==a.length){var l;if(this.stateProxy&&!o&&(l=this.stateProxy(t)),l||(l=this.states&&this.states[t]),l||o){o||this.saveCurrentToNormalState(l);var u=!!(l&&l.hoverLayer||r);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,l,this._normalState,e,!i&&!this.__inHover&&s&&s.duration>0,s);var h=this._textContent,c=this._textGuide;return h&&h.useState(t,e,i,u),c&&c.useState(t,e,i,u),o?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),l}xn("State "+t+" not exists.")}}},n.prototype.useStates=function(t,e,i){if(t.length){var r=[],o=this.currentStates,a=t.length,s=a===o.length;if(s)for(var l=0;l<a;l++)if(t[l]!==o[l]){s=!1;break}if(s)return;for(l=0;l<a;l++){var u=t[l],h=void 0;this.stateProxy&&(h=this.stateProxy(u,t)),h||(h=this.states[u]),h&&r.push(h)}var c=r[a-1],p=!!(c&&c.hoverLayer||i);p&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(r),g=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(t.join(","),f,this._normalState,!1,!e&&!this.__inHover&&g&&g.duration>0,g);var m=this._textContent,y=this._textGuide;m&&m.useStates(t,e,p),y&&y.useStates(t,e,p),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}else this.clearStates()},n.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},n.prototype.removeState=function(t){var e=je(this.currentStates,t);if(e>=0){var i=this.currentStates.slice();i.splice(e,1),this.useStates(i)}},n.prototype.replaceState=function(t,e,i){var r=this.currentStates.slice(),o=je(r,t),a=je(r,e)>=0;o>=0?a?r.splice(o,1):r[o]=e:i&&!a&&r.push(e),this.useStates(r)},n.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},n.prototype._mergeStates=function(t){for(var e,i={},r=0;r<t.length;r++){var o=t[r];ae(i,o),o.textConfig&&ae(e=e||{},o.textConfig)}return e&&(i.textConfig=e),i},n.prototype._applyStateObj=function(t,e,i,r,o,a){var s=!(e&&r);e&&e.textConfig?(this.textConfig=ae({},r?this.textConfig:i.textConfig),ae(this.textConfig,e.textConfig)):s&&i.textConfig&&(this.textConfig=i.textConfig);for(var l={},u=!1,h=0;h<qt.length;h++){var c=qt[h],p=o&&on[c];e&&null!=e[c]?p?(u=!0,l[c]=e[c]):this[c]=e[c]:s&&null!=i[c]&&(p?(u=!0,l[c]=i[c]):this[c]=i[c])}if(!o)for(h=0;h<this.animators.length;h++){var f=this.animators[h],g=f.targetName;f.getLoop()||f.__changeFinalValue(g?(e||i)[g]:e||i)}u&&this._transitionState(t,l,a)},n.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},n.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},n.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new z,this._attachComponent(t),this._textContent=t,this.markRedraw())},n.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),ae(this.textConfig,t),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=1;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,i=this._textGuide;e&&(e.__inHover=t),i&&(i.__inHover=t)},n.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},n.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},n.prototype.animate=function(t,e,i){var o=new Hr(t?this[t]:this,e,i);return t&&(o.targetName=t),this.addAnimator(o,t),o},n.prototype.addAnimator=function(t,e){var i=this.__zr,r=this;t.during(function(){r.updateDuringAnimation(e)}).done(function(){var o=r.animators,a=je(o,t);a>=0&&o.splice(a,1)}),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(t){this.markRedraw()},n.prototype.stopAnimation=function(t,e){for(var i=this.animators,r=i.length,o=[],a=0;a<r;a++){var s=i[a];t&&t!==s.scope?o.push(s):s.stop(e)}return this.animators=o,this},n.prototype.animateTo=function(t,e,i){Qi(this,t,e,i)},n.prototype.animateFrom=function(t,e,i){Qi(this,t,e,i,!0)},n.prototype._transitionState=function(t,e,i,r){for(var o=Qi(this,e,i,r),a=0;a<o.length;a++)o[a].__fromStateTransition=t},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var t=n.prototype;function e(i,r,o,a){function s(l,u){Object.defineProperty(u,0,{get:function(){return l[o]},set:function(h){l[o]=h}}),Object.defineProperty(u,1,{get:function(){return l[a]},set:function(h){l[a]=h}})}Object.defineProperty(t,i,{get:function(){return this[r]||s(this,this[r]=[]),this[r]},set:function(l){this[o]=l[0],this[a]=l[1],this[r]=l,s(this,l)}})}t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=1,Object.defineProperty&&(e("position","_legacyPos","x","y"),e("scale","_legacyScale","scaleX","scaleY"),e("origin","_legacyOrigin","originX","originY"))}(),n}();function Qi(n,t,e,i,r){var o=[];e1(n,"",n,t,e=e||{},i,o,r);var a=o.length,s=!1,l=e.done,u=e.aborted,h=function(){s=!0,--a<=0&&(s?l&&l():u&&u())},c=function(){--a<=0&&(s?l&&l():u&&u())};a||l&&l(),o.length>0&&e.during&&o[0].during(function(g,m){e.during(m)});for(var p=0;p<o.length;p++){var f=o[p];h&&f.done(h),c&&f.aborted(c),e.force&&f.duration(e.duration),f.start(e.easing)}return o}function Qn(n,t,e){for(var i=0;i<e;i++)n[i]=t[i]}function En(n,t,e){if(nn(t[e]))if(nn(n[e])||(n[e]=[]),bn(t[e])){var i=t[e].length;n[e].length!==i&&(n[e]=new t[e].constructor(i),Qn(n[e],t[e],i))}else{var r=t[e],o=n[e],a=r.length;if(nn(r[0]))for(var s=r[0].length,l=0;l<a;l++)o[l]?Qn(o[l],r[l],s):o[l]=Array.prototype.slice.call(r[l]);else Qn(o,r,a);o.length=r.length}else n[e]=t[e]}function e1(n,t,e,i,r,o,a,s){for(var l=tt(i),u=r.duration,h=r.delay,c=r.additive,p=r.setToFinal,f=!Oe(o),g=n.animators,m=[],y=0;y<l.length;y++){var x=l[y],b=i[x];if(null!=b&&null!=e[x]&&(f||o[x]))if(!Oe(b)||nn(b)||ve(b))m.push(x);else{if(t){s||(e[x]=b,n.updateDuringAnimation(t));continue}e1(n,x,e[x],b,r,o&&o[x],a,s)}else s||(e[x]=b,n.updateDuringAnimation(t),m.push(x))}var S=m.length;if(!c&&S)for(var M=0;M<g.length;M++)if((T=g[M]).targetName===t&&T.stopTracks(m)){var C=je(g,T);g.splice(C,1)}if(r.force||(S=(m=dt(m,function(N){return!((E=i[N])===(B=e[N])||nn(E)&&nn(B)&&function(G,H){var Y=G.length;if(Y!==H.length)return!1;for(var j=0;j<Y;j++)if(G[j]!==H[j])return!1;return!0}(E,B));var E,B})).length),S>0||r.force&&!a.length){var T,D=void 0,k=void 0,R=void 0;if(s)for(k={},p&&(D={}),M=0;M<S;M++)k[x=m[M]]=e[x],p?D[x]=i[x]:e[x]=i[x];else if(p)for(R={},M=0;M<S;M++)R[x=m[M]]=_o(e[x]),En(e,i,x);(T=new Hr(e,!1,!1,c?dt(g,function(N){return N.targetName===t}):null)).targetName=t,r.scope&&(T.scope=r.scope),p&&D&&T.whenWithKeys(0,D,m),R&&T.whenWithKeys(0,R,m),T.whenWithKeys(u??500,s?k:i,m).delay(h||0),n.addAnimator(T,t),a.push(T)}}Nt(_i,hi),Nt(_i,z);var He=function(n){function t(e){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(e),i}return Q(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===e)return i[r]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,i){if(e&&e!==this&&e.parent!==this&&i&&i.parent===this){var r=this._children,o=r.indexOf(i);o>=0&&(r.splice(o,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,i){var r=je(this._children,e);return r>=0&&this.replaceAt(i,r),this},t.prototype.replaceAt=function(e,i){var r=this._children,o=r[i];if(e&&e!==this&&e.parent!==this&&e!==o){r[i]=e,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var i=this.__zr;i&&i!==e.__zr&&e.addSelfToZr(i),i&&i.refresh()},t.prototype.remove=function(e){var i=this.__zr,r=this._children,o=je(r,e);return o<0||(r.splice(o,1),e.parent=null,i&&e.removeSelfFromZr(i),i&&i.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,i=this.__zr,r=0;r<e.length;r++){var o=e[r];i&&o.removeSelfFromZr(i),o.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,i){for(var r=this._children,o=0;o<r.length;o++)e.call(i,r[o],o);return this},t.prototype.traverse=function(e,i){for(var r=0;r<this._children.length;r++){var o=this._children[r],a=e.call(i,o);o.isGroup&&!a&&o.traverse(e,i)}return this},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].addSelfToZr(e)},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].removeSelfFromZr(e)},t.prototype.getBoundingRect=function(e){for(var i=new ue(0,0,0,0),r=e||this._children,o=[],a=null,s=0;s<r.length;s++){var l=r[s];if(!l.ignore&&!l.invisible){var u=l.getBoundingRect(),h=l.getLocalTransform(o);h?(ue.applyTransform(i,u,h),(a=a||i.clone()).union(i)):(a=a||u.clone()).union(u)}}return a||i},t}(_i);He.prototype.type="group";var Hc={},es={},pA=function(){function n(t,e,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=e,this.id=t;var o=new Sf,a=i.renderer||"canvas";Hc[a]||(a=tt(Hc)[0]),i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var s=new Hc[a](e,o,i,t),l=i.ssr||s.ssrOnly;this.storage=o,this.painter=s;var u=$e.node||$e.worker||l?null:new Wu(s.getViewportRoot(),s.root);this.handler=new Yn(o,s,u,s.root),this.animation=new Vc({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},n.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},n.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(e){if(!e)return!1;if("string"==typeof e)return qa(e,1)<.4;if(e.colorStops){for(var i=e.colorStops,r=0,o=i.length,a=0;a<o;a++)r+=qa(i[a].color,1);return(r/=o)<.4}return!1}(t)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(t){this._darkMode=t},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(t){var e,i=Ur();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=Ur();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},n.prototype.resize=function(t){this.painter.resize((t=t||{}).width,t.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},n.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},n.prototype.on=function(t,e,i){return this.handler.on(t,e,i),this},n.prototype.off=function(t,e){this.handler.off(t,e)},n.prototype.trigger=function(t,e){this.handler.trigger(t,e)},n.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof He&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete es[this.id]},n}();function Pf(n,t){var e=new pA(ct(),n,t);return es[e.id]=e,e}function t1(n,t){Hc[n]=t}var fA=Object.freeze({__proto__:null,init:Pf,dispose:function(n){n.dispose()},disposeAll:function(){for(var n in es)es.hasOwnProperty(n)&&es[n].dispose();es={}},getInstance:function(n){return es[n]},registerPainter:t1,version:"5.3.2"});function kt(n,t,e,i){var r=t[0],o=t[1],a=e[0],s=e[1],l=o-r,u=s-a;if(0===l)return 0===u?a:(a+s)/2;if(i)if(l>0){if(n<=r)return a;if(n>=o)return s}else{if(n>=r)return a;if(n<=o)return s}else{if(n===r)return a;if(n===o)return s}return(n-r)/l*u+a}function Te(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return De(n)?(e=n,e.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):null==n?NaN:+n;var e}function an(n,t,e){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),n=(+n).toFixed(t),e?n:+n}function Ei(n){return n.sort(function(t,e){return t-e}),n}function Cr(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(n*t)/t===n)return e;return n1(n)}function n1(n){var t=n.toString().toLowerCase(),e=t.indexOf("e"),i=e>0?+t.slice(e+1):0,r=e>0?e:t.length,o=t.indexOf(".");return Math.max(0,(o<0?0:r-1-o)-i)}function Of(n,t){var e=Math.log,i=Math.LN10,r=Math.floor(e(n[1]-n[0])/i),o=Math.round(e(Math.abs(t[1]-t[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function i1(n,t,e){if(!n[t])return 0;var i=_n(n,function(g,m){return g+(isNaN(m)?0:m)},0);if(0===i)return 0;for(var r=Math.pow(10,e),o=oe(n,function(g){return(isNaN(g)?0:g)/i*r*100}),a=100*r,s=oe(o,function(g){return Math.floor(g)}),l=_n(s,function(g,m){return g+m},0),u=oe(o,function(g,m){return g-s[m]});l<a;){for(var h=Number.NEGATIVE_INFINITY,c=null,p=0,f=u.length;p<f;++p)u[p]>h&&(h=u[p],c=p);++s[c],u[c]=0,++l}return s[t]/r}function mA(n,t){var e=Math.max(Cr(n),Cr(t)),i=n+t;return e>20?i:an(i,e)}var Rf=9007199254740991;function Nf(n){var t=2*Math.PI;return(n%t+t)%t}function Uu(n){return n>-1e-4&&n<1e-4}var vA=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function zi(n){if(n instanceof Date)return n;if(De(n)){var t=vA.exec(n);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function r1(n){return Math.pow(10,Uc(n))}function Uc(n){if(0===n)return 0;var t=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,t)>=10&&t++,t}function Ef(n,t){var e=Uc(n),i=Math.pow(10,e),r=n/i;return n=(t?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,e>=-20?+n.toFixed(e<0?-e:0):n}function Yc(n,t){var e=(n.length-1)*t+1,i=Math.floor(e),r=+n[i-1],o=e-i;return o?r+o*(n[i]-r):r}function zf(n){n.sort(function(l,u){return s(l,u,0)?-1:1});for(var t=-1/0,e=1,i=0;i<n.length;){for(var r=n[i].interval,o=n[i].close,a=0;a<2;a++)r[a]<=t&&(r[a]=t,o[a]=a?1:1-e),t=r[a],e=o[a];r[0]===r[1]&&o[0]*o[1]!=1?n.splice(i,1):i++}return n;function s(l,u,h){return l.interval[h]<u.interval[h]||l.interval[h]===u.interval[h]&&(l.close[h]-u.close[h]==(h?-1:1)||!h&&s(l,u,1))}}function jr(n){var t=parseFloat(n);return t==n&&(0!==t||!De(n)||n.indexOf("x")<=0)?t:NaN}function Bf(n){return!isNaN(jr(n))}function o1(){return Math.round(9*Math.random())}function a1(n,t){return 0===t?n:a1(t,n%t)}function s1(n,t){return null==n?t:null==t?n:n*t/a1(n,t)}function Dt(n){throw new Error(n)}function l1(n,t,e){return(t-n)*e+n}var u1="series\0";function zt(n){return n instanceof Array?n:null==n?[]:[n]}function ts(n,t,e){if(n){n[t]=n[t]||{},n.emphasis=n.emphasis||{},n.emphasis[t]=n.emphasis[t]||{};for(var i=0,r=e.length;i<r;i++){var o=e[i];!n.emphasis[t].hasOwnProperty(o)&&n[t].hasOwnProperty(o)&&(n.emphasis[t][o]=n[t][o])}}}var c1=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function hl(n){return!Oe(n)||ce(n)||n instanceof Date?n:n.value}function yA(n){return Oe(n)&&!(n instanceof Array)}function d1(n,t,e){var i="normalMerge"===e,r="replaceMerge"===e,o="replaceAll"===e;n=n||[],t=(t||[]).slice();var a=Ne();V(t,function(h,c){Oe(h)||(t[c]=null)});var s,l,h,c,p,f,u=function(h,c,p){var f=[];if("replaceAll"===p)return f;for(var g=0;g<h.length;g++){var m=h[g];m&&null!=m.id&&c.set(m.id,g),f.push({existing:"replaceMerge"===p||Xu(m)?null:m,newOption:null,keyInfo:null,brandNew:null})}return f}(n,a,e);return(i||r)&&(h=u,c=n,p=a,V(f=t,function(g,m){if(g&&null!=g.id){var y=Yu(g.id),x=p.get(y);if(null!=x){var b=h[x];mt(!b.newOption,'Duplicated option on id "'+y+'".'),b.newOption=g,b.existing=c[x],f[m]=null}}})),i&&function(h,c){V(c,function(p,f){if(p&&null!=p.name)for(var g=0;g<h.length;g++){var m=h[g].existing;if(!h[g].newOption&&m&&(null==m.id||null==p.id)&&!Xu(p)&&!Xu(m)&&p1("name",m,p))return h[g].newOption=p,void(c[f]=null)}})}(u,t),i||r?function(h,c,p){V(c,function(f){if(f){for(var g,m=0;(g=h[m])&&(g.newOption||Xu(g.existing)||g.existing&&null!=f.id&&!p1("id",f,g.existing));)m++;g?(g.newOption=f,g.brandNew=p):h.push({newOption:f,brandNew:p,existing:null,keyInfo:null}),m++}})}(u,t,r):o&&function(h,c){V(c,function(p){h.push({newOption:p,brandNew:!0,existing:null,keyInfo:null})})}(u,t),s=u,l=Ne(),V(s,function(h){var c=h.existing;c&&l.set(c.id,h)}),V(s,function(h){var c=h.newOption;mt(!c||null==c.id||!l.get(c.id)||l.get(c.id)===h,"id duplicates: "+(c&&c.id)),c&&null!=c.id&&l.set(c.id,h),!h.keyInfo&&(h.keyInfo={})}),V(s,function(h,c){var p=h.existing,f=h.newOption,g=h.keyInfo;if(Oe(f)){if(g.name=null!=f.name?Yu(f.name):p?p.name:u1+c,p)g.id=Yu(p.id);else if(null!=f.id)g.id=Yu(f.id);else{var m=0;do{g.id="\0"+g.name+"\0"+m++}while(l.get(g.id))}l.set(g.id,h)}}),u}function p1(n,t,e){var i=An(t[n],null),r=An(e[n],null);return null!=i&&null!=r&&i===r}function Yu(n){return An(n,"")}function An(n,t){return null==n?t:De(n)?n:ot(n)||Vo(n)?n+"":t}function Vf(n){var t=n.name;return!(!t||!t.indexOf(u1))}function Xu(n){return n&&null!=n.id&&0===Yu(n.id).indexOf("\0_ec_\0")}function ns(n,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?ce(t.dataIndex)?oe(t.dataIndex,function(e){return n.indexOfRawIndex(e)}):n.indexOfRawIndex(t.dataIndex):null!=t.name?ce(t.name)?oe(t.name,function(e){return n.indexOfName(e)}):n.indexOfName(t.name):void 0}function _t(){var n="__ec_inner_"+xA++;return function(t){return t[n]||(t[n]={})}}var xA=o1();function ju(n,t,e){var i=Ff(t,e),o=i.queryOptionMap,a=i.others,s=e?e.defaultMainType:null;return!i.mainTypeSpecified&&s&&o.set(s,{}),o.each(function(l,u){var h=Zu(n,u,l,{useDefault:s===u,enableAll:!e||null==e.enableAll||e.enableAll,enableNone:!e||null==e.enableNone||e.enableNone});a[u+"Models"]=h.models,a[u+"Model"]=h.models[0]}),a}function Ff(n,t){var e;if(De(n)){var i={};i[n+"Index"]=0,e=i}else e=n;var r=Ne(),o={},a=!1;return V(e,function(s,l){if("dataIndex"!==l&&"dataIndexInside"!==l){var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],h=u[1],c=(u[2]||"").toLowerCase();h&&c&&!(t&&t.includeMainTypes&&je(t.includeMainTypes,h)<0)&&(a=a||!!h,(r.get(h)||r.set(h,{}))[c]=s)}else o[l]=s}),{mainTypeSpecified:a,queryOptionMap:r,others:o}}var Mn={useDefault:!0,enableAll:!1,enableNone:!1},_A={useDefault:!1,enableAll:!0,enableNone:!0};function Zu(n,t,e,i){i=i||Mn;var r=e.index,o=e.id,a=e.name,s={models:null,specified:null!=r||null!=o||null!=a};if(!s.specified){var l=void 0;return s.models=i.useDefault&&(l=n.getComponent(t))?[l]:[],s}return"none"===r||!1===r?(mt(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===r&&(mt(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=a=null),s.models=n.queryComponents({mainType:t,index:r,id:o,name:a}),s)}function f1(n,t,e){n.setAttribute?n.setAttribute(t,e):n[t]=e}function Wf(n,t){var e=Ne(),i=[];return V(n,function(r){var o=t(r);(e.get(o)||(i.push(o),e.set(o,[]))).push(r)}),{keys:i,buckets:e}}function g1(n,t,e,i,r){var o=null==t||"auto"===t;if(null==i)return i;if(ot(i))return an(g=l1(e||0,i,r),o?Math.max(Cr(e||0),Cr(i)):t);if(De(i))return r<1?e:i;for(var a=[],s=e,l=i,u=Math.max(s?s.length:0,l.length),h=0;h<u;++h){var c=n.getDimensionInfo(h);if(c&&"ordinal"===c.type)a[h]=(r<1&&s?s:l)[h];else{var p=s&&s[h]?s[h]:0,f=l[h],g=l1(p,f,r);a[h]=an(g,o?Math.max(Cr(p),Cr(f)):t)}}return a}var is="___EC__COMPONENT__CONTAINER___",m1="___EC__EXTENDED_CLASS___";function Zr(n){var t={main:"",sub:""};if(n){var e=n.split(".");t.main=e[0]||"",t.sub=e[1]||""}return t}function Gf(n,t){n.$constructor=n,n.extend=function(e){var i,r,o=this;return ze(r=o)&&/^class\s/.test(Function.prototype.toString.call(r))?i=function(a){function s(){return a.apply(this,arguments)||this}return Q(s,a),s}(o):Gi(i=function(){(e.$constructor||o).apply(this,arguments)},this),ae(i.prototype,e),i[m1]=!0,i.extend=this.extend,i.superCall=wA,i.superApply=SA,i.superClass=o,i}}function v1(n,t){n.extend=t.extend}var bA=Math.round(10*Math.random());function wA(n,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];return this.superClass.prototype[t].apply(n,e)}function SA(n,t,e){return this.superClass.prototype[t].apply(n,e)}function Xc(n){var t={};n.registerClass=function(e){var i,a,s,r=e.type||e.prototype.type;if(r){mt(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i=r),'componentType "'+i+'" illegal'),e.prototype.type=r;var o=Zr(r);o.sub?o.sub!==is&&((a=o,s=t[a.main],s&&s[is]||((s=t[a.main]={})[is]=!0),s)[o.sub]=e):t[o.main]=e}return e},n.getClass=function(e,i,r){var o=t[e];if(o&&o[is]&&(o=i?o[i]:null),r&&!o)throw new Error(i?"Component "+e+"."+(i||"")+" is used but not imported.":e+".type should be specified.");return o},n.getClassesByMainType=function(e){var i=Zr(e),r=[],o=t[i.main];return o&&o[is]?V(o,function(a,s){s!==is&&r.push(a)}):r.push(o),r},n.hasClass=function(e){var i=Zr(e);return!!t[i.main]},n.getAllClassMainTypes=function(){var e=[];return V(t,function(i,r){e.push(r)}),e},n.hasSubTypes=function(e){var i=Zr(e),r=t[i.main];return r&&r[is]}}function rs(n,t){for(var e=0;e<n.length;e++)n[e][1]||(n[e][1]=n[e][0]);return t=t||!1,function(i,r,o){for(var a={},s=0;s<n.length;s++){var l=n[s][1];if(!(r&&je(r,l)>=0||o&&je(o,l)<0)){var u=i.getShallow(l,t);null!=u&&(a[n[s][0]]=u)}}return a}}var MA=rs([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),IA=function(){function n(){}return n.prototype.getAreaStyle=function(t,e){return MA(this,t,e)},n}(),Hf=new wr(50);function CA(n){if("string"==typeof n){var t=Hf.get(n);return t&&t.image}return n}function Uf(n,t,e,i,r){if(n){if("string"==typeof n){if(t&&t.__zrImageSrc===n||!e)return t;var o=Hf.get(n),a={hostEl:e,cb:i,cbPayload:r};return o?!jc(t=o.image)&&o.pending.push(a):((t=Je.loadImage(n,y1,y1)).__zrImageSrc=n,Hf.put(n,t.__cachedImgObj={image:t,pending:[a]})),t}return n}return t}function y1(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<n.pending.length;t++){var e=n.pending[t],i=e.cb;i&&i(this,e.cbPayload),e.hostEl.dirty()}n.pending.length=0}function jc(n){return n&&n.width&&n.height}var Yf=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function x1(n,t,e,i,r){if(!t)return"";var o=(n+"").split("\n");r=_1(t,e,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=b1(o[a],r);return o.join("\n")}function _1(n,t,e,i){var r=ae({},i=i||{});r.font=t,e=pe(e,"..."),r.maxIterations=pe(i.maxIterations,2);var o=r.minChar=pe(i.minChar,0);r.cnCharWidth=Ge("\u56fd",t);var a=r.ascCharWidth=Ge("a",t);r.placeholder=pe(i.placeholder,"");for(var s=n=Math.max(0,n-1),l=0;l<o&&s>=a;l++)s-=a;var u=Ge(e,t);return u>s&&(e="",u=0),s=n-u,r.ellipsis=e,r.ellipsisWidth=u,r.contentWidth=s,r.containerWidth=n,r}function b1(n,t){var e=t.containerWidth,i=t.font,r=t.contentWidth;if(!e)return"";var o=Ge(n,i);if(o<=e)return n;for(var a=0;;a++){if(o<=r||a>=t.maxIterations){n+=t.ellipsis;break}var s=0===a?TA(n,r,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(n.length*r/o):0;o=Ge(n=n.substr(0,s),i)}return""===n&&(n=t.placeholder),n}function TA(n,t,e,i){for(var r=0,o=0,a=n.length;o<a&&r<t;o++){var s=n.charCodeAt(o);r+=0<=s&&s<=127?e:i}return o}var DA=function(){},w1=function(n){this.tokens=[],n&&(this.tokens=n)},AA=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function Xf(n,t,e,i,r){var o,a,s=""===t,l=r&&e.rich[r]||{},u=n.lines,h=l.font||e.font,c=!1;if(i){var p=l.padding,f=p?p[1]+p[3]:0;if(null!=l.width&&"auto"!==l.width){var g=Tt(l.width,i.width)+f;u.length>0&&g+i.accumWidth>i.width&&(o=t.split("\n"),c=!0),i.accumWidth=g}else{var m=S1(t,h,i.width,i.breakAll,i.accumWidth);i.accumWidth=m.accumWidth+f,a=m.linesWidths,o=m.lines}}else o=t.split("\n");for(var y=0;y<o.length;y++){var x=o[y],b=new DA;if(b.styleName=r,b.text=x,b.isLineHolder=!x&&!s,b.width="number"==typeof l.width?l.width:a?a[y]:Ge(x,h),y||c)u.push(new w1([b]));else{var S=(u[u.length-1]||(u[0]=new w1)).tokens,M=S.length;1===M&&S[0].isLineHolder?S[0]=b:(x||!M||s)&&S.push(b)}}}var kA=_n(",&?/;] ".split(""),function(n,t){return n[t]=!0,n},{});function LA(n){return!((e=n.charCodeAt(0))>=33&&e<=383&&!kA[n]);var e}function S1(n,t,e,i,r){for(var o=[],a=[],s="",l="",u=0,h=0,c=0;c<n.length;c++){var p=n.charAt(c);if("\n"!==p){var f=Ge(p,t),g=!i&&!LA(p);(o.length?h+f>e:r+h+f>e)?h?(s||l)&&(g?(s||(s=l,l="",h=u=0),o.push(s),a.push(h-u),l+=p,s="",h=u+=f):(l&&(s+=l,l="",u=0),o.push(s),a.push(h),s=p,h=f)):g?(o.push(l),a.push(u),l=p,u=f):(o.push(p),a.push(f)):(h+=f,g?(l+=p,u+=f):(l&&(s+=l,l="",u=0),s+=p))}else l&&(s+=l,h+=u),o.push(s),a.push(h),s="",l="",u=0,h=0}return o.length||s||(s=n,l="",u=0),l&&(s+=l),s&&(o.push(s),a.push(h)),1===o.length&&(h+=r),{accumWidth:h,lines:o,linesWidths:a}}var jf="__zr_style_"+Math.round(10*Math.random()),os={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Zc={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};os[jf]=!0;var M1=["z","z2","invisible"],PA=["invisible"],er=function(n){function t(i){return n.call(this,i)||this}var e;return Q(t,n),t.prototype._init=function(i){for(var r=tt(i),o=0;o<r.length;o++){var a=r[o];"style"===a?this.useStyle(i[a]):n.prototype.attrKV.call(this,a,i[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(i,r,o,a){var h,c,p,s=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(c=i,p=r,Zf.copy((h=this).getBoundingRect()),h.transform&&Zf.applyTransform(h.transform),qf.width=c,qf.height=p,!Zf.intersect(qf))||s&&!s[0]&&!s[3])return!1;if(o&&this.__clipPaths)for(var l=0;l<this.__clipPaths.length;++l)if(this.__clipPaths[l].isZeroArea())return!1;if(a&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},t.prototype.contain=function(i,r){return this.rectContain(i,r)},t.prototype.traverse=function(i,r){i.call(r,this)},t.prototype.rectContain=function(i,r){var o=this.transformCoordToLocal(i,r);return this.getBoundingRect().contain(o[0],o[1])},t.prototype.getPaintRect=function(){var i=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,o=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,l=a.shadowOffsetX||0,u=a.shadowOffsetY||0;i=this._paintRect||(this._paintRect=new ue(0,0,0,0)),r?ue.applyTransform(i,o,r):i.copy(o),(s||l||u)&&(i.width+=2*s+Math.abs(l),i.height+=2*s+Math.abs(u),i.x=Math.min(i.x,i.x+l-s),i.y=Math.min(i.y,i.y+u-s));var h=this.dirtyRectTolerance;i.isZero()||(i.x=Math.floor(i.x-h),i.y=Math.floor(i.y-h),i.width=Math.ceil(i.width+1+2*h),i.height=Math.ceil(i.height+1+2*h))}return i},t.prototype.setPrevPaintRect=function(i){i?(this._prevPaintRect=this._prevPaintRect||new ue(0,0,0,0),this._prevPaintRect.copy(i)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(i){return this.animate("style",i)},t.prototype.updateDuringAnimation=function(i){"style"===i?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(i,r){"style"!==i?n.prototype.attrKV.call(this,i,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(i,r){return"string"==typeof i?this.style[i]=r:ae(this.style,i),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(i){i||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(i){return ki(os,i)},t.prototype.useStyle=function(i){i[jf]||(i=this.createStyle(i)),this.__inHover?this.__hoverStyle=i:this.style=i,this.dirtyStyle()},t.prototype.isStyleObject=function(i){return i[jf]},t.prototype._innerSaveToNormal=function(i){n.prototype._innerSaveToNormal.call(this,i);var r=this._normalState;i.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(i,r,M1)},t.prototype._applyStateObj=function(i,r,o,a,s,l){n.prototype._applyStateObj.call(this,i,r,o,a,s,l);var u,h=!(r&&a);if(r&&r.style?s?a?u=r.style:(u=this._mergeStyle(this.createStyle(),o.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:o.style),this._mergeStyle(u,r.style)):h&&(u=o.style),u)if(s){var c=this.style;if(this.style=this.createStyle(h?{}:c),h)for(var p=tt(c),f=0;f<p.length;f++)(m=p[f])in u&&(u[m]=u[m],this.style[m]=c[m]);var g=tt(u);for(f=0;f<g.length;f++){var m=g[f];this.style[m]=this.style[m]}this._transitionState(i,{style:u},l,this.getAnimationStyleProps())}else this.useStyle(u);var y=this.__inHover?PA:M1;for(f=0;f<y.length;f++)m=y[f],r&&null!=r[m]?this[m]=r[m]:h&&null!=o[m]&&(this[m]=o[m])},t.prototype._mergeStates=function(i){for(var r,o=n.prototype._mergeStates.call(this,i),a=0;a<i.length;a++){var s=i[a];s.style&&this._mergeStyle(r=r||{},s.style)}return r&&(o.style=r),o},t.prototype._mergeStyle=function(i,r){return ae(i,r),i},t.prototype.getAnimationStyleProps=function(){return Zc},t.initDefaultProps=((e=t.prototype).type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,void(e.__dirty=3)),t}(_i),Zf=new ue(0,0,0,0),qf=new ue(0,0,0,0),bi=Math.min,wi=Math.max,Kf=Math.sin,$f=Math.cos,as=2*Math.PI,qc=sn(),Kc=sn(),$c=sn();function Jc(n,t,e){if(0!==n.length){for(var i=n[0],r=i[0],o=i[0],a=i[1],s=i[1],l=1;l<n.length;l++)r=bi(r,(i=n[l])[0]),o=wi(o,i[0]),a=bi(a,i[1]),s=wi(s,i[1]);t[0]=r,t[1]=a,e[0]=o,e[1]=s}}function I1(n,t,e,i,r,o){r[0]=bi(n,e),r[1]=bi(t,i),o[0]=wi(n,e),o[1]=wi(t,i)}var C1=[],T1=[];function OA(n,t,e,i,r,o,a,s,l,u){var h=el,c=dn,p=h(n,e,r,a,C1);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var f=0;f<p;f++){var g=c(n,e,r,a,C1[f]);l[0]=bi(g,l[0]),u[0]=wi(g,u[0])}for(p=h(t,i,o,s,T1),f=0;f<p;f++){var m=c(t,i,o,s,T1[f]);l[1]=bi(m,l[1]),u[1]=wi(m,u[1])}l[0]=bi(n,l[0]),u[0]=wi(n,u[0]),l[0]=bi(a,l[0]),u[0]=wi(a,u[0]),l[1]=bi(t,l[1]),u[1]=wi(t,u[1]),l[1]=bi(s,l[1]),u[1]=wi(s,u[1])}function RA(n,t,e,i,r,o,a,s){var l=Au,u=Dn,h=wi(bi(l(n,e,r),1),0),c=wi(bi(l(t,i,o),1),0),p=u(n,e,r,h),f=u(t,i,o,c);a[0]=bi(n,r,p),a[1]=bi(t,o,f),s[0]=wi(n,r,p),s[1]=wi(t,o,f)}function NA(n,t,e,i,r,o,a,s,l){var u=yr,h=Li,c=Math.abs(r-o);if(c%as<1e-4&&c>1e-4)return s[0]=n-e,s[1]=t-i,l[0]=n+e,void(l[1]=t+i);if(qc[0]=$f(r)*e+n,qc[1]=Kf(r)*i+t,Kc[0]=$f(o)*e+n,Kc[1]=Kf(o)*i+t,u(s,qc,Kc),h(l,qc,Kc),(r%=as)<0&&(r+=as),(o%=as)<0&&(o+=as),r>o&&!a?o+=as:r<o&&a&&(r+=as),a){var p=o;o=r,r=p}for(var f=0;f<o;f+=Math.PI/2)f>r&&($c[0]=$f(f)*e+n,$c[1]=Kf(f)*i+t,u(s,$c,s),h(l,$c,l))}var Gt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},ss=[],ls=[],qr=[],ia=[],Kr=[],$r=[],Jf=Math.min,Qf=Math.max,us=Math.cos,hs=Math.sin,So=Math.abs,eg=Math.PI,ra=2*eg,tg=typeof Float32Array<"u",qu=[];function ng(n){return Math.round(n/eg*1e8)/1e8%2*eg}function D1(n,t){var e=ng(n[0]);e<0&&(e+=ra);var r=n[1];r+=e-n[0],!t&&r-e>=ra?r=e+ra:t&&e-r>=ra?r=e-ra:!t&&e>r?r=e+(ra-ng(e-r)):t&&e<r&&(r=e-(ra-ng(r-e))),n[0]=e,n[1]=r}var Jr=function(){function n(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(t,e,i){(i=i||0)>0&&(this._ux=So(i/Ja/t)||0,this._uy=So(i/Ja/e)||0)},n.prototype.setDPR=function(t){this.dpr=t},n.prototype.setContext=function(t){this._ctx=t},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(Gt.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},n.prototype.lineTo=function(t,e){var i=So(t-this._xi),r=So(e-this._yi),o=i>this._ux||r>this._uy;if(this.addData(Gt.L,t,e),this._ctx&&o&&this._ctx.lineTo(t,e),o)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var a=i*i+r*r;a>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=a)}return this},n.prototype.bezierCurveTo=function(t,e,i,r,o,a){return this._drawPendingPt(),this.addData(Gt.C,t,e,i,r,o,a),this._ctx&&this._ctx.bezierCurveTo(t,e,i,r,o,a),this._xi=o,this._yi=a,this},n.prototype.quadraticCurveTo=function(t,e,i,r){return this._drawPendingPt(),this.addData(Gt.Q,t,e,i,r),this._ctx&&this._ctx.quadraticCurveTo(t,e,i,r),this._xi=i,this._yi=r,this},n.prototype.arc=function(t,e,i,r,o,a){this._drawPendingPt(),qu[0]=r,qu[1]=o,D1(qu,a);var s=(o=qu[1])-(r=qu[0]);return this.addData(Gt.A,t,e,i,i,r,s,0,a?0:1),this._ctx&&this._ctx.arc(t,e,i,r,o,a),this._xi=us(o)*i+t,this._yi=hs(o)*i+e,this},n.prototype.arcTo=function(t,e,i,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,i,r,o),this},n.prototype.rect=function(t,e,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,i,r),this.addData(Gt.R,t,e,i,r),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(Gt.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&t.closePath(),this._xi=e,this._yi=i,this},n.prototype.fill=function(t){t&&t.fill(),this.toStatic()},n.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!tg||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},n.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,r=this._len,o=0;o<e;o++)i+=t[o].len();for(tg&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i)),o=0;o<e;o++)for(var a=t[o].data,s=0;s<a.length;s++)this.data[r++]=a[s];this._len=r},n.prototype.addData=function(t,e,i,r,o,a,s,l,u){if(this._saveData){var h=this.data;this._len+arguments.length>h.length&&(this._expandData(),h=this.data);for(var c=0;c<arguments.length;c++)h[this._len++]=arguments[c]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,tg&&this._len>11&&(this.data=new Float32Array(t)))}},n.prototype.getBoundingRect=function(){qr[0]=qr[1]=Kr[0]=Kr[1]=Number.MAX_VALUE,ia[0]=ia[1]=$r[0]=$r[1]=-Number.MAX_VALUE;var t,e=this.data,i=0,r=0,o=0,a=0;for(t=0;t<this._len;){var s=e[t++],l=1===t;switch(l&&(o=i=e[t],a=r=e[t+1]),s){case Gt.M:i=o=e[t++],r=a=e[t++],Kr[0]=o,Kr[1]=a,$r[0]=o,$r[1]=a;break;case Gt.L:I1(i,r,e[t],e[t+1],Kr,$r),i=e[t++],r=e[t++];break;case Gt.C:OA(i,r,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],Kr,$r),i=e[t++],r=e[t++];break;case Gt.Q:RA(i,r,e[t++],e[t++],e[t],e[t+1],Kr,$r),i=e[t++],r=e[t++];break;case Gt.A:var u=e[t++],h=e[t++],c=e[t++],p=e[t++],f=e[t++],g=e[t++]+f;t+=1;var m=!e[t++];l&&(o=us(f)*c+u,a=hs(f)*p+h),NA(u,h,c,p,f,g,m,Kr,$r),i=us(g)*c+u,r=hs(g)*p+h;break;case Gt.R:I1(o=i=e[t++],a=r=e[t++],o+e[t++],a+e[t++],Kr,$r);break;case Gt.Z:i=o,r=a}yr(qr,qr,Kr),Li(ia,ia,$r)}return 0===t&&(qr[0]=qr[1]=ia[0]=ia[1]=0),new ue(qr[0],qr[1],ia[0]-qr[0],ia[1]-qr[1])},n.prototype._calculateLength=function(){var t=this.data,e=this._len,i=this._ux,r=this._uy,o=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,h=0,c=0,p=0;p<e;){var f=t[p++],g=1===p;g&&(s=o=t[p],l=a=t[p+1]);var m=-1;switch(f){case Gt.M:o=s=t[p++],a=l=t[p++];break;case Gt.L:var y=t[p++],x=(M=t[p++])-a;(So(H=y-o)>i||So(x)>r||p===e-1)&&(m=Math.sqrt(H*H+x*x),o=y,a=M);break;case Gt.C:var b=t[p++],S=t[p++],M=(y=t[p++],t[p++]),C=t[p++],T=t[p++];m=Du(o,a,b,S,y,M,C,T,10),o=C,a=T;break;case Gt.Q:m=pt(o,a,b=t[p++],S=t[p++],y=t[p++],M=t[p++],10),o=y,a=M;break;case Gt.A:var D=t[p++],k=t[p++],R=t[p++],N=t[p++],E=t[p++],B=t[p++],G=B+E;p+=1,p++,g&&(s=us(E)*R+D,l=hs(E)*N+k),m=Qf(R,N)*Jf(ra,Math.abs(B)),o=us(G)*R+D,a=hs(G)*N+k;break;case Gt.R:s=o=t[p++],l=a=t[p++],m=2*t[p++]+2*t[p++];break;case Gt.Z:var H=s-o;x=l-a,m=Math.sqrt(H*H+x*x),o=s,a=l}m>=0&&(u[c++]=m,h+=m)}return this._pathLen=h,h},n.prototype.rebuildPath=function(t,e){var i,r,o,a,s,l,u,h,c,p,f=this.data,g=this._ux,m=this._uy,y=this._len,x=e<1,b=0,S=0,M=0;if(!x||(this._pathSegLen||this._calculateLength(),u=this._pathSegLen,h=e*this._pathLen))e:for(var C=0;C<y;){var T=f[C++],D=1===C;switch(D&&(i=o=f[C],r=a=f[C+1]),T!==Gt.L&&M>0&&(t.lineTo(c,p),M=0),T){case Gt.M:i=o=f[C++],r=a=f[C++],t.moveTo(o,a);break;case Gt.L:s=f[C++],l=f[C++];var k=So(s-o),R=So(l-a);if(k>g||R>m){if(x){if(b+(Ye=u[S++])>h){var N=(h-b)/Ye;t.lineTo(o*(1-N)+s*N,a*(1-N)+l*N);break e}b+=Ye}t.lineTo(s,l),o=s,a=l,M=0}else{var E=k*k+R*R;E>M&&(c=s,p=l,M=E)}break;case Gt.C:var B=f[C++],G=f[C++],H=f[C++],Y=f[C++],j=f[C++],Z=f[C++];if(x){if(b+(Ye=u[S++])>h){Zi(o,B,H,j,N=(h-b)/Ye,ss),Zi(a,G,Y,Z,N,ls),t.bezierCurveTo(ss[1],ls[1],ss[2],ls[2],ss[3],ls[3]);break e}b+=Ye}t.bezierCurveTo(B,G,H,Y,j,Z),o=j,a=Z;break;case Gt.Q:if(B=f[C++],G=f[C++],H=f[C++],Y=f[C++],x){if(b+(Ye=u[S++])>h){Yo(o,B,H,N=(h-b)/Ye,ss),Yo(a,G,Y,N,ls),t.quadraticCurveTo(ss[1],ls[1],ss[2],ls[2]);break e}b+=Ye}t.quadraticCurveTo(B,G,H,Y),o=H,a=Y;break;case Gt.A:var q=f[C++],J=f[C++],te=f[C++],ne=f[C++],le=f[C++],ye=f[C++],ie=f[C++],he=!f[C++],xe=te>ne?te:ne,be=So(te-ne)>.001,ge=le+ye,we=!1;if(x&&(b+(Ye=u[S++])>h&&(ge=le+ye*(h-b)/Ye,we=!0),b+=Ye),be&&t.ellipse?t.ellipse(q,J,te,ne,ie,le,ge,he):t.arc(q,J,xe,le,ge,he),we)break e;D&&(i=us(le)*te+q,r=hs(le)*ne+J),o=us(ge)*te+q,a=hs(ge)*ne+J;break;case Gt.R:i=o=f[C],r=a=f[C+1],s=f[C++],l=f[C++];var me=f[C++],Ce=f[C++];if(x){if(b+(Ye=u[S++])>h){var Pe=h-b;t.moveTo(s,l),t.lineTo(s+Jf(Pe,me),l),(Pe-=me)>0&&t.lineTo(s+me,l+Jf(Pe,Ce)),(Pe-=Ce)>0&&t.lineTo(s+Qf(me-Pe,0),l+Ce),(Pe-=me)>0&&t.lineTo(s,l+Qf(Ce-Pe,0));break e}b+=Ye}t.rect(s,l,me,Ce);break;case Gt.Z:if(x){var Ye;if(b+(Ye=u[S++])>h){t.lineTo(o*(1-(N=(h-b)/Ye))+i*N,a*(1-N)+r*N);break e}b+=Ye}t.closePath(),o=i,a=r}}},n.prototype.clone=function(){var t=new n,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},n.CMD=Gt,n.initDefaultProps=((t=n.prototype)._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,void(t._version=0)),n;var t}();function oa(n,t,e,i,r,o,a){if(0===r)return!1;var l,s=r;if(a>t+s&&a>i+s||a<t-s&&a<i-s||o>n+s&&o>e+s||o<n-s&&o<e-s)return!1;if(n===e)return Math.abs(o-n)<=s/2;var u=(l=(t-i)/(n-e))*o-a+(n*i-e*t)/(n-e);return u*u/(l*l+1)<=s/2*s/2}function EA(n,t,e,i,r,o,a,s,l,u,h){if(0===l)return!1;var c=l;return!(h>t+c&&h>i+c&&h>o+c&&h>s+c||h<t-c&&h<i-c&&h<o-c&&h<s-c||u>n+c&&u>e+c&&u>r+c&&u>a+c||u<n-c&&u<e-c&&u<r-c&&u<a-c)&&Tu(n,t,e,i,r,o,a,s,u,h,null)<=c/2}function A1(n,t,e,i,r,o,a,s,l){if(0===a)return!1;var u=a;return!(l>t+u&&l>i+u&&l>o+u||l<t-u&&l<i-u&&l<o-u||s>n+u&&s>e+u&&s>r+u||s<n-u&&s<e-u&&s<r-u)&&br(n,t,e,i,r,o,s,l,null)<=u/2}var k1=2*Math.PI;function aa(n){return(n%=k1)<0&&(n+=k1),n}var Ku=2*Math.PI;function zA(n,t,e,i,r,o,a,s,l){if(0===a)return!1;var u=a;s-=n,l-=t;var h=Math.sqrt(s*s+l*l);if(h-u>e||h+u<e)return!1;if(Math.abs(i-r)%Ku<1e-4)return!0;if(o){var c=i;i=aa(r),r=aa(c)}else i=aa(i),r=aa(r);i>r&&(r+=Ku);var p=Math.atan2(l,s);return p<0&&(p+=Ku),p>=i&&p<=r||p+Ku>=i&&p+Ku<=r}function Mo(n,t,e,i,r,o){if(o>t&&o>i||o<t&&o<i||i===t)return 0;var a=(o-t)/(i-t),s=i<t?1:-1;1!==a&&0!==a||(s=i<t?.5:-.5);var l=a*(e-n)+n;return l===r?1/0:l>r?s:0}var sa=Jr.CMD,cs=2*Math.PI,pi=[-1,-1,-1],tr=[-1,-1];function BA(n,t,e,i,r,o,a,s,l,u){if(u>t&&u>i&&u>o&&u>s||u<t&&u<i&&u<o&&u<s)return 0;var h,c=Qs(t,i,o,s,u,pi);if(0===c)return 0;for(var p=0,f=-1,g=void 0,m=void 0,y=0;y<c;y++){var x=pi[y],b=0===x||1===x?.5:1;dn(n,e,r,a,x)<l||(f<0&&(f=el(t,i,o,s,tr),tr[1]<tr[0]&&f>1&&(h=tr[0],tr[0]=tr[1],tr[1]=h),g=dn(t,i,o,s,tr[0]),f>1&&(m=dn(t,i,o,s,tr[1]))),p+=2===f?x<tr[0]?g<t?b:-b:x<tr[1]?m<g?b:-b:s<m?b:-b:x<tr[0]?g<t?b:-b:s<g?b:-b)}return p}function VA(n,t,e,i,r,o,a,s){if(s>t&&s>i&&s>o||s<t&&s<i&&s<o)return 0;var l=function(g,m,y,x,b){var S=g-2*m+y,M=2*(m-g),C=g-x,T=0;if(_r(S))Ga(M)&&(k=-C/M)>=0&&k<=1&&(b[T++]=k);else{var D=M*M-4*S*C;if(_r(D))(k=-M/(2*S))>=0&&k<=1&&(b[T++]=k);else if(D>0){var k,R=di(D),N=(-M-R)/(2*S);(k=(-M+R)/(2*S))>=0&&k<=1&&(b[T++]=k),N>=0&&N<=1&&(b[T++]=N)}}return T}(t,i,o,s,pi);if(0===l)return 0;var u=Au(t,i,o);if(u>=0&&u<=1){for(var h=0,c=Dn(t,i,o,u),p=0;p<l;p++){var f=0===pi[p]||1===pi[p]?.5:1;Dn(n,e,r,pi[p])<a||(h+=pi[p]<u?c<t?f:-f:o<c?f:-f)}return h}return f=0===pi[0]||1===pi[0]?.5:1,Dn(n,e,r,pi[0])<a?0:o<t?f:-f}function FA(n,t,e,i,r,o,a,s){if((s-=t)>e||s<-e)return 0;var l=Math.sqrt(e*e-s*s);pi[0]=-l,pi[1]=l;var u=Math.abs(i-r);if(u<1e-4)return 0;if(u>=cs-1e-4){i=0,r=cs;var h=o?1:-1;return a>=pi[0]+n&&a<=pi[1]+n?h:0}if(i>r){var c=i;i=r,r=c}i<0&&(i+=cs,r+=cs);for(var p=0,f=0;f<2;f++){var g=pi[f];if(g+n>a){var m=Math.atan2(s,g);h=o?1:-1,m<0&&(m=cs+m),(m>=i&&m<=r||m+cs>=i&&m+cs<=r)&&(m>Math.PI/2&&m<1.5*Math.PI&&(h=-h),p+=h)}}return p}function L1(n,t,e,i,r){for(var o,a,u=n.data,h=n.len(),c=0,p=0,f=0,g=0,m=0,y=0;y<h;){var x=u[y++],b=1===y;switch(x===sa.M&&y>1&&(e||(c+=Mo(p,f,g,m,i,r))),b&&(g=p=u[y],m=f=u[y+1]),x){case sa.M:p=g=u[y++],f=m=u[y++];break;case sa.L:if(e){if(oa(p,f,u[y],u[y+1],t,i,r))return!0}else c+=Mo(p,f,u[y],u[y+1],i,r)||0;p=u[y++],f=u[y++];break;case sa.C:if(e){if(EA(p,f,u[y++],u[y++],u[y++],u[y++],u[y],u[y+1],t,i,r))return!0}else c+=BA(p,f,u[y++],u[y++],u[y++],u[y++],u[y],u[y+1],i,r)||0;p=u[y++],f=u[y++];break;case sa.Q:if(e){if(A1(p,f,u[y++],u[y++],u[y],u[y+1],t,i,r))return!0}else c+=VA(p,f,u[y++],u[y++],u[y],u[y+1],i,r)||0;p=u[y++],f=u[y++];break;case sa.A:var S=u[y++],M=u[y++],C=u[y++],T=u[y++],D=u[y++],k=u[y++];y+=1;var R=!!(1-u[y++]);o=Math.cos(D)*C+S,a=Math.sin(D)*T+M,b?(g=o,m=a):c+=Mo(p,f,o,a,i,r);var N=(i-S)*T/C+S;if(e){if(zA(S,M,T,D,D+k,R,t,N,r))return!0}else c+=FA(S,M,T,D,D+k,R,N,r);p=Math.cos(D+k)*C+S,f=Math.sin(D+k)*T+M;break;case sa.R:if(g=p=u[y++],m=f=u[y++],o=g+u[y++],a=m+u[y++],e){if(oa(g,m,o,m,t,i,r)||oa(o,m,o,a,t,i,r)||oa(o,a,g,a,t,i,r)||oa(g,a,g,m,t,i,r))return!0}else c+=Mo(o,m,o,a,i,r),c+=Mo(g,a,g,m,i,r);break;case sa.Z:if(e){if(oa(p,f,g,m,t,i,r))return!0}else c+=Mo(p,f,g,m,i,r);p=g,f=m}}return e||Math.abs(f-m)<1e-4||(c+=Mo(p,f,g,m,i,r)||0),0!==c}var Qc=Ee({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},os),WA={style:Ee({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Zc.style)},ig=W.concat(["invisible","culling","z","z2","zlevel","parent"]),at=function(n){function t(i){return n.call(this,i)||this}var e;return Q(t,n),t.prototype.update=function(){var i=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var o=this._decalEl=this._decalEl||new t;o.buildPath===t.prototype.buildPath&&(o.buildPath=function(u){i.buildPath(u,i.shape)}),o.silent=!0;var a=o.style;for(var s in r)a[s]!==r[s]&&(a[s]=r[s]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var l=0;l<ig.length;++l)o[ig[l]]=this[ig[l]];o.__dirty|=1}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(i){var r=tt(i);this.shape=this.getDefaultShape();var o=this.getDefaultStyle();o&&this.useStyle(o);for(var a=0;a<r.length;a++){var s=r[a],l=i[s];"style"===s?this.style?ae(this.style,l):this.useStyle(l):"shape"===s?ae(this.shape,l):n.prototype.attrKV.call(this,s,l)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var i=this.style.fill;if("none"!==i){if(De(i)){var r=qa(i,0);return r>.5?Hu:r>.2?"#eee":Oi}if(i)return Oi}return Hu},t.prototype.getInsideTextStroke=function(i){var r=this.style.fill;if(De(r)){var o=this.__zr;if(!(!o||!o.isDarkMode())==qa(i,0)<.4)return r}},t.prototype.buildPath=function(i,r,o){},t.prototype.pathUpdated=function(){this.__dirty&=-5},t.prototype.getUpdatedPathProxy=function(i){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,i),this.path},t.prototype.createPathProxy=function(){this.path=new Jr(!1)},t.prototype.hasStroke=function(){var i=this.style,r=i.stroke;return!(null==r||"none"===r||!(i.lineWidth>0))},t.prototype.hasFill=function(){var i=this.style.fill;return null!=i&&"none"!==i},t.prototype.getBoundingRect=function(){var i=this._rect,r=this.style,o=!i;if(o){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||4&this.__dirty)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),i=s.getBoundingRect()}if(this._rect=i,this.hasStroke()&&this.path&&this.path.len()>0){var l=this._rectStroke||(this._rectStroke=i.clone());if(this.__dirty||o){l.copy(i);var u=r.strokeNoScale?this.getLineScale():1,h=r.lineWidth;this.hasFill()||(h=Math.max(h,this.strokeContainThreshold??4)),u>1e-10&&(l.width+=h/u,l.height+=h/u,l.x-=h/u/2,l.y-=h/u/2)}return l}return i},t.prototype.contain=function(i,r){var o=this.transformCoordToLocal(i,r),a=this.getBoundingRect(),s=this.style;if(a.contain(i=o[0],r=o[1])){var l=this.path;if(this.hasStroke()){var u=s.lineWidth,h=s.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),L1(l,u/h,!0,i,r)))return!0}if(this.hasFill())return L1(l,0,!1,i,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(i){return this.animate("shape",i)},t.prototype.updateDuringAnimation=function(i){"style"===i?this.dirtyStyle():"shape"===i?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(i,r){"shape"===i?this.setShape(r):n.prototype.attrKV.call(this,i,r)},t.prototype.setShape=function(i,r){var o=this.shape;return o||(o=this.shape={}),"string"==typeof i?o[i]=r:ae(o,i),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(4&this.__dirty)},t.prototype.createStyle=function(i){return ki(Qc,i)},t.prototype._innerSaveToNormal=function(i){n.prototype._innerSaveToNormal.call(this,i);var r=this._normalState;i.shape&&!r.shape&&(r.shape=ae({},this.shape))},t.prototype._applyStateObj=function(i,r,o,a,s,l){n.prototype._applyStateObj.call(this,i,r,o,a,s,l);var u,h=!(r&&a);if(r&&r.shape?s?a?u=r.shape:(u=ae({},o.shape),ae(u,r.shape)):(u=ae({},a?this.shape:o.shape),ae(u,r.shape)):h&&(u=o.shape),u)if(s){this.shape=ae({},this.shape);for(var c={},p=tt(u),f=0;f<p.length;f++){var g=p[f];"object"==typeof u[g]?this.shape[g]=u[g]:c[g]=u[g]}this._transitionState(i,{shape:c},l)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(i){for(var r,o=n.prototype._mergeStates.call(this,i),a=0;a<i.length;a++){var s=i[a];s.shape&&this._mergeStyle(r=r||{},s.shape)}return r&&(o.shape=r),o},t.prototype.getAnimationStyleProps=function(){return WA},t.prototype.isZeroArea=function(){return!1},t.extend=function(i){var r=function(a){function s(l){var u=a.call(this,l)||this;return i.init&&i.init.call(u,l),u}return Q(s,a),s.prototype.getDefaultStyle=function(){return Re(i.style)},s.prototype.getDefaultShape=function(){return Re(i.shape)},s}(t);for(var o in i)"function"==typeof i[o]&&(r.prototype[o]=i[o]);return r},t.initDefaultProps=((e=t.prototype).type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,void(e.__dirty=7)),t}(er),GA=Ee({strokeFirst:!0,font:Fe,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Qc),cl=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.hasStroke=function(){var e=this.style,i=e.stroke;return null!=i&&"none"!==i&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style.fill;return null!=e&&"none"!==e},t.prototype.createStyle=function(e){return ki(GA,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var i=e.text;null!=i?i+="":i="";var r=Be(i,e.font,e.textAlign,e.textBaseline);if(r.x+=e.x||0,r.y+=e.y||0,this.hasStroke()){var o=e.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(er);cl.prototype.type="tspan";var HA=Ee({x:0,y:0},os),UA={style:Ee({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Zc.style)},zn=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.createStyle=function(e){return ki(HA,e)},t.prototype._getSize=function(e){var i=this.style,r=i[e];if(null!=r)return r;var o,a=(o=i.image)&&"string"!=typeof o&&o.width&&o.height?i.image:this.__image;if(!a)return 0;var s="width"===e?"height":"width",l=i[s];return null==l?a[e]:a[e]/a[s]*l},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return UA},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new ue(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(er);zn.prototype.type="image";var dl=Math.round;function P1(n,t,e){if(t){var i=t.x1,r=t.x2,o=t.y1,a=t.y2;n.x1=i,n.x2=r,n.y1=o,n.y2=a;var s=e&&e.lineWidth;return s&&(dl(2*i)===dl(2*r)&&(n.x1=n.x2=ds(i,s,!0)),dl(2*o)===dl(2*a)&&(n.y1=n.y2=ds(o,s,!0))),n}}function O1(n,t,e){if(t){var i=t.x,r=t.y,o=t.width,a=t.height;n.x=i,n.y=r,n.width=o,n.height=a;var s=e&&e.lineWidth;return s&&(n.x=ds(i,s,!0),n.y=ds(r,s,!0),n.width=Math.max(ds(i+o,s,!1)-n.x,0===o?0:1),n.height=Math.max(ds(r+a,s,!1)-n.y,0===a?0:1)),n}}function ds(n,t,e){if(!t)return n;var i=dl(2*n);return(i+dl(t))%2==0?i/2:(i+(e?1:-1))/2}var YA=function(){this.x=0,this.y=0,this.width=0,this.height=0},XA={},ht=function(n){function t(e){return n.call(this,e)||this}return Q(t,n),t.prototype.getDefaultShape=function(){return new YA},t.prototype.buildPath=function(e,i){var r,o,a,s,u,h,c,p,f,g,m,y,x,b,S,M;if(this.subPixelOptimize){var l=O1(XA,i,this.style);r=l.x,o=l.y,a=l.width,s=l.height,l.r=i.r,i=l}else r=i.x,o=i.y,a=i.width,s=i.height;i.r?(u=e,y=(h=i).x,x=h.y,(b=h.width)<0&&(y+=b,b=-b),(S=h.height)<0&&(x+=S,S=-S),"number"==typeof(M=h.r)?c=p=f=g=M:M instanceof Array?1===M.length?c=p=f=g=M[0]:2===M.length?(c=f=M[0],p=g=M[1]):3===M.length?(c=M[0],p=g=M[1],f=M[2]):(c=M[0],p=M[1],f=M[2],g=M[3]):c=p=f=g=0,c+p>b&&(c*=b/(m=c+p),p*=b/m),f+g>b&&(f*=b/(m=f+g),g*=b/m),p+f>S&&(p*=S/(m=p+f),f*=S/m),c+g>S&&(c*=S/(m=c+g),g*=S/m),u.moveTo(y+c,x),u.lineTo(y+b-p,x),0!==p&&u.arc(y+b-p,x+p,p,-Math.PI/2,0),u.lineTo(y+b,x+S-f),0!==f&&u.arc(y+b-f,x+S-f,f,0,Math.PI/2),u.lineTo(y+g,x+S),0!==g&&u.arc(y+g,x+S-g,g,Math.PI/2,Math.PI),u.lineTo(y,x+c),0!==c&&u.arc(y+c,x+c,c,Math.PI,1.5*Math.PI)):e.rect(r,o,a,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(at);ht.prototype.type="rect";var R1={fill:"#000"},jA={style:Ee({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Zc.style)},gt=function(n){function t(e){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=R1,i.attr(e),i}return Q(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var i=this._children[e];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):n.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var i=this.innerTransformable;return i?i.getLocalTransform(e):n.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){var e;this._childCursor=0,V1(e=this.style),V(e.rich,V1),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=e},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new ue(0,0,0,0),i=this._children,r=[],o=null,a=0;a<i.length;a++){var s=i[a],l=s.getBoundingRect(),u=s.getLocalTransform(r);u?(e.copy(l),e.applyTransform(u),(o=o||e.clone()).union(e)):(o=o||l.clone()).union(l)}this._rect=o||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||R1},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,i){if(!i)return e;var r=i.rich,o=e.rich||r&&{};return ae(e,i),r&&o?(this._mergeRich(o,r),e.rich=o):o&&(e.rich=o),e},t.prototype._mergeRich=function(e,i){for(var r=tt(i),o=0;o<r.length;o++){var a=r[o];e[a]=e[a]||{},ae(e[a],i[a])}},t.prototype.getAnimationStyleProps=function(){return jA},t.prototype._getOrCreateChild=function(e){var i=this._children[this._childCursor];return i&&i instanceof e||(i=new e),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},t.prototype._updatePlainTexts=function(){var e=this.style,i=e.font||Fe,r=e.padding,o=function(j,Z){null!=j&&(j+="");var q,J=Z.overflow,te=Z.padding,ne=Z.font,le="truncate"===J,ye=yt(ne),ie=pe(Z.lineHeight,ye),he=!!Z.backgroundColor,xe="truncate"===Z.lineOverflow,be=Z.width,ge=(q=null==be||"break"!==J&&"breakAll"!==J?j?j.split("\n"):[]:j?S1(j,Z.font,be,"breakAll"===J,0).lines:[]).length*ie,we=pe(Z.height,ge);if(ge>we&&xe){var me=Math.floor(we/ie);q=q.slice(0,me)}if(j&&le&&null!=be)for(var Ce=_1(be,ne,Z.ellipsis,{minChar:Z.truncateMinChar,placeholder:Z.placeholder}),Pe=0;Pe<q.length;Pe++)q[Pe]=b1(q[Pe],Ce);var Ye=we,Ke=0;for(Pe=0;Pe<q.length;Pe++)Ke=Math.max(Ge(q[Pe],ne),Ke);null==be&&(be=Ke);var At=Ke;return te&&(Ye+=te[0]+te[2],At+=te[1]+te[3],be+=te[1]+te[3]),he&&(At=be),{lines:q,height:we,outerWidth:At,outerHeight:Ye,lineHeight:ie,calculatedLineHeight:ye,contentWidth:Ke,contentHeight:ge,width:be}}(H1(e),e),a=rg(e),s=!!e.backgroundColor,l=o.outerHeight,u=o.outerWidth,h=o.contentWidth,c=o.lines,p=o.lineHeight,f=this._defaultStyle,g=e.x||0,m=e.y||0,y=e.align||f.align||"left",x=e.verticalAlign||f.verticalAlign||"top",b=g,S=ft(m,o.contentHeight,x);if(a||r){var M=Mt(g,u,y),C=ft(m,l,x);a&&this._renderBackground(e,e,M,C,u,l)}S+=p/2,r&&(b=G1(g,y,r),"top"===x?S+=r[0]:"bottom"===x&&(S-=r[2]));for(var T=0,D=!1,k=(W1("fill"in e?e.fill:(D=!0,f.fill))),R=(F1("stroke"in e?e.stroke:s||f.autoStroke&&!D?null:(T=2,f.stroke))),N=e.textShadowBlur>0,E=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),B=o.calculatedLineHeight,G=0;G<c.length;G++){var H=this._getOrCreateChild(cl),Y=H.createStyle();H.useStyle(Y),Y.text=c[G],Y.x=b,Y.y=S,y&&(Y.textAlign=y),Y.textBaseline="middle",Y.opacity=e.opacity,Y.strokeFirst=!0,N&&(Y.shadowBlur=e.textShadowBlur||0,Y.shadowColor=e.textShadowColor||"transparent",Y.shadowOffsetX=e.textShadowOffsetX||0,Y.shadowOffsetY=e.textShadowOffsetY||0),Y.stroke=R,Y.fill=k,R&&(Y.lineWidth=e.lineWidth||T,Y.lineDash=e.lineDash,Y.lineDashOffset=e.lineDashOffset||0),Y.font=i,z1(Y,e),S+=p,E&&H.setBoundingRect(new ue(Mt(Y.x,e.width,Y.textAlign),ft(Y.y,B,Y.textBaseline),h,B))}},t.prototype._updateRichTexts=function(){var e=this.style,i=function(H,Y){var j=new AA;if(null!=H&&(H+=""),!H)return j;for(var Z,q=Y.width,J=Y.height,te=Y.overflow,ne="break"!==te&&"breakAll"!==te||null==q?null:{width:q,accumWidth:0,breakAll:"breakAll"===te},le=Yf.lastIndex=0;null!=(Z=Yf.exec(H));){var ye=Z.index;ye>le&&Xf(j,H.substring(le,ye),Y,ne),Xf(j,Z[2],Y,ne,Z[1]),le=Yf.lastIndex}le<H.length&&Xf(j,H.substring(le,H.length),Y,ne);var ie=[],he=0,xe=0,be=Y.padding,ge="truncate"===te,we="truncate"===Y.lineOverflow;function me(en,mn,vn){en.width=mn,en.lineHeight=vn,he+=vn,xe=Math.max(xe,mn)}e:for(var Ce=0;Ce<j.lines.length;Ce++){for(var Pe=j.lines[Ce],Ye=0,Ke=0,At=0;At<Pe.tokens.length;At++){var nt=(Xe=Pe.tokens[At]).styleName&&Y.rich[Xe.styleName]||{},lt=Xe.textPadding=nt.padding,Rt=lt?lt[1]+lt[3]:0,Vt=Xe.font=nt.font||Y.font;Xe.contentHeight=yt(Vt);var gn=pe(nt.height,Xe.contentHeight);if(Xe.innerHeight=gn,lt&&(gn+=lt[0]+lt[2]),Xe.height=gn,Xe.lineHeight=it(nt.lineHeight,Y.lineHeight,gn),Xe.align=nt&&nt.align||Y.align,Xe.verticalAlign=nt&&nt.verticalAlign||"middle",we&&null!=J&&he+Xe.lineHeight>J){At>0?(Pe.tokens=Pe.tokens.slice(0,At),me(Pe,Ke,Ye),j.lines=j.lines.slice(0,Ce+1)):j.lines=j.lines.slice(0,Ce);break e}var Tn=nt.width,Ti=null==Tn||"auto"===Tn;if("string"==typeof Tn&&"%"===Tn.charAt(Tn.length-1))Xe.percentWidth=Tn,ie.push(Xe),Xe.contentWidth=Ge(Xe.text,Vt);else{if(Ti){var uo=nt.backgroundColor,bt=uo&&uo.image;bt&&jc(bt=CA(bt))&&(Xe.width=Math.max(Xe.width,bt.width*gn/bt.height))}var et=ge&&null!=q?q-Ke:null;null!=et&&et<Xe.width?!Ti||et<Rt?(Xe.text="",Xe.width=Xe.contentWidth=0):(Xe.text=x1(Xe.text,et-Rt,Vt,Y.ellipsis,{minChar:Y.truncateMinChar}),Xe.width=Xe.contentWidth=Ge(Xe.text,Vt)):Xe.contentWidth=Ge(Xe.text,Vt)}Xe.width+=Rt,Ke+=Xe.width,nt&&(Ye=Math.max(Ye,Xe.lineHeight))}me(Pe,Ke,Ye)}for(j.outerWidth=j.width=pe(q,xe),j.outerHeight=j.height=pe(J,he),j.contentHeight=he,j.contentWidth=xe,be&&(j.outerWidth+=be[1]+be[3],j.outerHeight+=be[0]+be[2]),Ce=0;Ce<ie.length;Ce++){var Xe,Ht=(Xe=ie[Ce]).percentWidth;Xe.width=parseInt(Ht,10)/100*j.width}return j}(H1(e),e),r=i.width,o=i.outerWidth,a=i.outerHeight,s=e.padding,u=e.y||0,h=this._defaultStyle,p=e.verticalAlign||h.verticalAlign,f=Mt(e.x||0,o,e.align||h.align),g=ft(u,a,p),m=f,y=g;s&&(m+=s[3],y+=s[0]);var x=m+r;rg(e)&&this._renderBackground(e,e,f,g,o,a);for(var b=!!e.backgroundColor,S=0;S<i.lines.length;S++){for(var M=i.lines[S],C=M.tokens,T=C.length,D=M.lineHeight,k=M.width,R=0,N=m,E=x,B=T-1,G=void 0;R<T&&(!(G=C[R]).align||"left"===G.align);)this._placeToken(G,e,D,y,N,"left",b),k-=G.width,N+=G.width,R++;for(;B>=0&&"right"===(G=C[B]).align;)this._placeToken(G,e,D,y,E,"right",b),k-=G.width,E-=G.width,B--;for(N+=(r-(N-m)-(x-E)-k)/2;R<=B;)this._placeToken(G=C[R],e,D,y,N+G.width/2,"center",b),N+=G.width,R++;y+=D}},t.prototype._placeToken=function(e,i,r,o,a,s,l){var u=i.rich[e.styleName]||{};u.text=e.text;var h=e.verticalAlign,c=o+r/2;"top"===h?c=o+e.height/2:"bottom"===h&&(c=o+r-e.height/2),!e.isLineHolder&&rg(u)&&this._renderBackground(u,i,"right"===s?a-e.width:"center"===s?a-e.width/2:a,c-e.height/2,e.width,e.height);var p=!!u.backgroundColor,f=e.textPadding;f&&(a=G1(a,s,f),c-=e.height/2-f[0]-e.innerHeight/2);var g=this._getOrCreateChild(cl),m=g.createStyle();g.useStyle(m);var y=this._defaultStyle,x=!1,b=0,S=W1("fill"in u?u.fill:"fill"in i?i.fill:(x=!0,y.fill)),M=F1("stroke"in u?u.stroke:"stroke"in i?i.stroke:p||l||y.autoStroke&&!x?null:(b=2,y.stroke)),C=u.textShadowBlur>0||i.textShadowBlur>0;m.text=e.text,m.x=a,m.y=c,C&&(m.shadowBlur=u.textShadowBlur||i.textShadowBlur||0,m.shadowColor=u.textShadowColor||i.textShadowColor||"transparent",m.shadowOffsetX=u.textShadowOffsetX||i.textShadowOffsetX||0,m.shadowOffsetY=u.textShadowOffsetY||i.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=e.font||Fe,m.opacity=it(u.opacity,i.opacity,1),z1(m,u),M&&(m.lineWidth=it(u.lineWidth,i.lineWidth,b),m.lineDash=pe(u.lineDash,i.lineDash),m.lineDashOffset=i.lineDashOffset||0,m.stroke=M),S&&(m.fill=S);var T=e.contentWidth,D=e.contentHeight;g.setBoundingRect(new ue(Mt(m.x,T,m.textAlign),ft(m.y,D,m.textBaseline),T,D))},t.prototype._renderBackground=function(e,i,r,o,a,s){var l,u,h,c=e.backgroundColor,p=e.borderWidth,f=e.borderColor,g=c&&c.image,m=c&&!g,y=e.borderRadius,x=this;if(m||e.lineHeight||p&&f){(l=this._getOrCreateChild(ht)).useStyle(l.createStyle()),l.style.fill=null;var b=l.shape;b.x=r,b.y=o,b.width=a,b.height=s,b.r=y,l.dirtyShape()}if(m)(h=l.style).fill=c||null,h.fillOpacity=pe(e.fillOpacity,1);else if(g){(u=this._getOrCreateChild(zn)).onload=function(){x.dirtyStyle()};var S=u.style;S.image=c.image,S.x=r,S.y=o,S.width=a,S.height=s}p&&f&&((h=l.style).lineWidth=p,h.stroke=f,h.strokeOpacity=pe(e.strokeOpacity,1),h.lineDash=e.borderDash,h.lineDashOffset=e.borderDashOffset||0,l.strokeContainThreshold=0,l.hasFill()&&l.hasStroke()&&(h.strokeFirst=!0,h.lineWidth*=2));var M=(l||u).style;M.shadowBlur=e.shadowBlur||0,M.shadowColor=e.shadowColor||"transparent",M.shadowOffsetX=e.shadowOffsetX||0,M.shadowOffsetY=e.shadowOffsetY||0,M.opacity=it(e.opacity,i.opacity,1)},t.makeFont=function(e){var i="";return B1(e)&&(i=[e.fontStyle,e.fontWeight,E1(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),i&&wn(i)||e.textFont||e.font},t}(er),ZA={left:!0,right:1,center:1},qA={top:1,bottom:1,middle:1},N1=["fontStyle","fontWeight","fontSize","fontFamily"];function E1(n){return"string"!=typeof n||-1===n.indexOf("px")&&-1===n.indexOf("rem")&&-1===n.indexOf("em")?isNaN(+n)?"12px":n+"px":n}function z1(n,t){for(var e=0;e<N1.length;e++){var i=N1[e],r=t[i];null!=r&&(n[i]=r)}}function B1(n){return null!=n.fontSize||n.fontFamily||n.fontWeight}function V1(n){if(n){n.font=gt.makeFont(n);var t=n.align;"middle"===t&&(t="center"),n.align=null==t||ZA[t]?t:"left";var e=n.verticalAlign;"center"===e&&(e="middle"),n.verticalAlign=null==e||qA[e]?e:"top",n.padding&&(n.padding=Ft(n.padding))}}function F1(n,t){return null==n||t<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function W1(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function G1(n,t,e){return"right"===t?n-e[1]:"center"===t?n+e[3]/2-e[1]/2:n+e[3]}function H1(n){var t=n.text;return null!=t&&(t+=""),t}function rg(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var Ze=_t(),og=function(n,t,e,i){if(i){var r=Ze(i);r.dataIndex=e,r.dataType=t,r.seriesIndex=n,"group"===i.type&&i.traverse(function(o){var a=Ze(o);a.seriesIndex=n,a.dataIndex=e,a.dataType=t})}},U1=1,Y1={},X1=_t(),ag=_t(),fi=["emphasis","blur","select"],$u=["normal","emphasis","blur","select"],ps="highlight",ed="downplay",Ju="select",td="unselect",Qu="toggleSelect";function pl(n){return null!=n&&"none"!==n}var j1=new wr(100);function Z1(n){if(De(n)){var t=j1.get(n);return t||(t=il(n,-.1),j1.put(n,t)),t}if(ve(n)){var e=ae({},n);return e.colorStops=oe(n.colorStops,function(i){return{offset:i.offset,color:il(i.color,-.1)}}),e}return n}function nd(n,t,e){n.onHoverStateChange&&(n.hoverState||0)!==e&&n.onHoverStateChange(t),n.hoverState=e}function q1(n){nd(n,"emphasis",2)}function K1(n){2===n.hoverState&&nd(n,"normal",0)}function sg(n){nd(n,"blur",1)}function $1(n){1===n.hoverState&&nd(n,"normal",0)}function $A(n){n.selected=!0}function JA(n){n.selected=!1}function J1(n,t,e){t(n,e)}function Io(n,t,e){J1(n,t,e),n.isGroup&&n.traverse(function(i){J1(i,t,e)})}function id(n,t){switch(t){case"emphasis":n.hoverState=2;break;case"normal":n.hoverState=0;break;case"blur":n.hoverState=1;break;case"select":n.selected=!0}}function lg(n,t){var r,o,a,s,l,u,e=this.states[n];if(this.style){if("emphasis"===n)return function(i,r,o,a){var s=o&&je(o,"select")>=0,l=!1;if(i instanceof at){var u=X1(i),h=s&&u.selectFill||u.normalFill,c=s&&u.selectStroke||u.normalStroke;if(pl(h)||pl(c)){var p=(a=a||{}).style||{};"inherit"===p.fill?(l=!0,a=ae({},a),(p=ae({},p)).fill=h):!pl(p.fill)&&pl(h)?(l=!0,a=ae({},a),(p=ae({},p)).fill=Z1(h)):!pl(p.stroke)&&pl(c)&&(l||(a=ae({},a),p=ae({},p)),p.stroke=Z1(c)),a.style=p}}return a&&null==a.z2&&(l||(a=ae({},a)),a.z2=i.z2+(i.z2EmphasisLift??10)),a}(this,0,t,e);if("blur"===n)return o=e,a=je(this.currentStates,r=n)>=0,s=this.style.opacity,l=a?null:function(h,c,p,f){for(var g=h.style,m={},y=0;y<c.length;y++){var x=c[y];m[x]=g[x]??(f&&f[x])}for(y=0;y<h.animators.length;y++){var S=h.animators[y];S.__fromStateTransition&&S.__fromStateTransition.indexOf(p)<0&&"style"===S.targetName&&S.saveTo(m,c)}return m}(this,["opacity"],r,{opacity:1}),null==(u=(o=o||{}).style||{}).opacity&&(o=ae({},o),u=ae({opacity:a?s:.1*l.opacity},u),o.style=u),o;if("select"===n)return function(i,r,o){return o&&null==o.z2&&((o=ae({},o)).z2=i.z2+(i.z2SelectLift??9)),o}(this,0,e)}return e}function fs(n){n.stateProxy=lg;var t=n.getTextContent(),e=n.getTextGuideLine();t&&(t.stateProxy=lg),e&&(e.stateProxy=lg)}function Q1(n,t){!rx(n,t)&&!n.__highByOuter&&Io(n,q1)}function ex(n,t){!rx(n,t)&&!n.__highByOuter&&Io(n,K1)}function Co(n,t){n.__highByOuter|=1<<(t||0),Io(n,q1)}function To(n,t){!(n.__highByOuter&=~(1<<(t||0)))&&Io(n,K1)}function tx(n){Io(n,sg)}function ug(n){Io(n,$1)}function nx(n){Io(n,$A)}function ix(n){Io(n,JA)}function rx(n,t){return n.__highDownSilentOnTouch&&t.zrByTouch}function ox(n){var t=n.getModel(),e=[],i=[];t.eachComponent(function(r,o){var a=ag(o),s="series"===r,l=s?n.getViewOfSeriesModel(o):n.getViewOfComponentModel(o);!s&&i.push(l),a.isBlured&&(l.group.traverse(function(u){$1(u)}),s&&e.push(o)),a.isBlured=!1}),V(i,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(e,!1,t)})}function hg(n,t,e,i){var r=i.getModel();function o(u,h){for(var c=0;c<h.length;c++){var p=u.getItemGraphicEl(h[c]);p&&ug(p)}}if(e=e||"coordinateSystem",null!=n&&t&&"none"!==t){var a=r.getSeriesByIndex(n),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(u){var h=a===u,c=u.coordinateSystem;if(c&&c.master&&(c=c.master),!("series"===e&&!h||"coordinateSystem"===e&&!(c&&s?c===s:h)||"series"===t&&h)){if(i.getViewOfSeriesModel(u).group.traverse(function(g){sg(g)}),nn(t))o(u.getData(),t);else if(Oe(t))for(var p=tt(t),f=0;f<p.length;f++)o(u.getData(p[f]),t[p[f]]);l.push(u),ag(u).isBlured=!0}}),r.eachComponent(function(u,h){if("series"!==u){var c=i.getViewOfComponentModel(h);c&&c.toggleBlurSeries&&c.toggleBlurSeries(l,!0,r)}})}}function cg(n,t,e){if(null!=n&&null!=t){var i=e.getModel().getComponent(n,t);if(i){ag(i).isBlured=!0;var r=e.getViewOfComponentModel(i);r&&r.focusBlurEnabled&&r.group.traverse(function(o){sg(o)})}}}function dg(n,t,e,i){var r={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==t||null==e)return r;var o=i.getModel().getComponent(n,t);if(!o)return r;var a=i.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return r;for(var s,l=a.findHighDownDispatchers(e),u=0;u<l.length;u++)if("self"===Ze(l[u]).focus){s=!0;break}return{focusSelf:s,dispatchers:l}}function ax(n){V(n.getAllData(),function(t){var i=t.type;t.data.eachItemGraphicEl(function(r,o){n.isSelected(o,i)?nx(r):ix(r)})})}function QA(n){var t=[];return n.eachSeries(function(e){V(e.getAllData(),function(i){var r=i.type,o=e.getSelectedDataIndices();if(o.length>0){var a={dataIndex:o,seriesIndex:e.seriesIndex};null!=r&&(a.dataType=r),t.push(a)}})}),t}function la(n,t,e){gs(n,!0),Io(n,fs),pg(n,t,e)}function un(n,t,e,i){i?gs(n,!1):la(n,t,e)}function pg(n,t,e){var i=Ze(n);null!=t?(i.focus=t,i.blurScope=e):i.focus&&(i.focus=null)}var sx=["emphasis","blur","select"],ek={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function qn(n,t,e,i){e=e||"itemStyle";for(var r=0;r<sx.length;r++){var o=sx[r],a=t.getModel([o,e]);n.ensureState(o).style=i?i(a):a[ek[e]]()}}function gs(n,t){var e=!1===t,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),e&&!i.__highDownDispatcher||(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!e)}function eh(n){return!(!n||!n.__highDownDispatcher)}function fg(n){var t=n.type;return t===Ju||t===td||t===Qu}function lx(n){var t=n.type;return t===ps||t===ed}var fl=Jr.CMD,tk=[[],[],[]],ux=Math.sqrt,nk=Math.atan2;function hx(n,t){if(t){var e,i,r,o,a,s,l=n.data,u=n.len(),h=fl.M,c=fl.C,p=fl.L,f=fl.R,g=fl.A,m=fl.Q;for(r=0,o=0;r<u;){switch(e=l[r++],o=r,i=0,e){case h:case p:i=1;break;case c:i=3;break;case m:i=2;break;case g:var y=t[4],x=t[5],b=ux(t[0]*t[0]+t[1]*t[1]),S=ux(t[2]*t[2]+t[3]*t[3]),M=nk(-t[1]/S,t[0]/b);l[r]*=b,l[r++]+=y,l[r]*=S,l[r++]+=x,l[r++]*=b,l[r++]*=S,l[r++]+=M,l[r++]+=M,o=r+=2;break;case f:s[0]=l[r++],s[1]=l[r++],Zt(s,s,t),l[o++]=s[0],l[o++]=s[1],s[0]+=l[r++],s[1]+=l[r++],Zt(s,s,t),l[o++]=s[0],l[o++]=s[1]}for(a=0;a<i;a++){var C=tk[a];C[0]=l[r++],C[1]=l[r++],Zt(C,C,t),l[o++]=C[0],l[o++]=C[1]}}n.increaseVersion()}}var gg=Math.sqrt,rd=Math.sin,od=Math.cos,th=Math.PI;function cx(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function mg(n,t){return(n[0]*t[0]+n[1]*t[1])/(cx(n)*cx(t))}function dx(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(mg(n,t))}function px(n,t,e,i,r,o,a,s,l,u,h){var c=l*(th/180),p=od(c)*(n-e)/2+rd(c)*(t-i)/2,f=-1*rd(c)*(n-e)/2+od(c)*(t-i)/2,g=p*p/(a*a)+f*f/(s*s);g>1&&(a*=gg(g),s*=gg(g));var m=(r===o?-1:1)*gg((a*a*(s*s)-a*a*(f*f)-s*s*(p*p))/(a*a*(f*f)+s*s*(p*p)))||0,y=m*a*f/s,x=m*-s*p/a,b=(n+e)/2+od(c)*y-rd(c)*x,S=(t+i)/2+rd(c)*y+od(c)*x,M=dx([1,0],[(p-y)/a,(f-x)/s]),C=[(p-y)/a,(f-x)/s],T=[(-1*p-y)/a,(-1*f-x)/s],D=dx(C,T);if(mg(C,T)<=-1&&(D=th),mg(C,T)>=1&&(D=0),D<0){var k=Math.round(D/th*1e6)/1e6;D=2*th+k%2*th}h.addData(u,b,S,a,s,M,D,c,o)}var ik=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,rk=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,fx=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.applyTransform=function(e){},t}(at);function gx(n){return null!=n.setData}function mx(n,t){var e=function(r){var o=new Jr;if(!r)return o;var a,s=0,l=0,u=s,h=l,c=Jr.CMD,p=r.match(ik);if(!p)return o;for(var f=0;f<p.length;f++){for(var g=p[f],m=g.charAt(0),y=void 0,x=g.match(rk)||[],b=x.length,S=0;S<b;S++)x[S]=parseFloat(x[S]);for(var M=0;M<b;){var C=void 0,T=void 0,D=void 0,k=void 0,R=void 0,N=void 0,E=void 0,B=s,G=l,H=void 0,Y=void 0;switch(m){case"l":s+=x[M++],l+=x[M++],o.addData(y=c.L,s,l);break;case"L":s=x[M++],l=x[M++],o.addData(y=c.L,s,l);break;case"m":s+=x[M++],l+=x[M++],o.addData(y=c.M,s,l),u=s,h=l,m="l";break;case"M":s=x[M++],l=x[M++],o.addData(y=c.M,s,l),u=s,h=l,m="L";break;case"h":s+=x[M++],o.addData(y=c.L,s,l);break;case"H":s=x[M++],o.addData(y=c.L,s,l);break;case"v":l+=x[M++],o.addData(y=c.L,s,l);break;case"V":l=x[M++],o.addData(y=c.L,s,l);break;case"C":o.addData(y=c.C,x[M++],x[M++],x[M++],x[M++],x[M++],x[M++]),s=x[M-2],l=x[M-1];break;case"c":o.addData(y=c.C,x[M++]+s,x[M++]+l,x[M++]+s,x[M++]+l,x[M++]+s,x[M++]+l),s+=x[M-2],l+=x[M-1];break;case"S":C=s,T=l,H=o.len(),Y=o.data,a===c.C&&(C+=s-Y[H-4],T+=l-Y[H-3]),B=x[M++],G=x[M++],s=x[M++],l=x[M++],o.addData(y=c.C,C,T,B,G,s,l);break;case"s":C=s,T=l,H=o.len(),Y=o.data,a===c.C&&(C+=s-Y[H-4],T+=l-Y[H-3]),B=s+x[M++],G=l+x[M++],s+=x[M++],l+=x[M++],o.addData(y=c.C,C,T,B,G,s,l);break;case"Q":B=x[M++],G=x[M++],s=x[M++],l=x[M++],o.addData(y=c.Q,B,G,s,l);break;case"q":B=x[M++]+s,G=x[M++]+l,s+=x[M++],l+=x[M++],o.addData(y=c.Q,B,G,s,l);break;case"T":C=s,T=l,H=o.len(),Y=o.data,a===c.Q&&(C+=s-Y[H-4],T+=l-Y[H-3]),s=x[M++],l=x[M++],o.addData(y=c.Q,C,T,s,l);break;case"t":C=s,T=l,H=o.len(),Y=o.data,a===c.Q&&(C+=s-Y[H-4],T+=l-Y[H-3]),s+=x[M++],l+=x[M++],o.addData(y=c.Q,C,T,s,l);break;case"A":D=x[M++],k=x[M++],R=x[M++],N=x[M++],E=x[M++],px(B=s,G=l,s=x[M++],l=x[M++],N,E,D,k,R,y=c.A,o);break;case"a":D=x[M++],k=x[M++],R=x[M++],N=x[M++],E=x[M++],px(B=s,G=l,s+=x[M++],l+=x[M++],N,E,D,k,R,y=c.A,o)}}"z"!==m&&"Z"!==m||(o.addData(y=c.Z),s=u,l=h),a=y}return o.toStatic(),o}(n),i=ae({},t);return i.buildPath=function(r){if(gx(r))r.setData(e.data),(o=r.getContext())&&r.rebuildPath(o,1);else{var o=r;e.rebuildPath(o,1)}},i.applyTransform=function(r){hx(e,r),this.dirtyShape()},i}function vx(n,t){return new fx(mx(n,t))}function vg(n,t){t=t||{};var e=new at;return n.shape&&e.setShape(n.shape),e.setStyle(n.style),t.bakeTransform?hx(e.path,n.getComputedTransform()):t.toLocal?e.setLocalTransform(n.getComputedTransform()):e.copyTransform(n),e.buildPath=n.buildPath,e.applyTransform=e.applyTransform,e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e}var ok=function(){this.cx=0,this.cy=0,this.r=0},nr=function(n){function t(e){return n.call(this,e)||this}return Q(t,n),t.prototype.getDefaultShape=function(){return new ok},t.prototype.buildPath=function(e,i){e.moveTo(i.cx+i.r,i.cy),e.arc(i.cx,i.cy,i.r,0,2*Math.PI)},t}(at);nr.prototype.type="circle";var ak=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},nh=function(n){function t(e){return n.call(this,e)||this}return Q(t,n),t.prototype.getDefaultShape=function(){return new ak},t.prototype.buildPath=function(e,i){var r=.5522848,o=i.cx,a=i.cy,s=i.rx,l=i.ry,u=s*r,h=l*r;e.moveTo(o-s,a),e.bezierCurveTo(o-s,a-h,o-u,a-l,o,a-l),e.bezierCurveTo(o+u,a-l,o+s,a-h,o+s,a),e.bezierCurveTo(o+s,a+h,o+u,a+l,o,a+l),e.bezierCurveTo(o-u,a+l,o-s,a+h,o-s,a),e.closePath()},t}(at);nh.prototype.type="ellipse";var yx=Math.PI,yg=2*yx,ms=Math.sin,gl=Math.cos,sk=Math.acos,ei=Math.atan2,xx=Math.abs,ih=Math.sqrt,rh=Math.max,Qr=Math.min,Tr=1e-4;function ad(n,t,e,i,r,o,a){var s=n-e,l=t-i,u=(a?o:-o)/ih(s*s+l*l),h=u*l,c=-u*s,p=n+h,f=t+c,g=e+h,m=i+c,y=(p+g)/2,x=(f+m)/2,b=g-p,S=m-f,M=b*b+S*S,C=r-o,T=p*m-g*f,D=(S<0?-1:1)*ih(rh(0,C*C*M-T*T)),k=(T*S-b*D)/M,R=(-T*b-S*D)/M,N=(T*S+b*D)/M,E=(-T*b+S*D)/M,B=k-y,G=R-x,H=N-y,Y=E-x;return B*B+G*G>H*H+Y*Y&&(k=N,R=E),{cx:k,cy:R,x0:-h,y0:-c,x1:k*(r/C-1),y1:R*(r/C-1)}}var uk=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},ti=function(n){function t(e){return n.call(this,e)||this}return Q(t,n),t.prototype.getDefaultShape=function(){return new uk},t.prototype.buildPath=function(e,i){!function lk(n,t){var e,i=rh(t.r,0),r=rh(t.r0||0,0),o=i>0;if(o||r>0){if(o||(i=r,r=0),r>i){var a=i;i=r,r=a}var s=t.startAngle,l=t.endAngle;if(!isNaN(s)&&!isNaN(l)){var u=t.cx,h=t.cy,c=!!t.clockwise,p=xx(l-s),f=p>yg&&p%yg;if(f>Tr&&(p=f),i>Tr)if(p>yg-Tr)n.moveTo(u+i*gl(s),h+i*ms(s)),n.arc(u,h,i,s,l,!c),r>Tr&&(n.moveTo(u+r*gl(l),h+r*ms(l)),n.arc(u,h,r,l,s,c));else{var g=void 0,m=void 0,y=void 0,x=void 0,b=void 0,S=void 0,M=void 0,C=void 0,T=void 0,D=void 0,k=void 0,R=void 0,N=void 0,E=void 0,B=void 0,G=void 0,H=i*gl(s),Y=i*ms(s),j=r*gl(l),Z=r*ms(l),q=p>Tr;if(q){var J=t.cornerRadius;J&&(g=(e=function(Pe){var Ye;if(ce(Pe)){var Ke=Pe.length;if(!Ke)return Pe;Ye=1===Ke?[Pe[0],Pe[0],0,0]:2===Ke?[Pe[0],Pe[0],Pe[1],Pe[1]]:3===Ke?Pe.concat(Pe[2]):Pe}else Ye=[Pe,Pe,Pe,Pe];return Ye}(J))[0],m=e[1],y=e[2],x=e[3]);var te=xx(i-r)/2;if(b=Qr(te,y),S=Qr(te,x),M=Qr(te,g),C=Qr(te,m),k=T=rh(b,S),R=D=rh(M,C),(T>Tr||D>Tr)&&(N=i*gl(l),E=i*ms(l),B=r*gl(s),G=r*ms(s),p<yx)){var ne=function(Pe,Ye,Ke,At,nt,lt,Rt,Vt){var gn=Ke-Pe,Tn=At-Ye,Ti=Rt-nt,uo=Vt-lt,bt=uo*gn-Ti*Tn;if(!(bt*bt<Tr))return[Pe+(bt=(Ti*(Ye-lt)-uo*(Pe-nt))/bt)*gn,Ye+bt*Tn]}(H,Y,B,G,N,E,j,Z);if(ne){var le=H-ne[0],ye=Y-ne[1],ie=N-ne[0],he=E-ne[1],xe=1/ms(sk((le*ie+ye*he)/(ih(le*le+ye*ye)*ih(ie*ie+he*he)))/2),be=ih(ne[0]*ne[0]+ne[1]*ne[1]);k=Qr(T,(i-be)/(xe+1)),R=Qr(D,(r-be)/(xe-1))}}}if(q)if(k>Tr){var ge=Qr(y,k),we=Qr(x,k),me=ad(B,G,H,Y,i,ge,c),Ce=ad(N,E,j,Z,i,we,c);n.moveTo(u+me.cx+me.x0,h+me.cy+me.y0),k<T&&ge===we?n.arc(u+me.cx,h+me.cy,k,ei(me.y0,me.x0),ei(Ce.y0,Ce.x0),!c):(ge>0&&n.arc(u+me.cx,h+me.cy,ge,ei(me.y0,me.x0),ei(me.y1,me.x1),!c),n.arc(u,h,i,ei(me.cy+me.y1,me.cx+me.x1),ei(Ce.cy+Ce.y1,Ce.cx+Ce.x1),!c),we>0&&n.arc(u+Ce.cx,h+Ce.cy,we,ei(Ce.y1,Ce.x1),ei(Ce.y0,Ce.x0),!c))}else n.moveTo(u+H,h+Y),n.arc(u,h,i,s,l,!c);else n.moveTo(u+H,h+Y);r>Tr&&q?R>Tr?(ge=Qr(g,R),me=ad(j,Z,N,E,r,-(we=Qr(m,R)),c),Ce=ad(H,Y,B,G,r,-ge,c),n.lineTo(u+me.cx+me.x0,h+me.cy+me.y0),R<D&&ge===we?n.arc(u+me.cx,h+me.cy,R,ei(me.y0,me.x0),ei(Ce.y0,Ce.x0),!c):(we>0&&n.arc(u+me.cx,h+me.cy,we,ei(me.y0,me.x0),ei(me.y1,me.x1),!c),n.arc(u,h,r,ei(me.cy+me.y1,me.cx+me.x1),ei(Ce.cy+Ce.y1,Ce.cx+Ce.x1),c),ge>0&&n.arc(u+Ce.cx,h+Ce.cy,ge,ei(Ce.y1,Ce.x1),ei(Ce.y0,Ce.x0),!c))):(n.lineTo(u+j,h+Z),n.arc(u,h,r,l,s,c)):n.lineTo(u+j,h+Z)}else n.moveTo(u,h);n.closePath()}}}(e,i)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(at);ti.prototype.type="sector";var hk=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},ml=function(n){function t(e){return n.call(this,e)||this}return Q(t,n),t.prototype.getDefaultShape=function(){return new hk},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=2*Math.PI;e.moveTo(r+i.r,o),e.arc(r,o,i.r,0,a,!1),e.moveTo(r+i.r0,o),e.arc(r,o,i.r0,0,a,!0)},t}(at);function _x(n,t,e){var i=t.smooth,r=t.points;if(r&&r.length>=2){if(i){var o=function(p,f,g,m){var y,x,b,S,M=[],C=[],T=[],D=[];if(m){b=[1/0,1/0],S=[-1/0,-1/0];for(var k=0,R=p.length;k<R;k++)yr(b,b,p[k]),Li(S,S,p[k]);yr(b,b,m[0]),Li(S,S,m[1])}for(k=0,R=p.length;k<R;k++){var N=p[k];if(g)y=p[k?k-1:R-1],x=p[(k+1)%R];else{if(0===k||k===R-1){M.push(Yi(p[k]));continue}y=p[k-1],x=p[k+1]}ui(C,x,y),Zs(C,C,f);var E=Xi(N,y),B=Xi(N,x),G=E+B;0!==G&&(E/=G,B/=G),Zs(T,C,-E),Zs(D,C,B);var H=gu([],N,T),Y=gu([],N,D);m&&(Li(H,H,b),yr(H,H,S),Li(Y,Y,b),yr(Y,Y,S)),M.push(H),M.push(Y)}return g&&M.push(M.shift()),M}(r,i,e,t.smoothConstraint);n.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(e?a:a-1);s++){var l=o[2*s],u=o[2*s+1],h=r[(s+1)%a];n.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{n.moveTo(r[0][0],r[0][1]),s=1;for(var c=r.length;s<c;s++)n.lineTo(r[s][0],r[s][1])}e&&n.closePath()}}ml.prototype.type="ring";var ck=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},ni=function(n){function t(e){return n.call(this,e)||this}return Q(t,n),t.prototype.getDefaultShape=function(){return new ck},t.prototype.buildPath=function(e,i){_x(e,i,!0)},t}(at);ni.prototype.type="polygon";var dk=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},ii=function(n){function t(e){return n.call(this,e)||this}return Q(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new dk},t.prototype.buildPath=function(e,i){_x(e,i,!1)},t}(at);ii.prototype.type="polyline";var pk={},fk=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},kn=function(n){function t(e){return n.call(this,e)||this}return Q(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new fk},t.prototype.buildPath=function(e,i){var r,o,a,s;if(this.subPixelOptimize){var l=P1(pk,i,this.style);r=l.x1,o=l.y1,a=l.x2,s=l.y2}else r=i.x1,o=i.y1,a=i.x2,s=i.y2;var u=i.percent;0!==u&&(e.moveTo(r,o),u<1&&(a=r*(1-u)+a*u,s=o*(1-u)+s*u),e.lineTo(a,s))},t.prototype.pointAt=function(e){var i=this.shape;return[i.x1*(1-e)+i.x2*e,i.y1*(1-e)+i.y2*e]},t}(at);kn.prototype.type="line";var Si=[],gk=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function bx(n,t,e){return null!=n.cpx2||null!=n.cpy2?[(e?Oc:dn)(n.x1,n.cpx1,n.cpx2,n.x2,t),(e?Oc:dn)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(e?tl:Dn)(n.x1,n.cpx1,n.x2,t),(e?tl:Dn)(n.y1,n.cpy1,n.y2,t)]}var vl=function(n){function t(e){return n.call(this,e)||this}return Q(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new gk},t.prototype.buildPath=function(e,i){var r=i.x1,o=i.y1,a=i.x2,s=i.y2,l=i.cpx1,u=i.cpy1,h=i.cpx2,c=i.cpy2,p=i.percent;0!==p&&(e.moveTo(r,o),null==h||null==c?(p<1&&(Yo(r,l,a,p,Si),l=Si[1],a=Si[2],Yo(o,u,s,p,Si),u=Si[1],s=Si[2]),e.quadraticCurveTo(l,u,a,s)):(p<1&&(Zi(r,l,h,a,p,Si),l=Si[1],h=Si[2],a=Si[3],Zi(o,u,c,s,p,Si),u=Si[1],c=Si[2],s=Si[3]),e.bezierCurveTo(l,u,h,c,a,s)))},t.prototype.pointAt=function(e){return bx(this.shape,e,!1)},t.prototype.tangentAt=function(e){var i=bx(this.shape,e,!0);return mr(i,i)},t}(at);vl.prototype.type="bezier-curve";var mk=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},oh=function(n){function t(e){return n.call(this,e)||this}return Q(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new mk},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=Math.max(i.r,0),s=i.startAngle,l=i.endAngle,u=i.clockwise,h=Math.cos(s),c=Math.sin(s);e.moveTo(h*a+r,c*a+o),e.arc(r,o,a,s,l,!u)},t}(at);oh.prototype.type="arc";var sd=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="compound",e}return Q(t,n),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,i=this.shapeChanged(),r=0;r<e.length;r++)i=i||e[r].shapeChanged();i&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(i[0],i[1],e[r].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,i){for(var r=i.paths||[],o=0;o<r.length;o++)r[o].buildPath(e,r[o].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],i=0;i<e.length;i++)e[i].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),at.prototype.getBoundingRect.call(this)},t}(at),Sx=function(){function n(t){this.colorStops=t||[]}return n.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},n}(),yl=function(n){function t(e,i,r,o,a,s){var l=n.call(this,a)||this;return l.x=e??0,l.y=i??0,l.x2=r??1,l.y2=o??0,l.type="linear",l.global=s||!1,l}return Q(t,n),t}(Sx),xg=function(n){function t(e,i,r,o,a){var s=n.call(this,o)||this;return s.x=e??.5,s.y=i??.5,s.r=r??.5,s.type="radial",s.global=a||!1,s}return Q(t,n),t}(Sx),vs=[0,0],ys=[0,0],ld=new X,ud=new X,hd=function(){function n(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new X;for(i=0;i<2;i++)this._axes[i]=new X;t&&this.fromBoundingRect(t,e)}return n.prototype.fromBoundingRect=function(t,e){var i=this._corners,r=this._axes,o=t.x,a=t.y,s=o+t.width,l=a+t.height;if(i[0].set(o,a),i[1].set(s,a),i[2].set(s,l),i[3].set(o,l),e)for(var u=0;u<4;u++)i[u].transform(e);for(X.sub(r[0],i[1],i[0]),X.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize(),u=0;u<2;u++)this._origin[u]=r[u].dot(i[0])},n.prototype.intersect=function(t,e){var i=!0,r=!e;return ld.set(1/0,1/0),ud.set(0,0),!this._intersectCheckOneSide(this,t,ld,ud,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(t,this,ld,ud,r,-1)&&(i=!1,r)||r||X.copy(e,i?ld:ud),i},n.prototype._intersectCheckOneSide=function(t,e,i,r,o,a){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,vs),this._getProjMinMaxOnAxis(l,e._corners,ys),vs[1]<ys[0]||vs[0]>ys[1]){if(s=!1,o)return s;var h=Math.abs(ys[0]-vs[1]),c=Math.abs(vs[0]-ys[1]);Math.min(h,c)>r.len()&&X.scale(r,u,h<c?-h*a:c*a)}else i&&(h=Math.abs(ys[0]-vs[1]),c=Math.abs(vs[0]-ys[1]),Math.min(h,c)<i.len()&&X.scale(i,u,h<c?h*a:-c*a))}return s},n.prototype._getProjMinMaxOnAxis=function(t,e,i){for(var r=this._axes[t],o=this._origin,a=e[0].dot(r)+o[t],s=a,l=a,u=1;u<e.length;u++){var h=e[u].dot(r)+o[t];s=Math.min(h,s),l=Math.max(h,l)}i[0]=s,i[1]=l},n}(),vk=[],Mx=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return Q(t,n),t.prototype.traverse=function(e,i){e.call(i,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,i){i?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,i){i=i||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],i)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var i=this._cursor;i<this._displayables.length;i++)e&&e(this._displayables[i]);for(i=0;i<this._temporaryDisplayables.length;i++)e&&e(this._temporaryDisplayables[i])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(i=this._displayables[e]).parent=this,i.update(),i.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var i;(i=this._temporaryDisplayables[e]).parent=this,i.update(),i.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new ue(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(vk)),e.union(o)}this._rect=e}return this._rect},t.prototype.contain=function(e,i){var r=this.transformCoordToLocal(e,i);if(this.getBoundingRect().contain(r[0],r[1]))for(var o=0;o<this._displayables.length;o++)if(this._displayables[o].contain(e,i))return!0;return!1},t}(er),Ix=_t();function xl(n,t,e,i,r){var o;if(t&&t.ecModel){var a=t.ecModel.getUpdatePayload();o=a&&a.animation}var s="update"===n;if(t&&t.isAnimationEnabled()){var l=void 0,u=void 0,h=void 0;return i?(l=pe(i.duration,200),u=pe(i.easing,"cubicOut"),h=0):(l=t.getShallow(s?"animationDurationUpdate":"animationDuration"),u=t.getShallow(s?"animationEasingUpdate":"animationEasing"),h=t.getShallow(s?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(l=o.duration),null!=o.easing&&(u=o.easing),null!=o.delay&&(h=o.delay)),ze(h)&&(h=h(e,r)),ze(l)&&(l=l(e)),{duration:l||0,delay:h,easing:u}}return null}function _g(n,t,e,i,r,o,a){var s,l=!1;ze(r)?(a=o,o=r,r=null):Oe(r)&&(o=r.cb,a=r.during,l=r.isFrom,s=r.removeOpt,r=r.dataIndex);var u="leave"===n;u||t.stopAnimation("leave");var h=xl(n,i,r,u?s||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(t,r):null);if(h&&h.duration>0){var c={duration:h.duration,delay:h.delay||0,easing:h.easing,done:o,force:!!o||!!a,setToFinal:!u,scope:n,during:a};l?t.animateFrom(e,c):t.animateTo(e,c)}else t.stopAnimation(),!l&&t.attr(e),a&&a(1),o&&o()}function vt(n,t,e,i,r,o){_g("update",n,t,e,i,r,o)}function Kt(n,t,e,i,r,o){_g("enter",n,t,e,i,r,o)}function _l(n){if(!n.__zr)return!0;for(var t=0;t<n.animators.length;t++)if("leave"===n.animators[t].scope)return!0;return!1}function ua(n,t,e,i,r,o){_l(n)||_g("leave",n,t,e,i,r,o)}function Cx(n,t,e,i){n.removeTextContent(),n.removeTextGuideLine(),ua(n,{style:{opacity:0}},t,e,i)}function ah(n,t,e){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(r){r.isGroup||Cx(r,t,e,i)}):Cx(n,t,e,i)}function Dr(n){Ix(n).oldStyle=n.style}var cd=Math.max,dd=Math.min,bg={};function Tx(n){return at.extend(n)}function Dx(n,t){return function(n,t){var e=mx(n,t);return function(i){function r(o){var a=i.call(this,o)||this;return a.applyTransform=e.applyTransform,a.buildPath=e.buildPath,a}return Q(r,i),r}(fx)}(n,t)}function ir(n,t){bg[n]=t}function pd(n){if(bg.hasOwnProperty(n))return bg[n]}function sh(n,t,e,i){var r=vx(n,t);return e&&("center"===i&&(e=Ax(e,r.getBoundingRect())),Sg(r,e)),r}function wg(n,t,e){var i=new zn({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(r){"center"===e&&i.setStyle(Ax(t,{width:r.width,height:r.height}))}});return i}function Ax(n,t){var e,i=t.width/t.height,r=n.height*i;return e=r<=n.width?n.height:(r=n.width)/i,{x:n.x+n.width/2-r/2,y:n.y+n.height/2-e/2,width:r,height:e}}var Bi=function(n,t){for(var e=[],i=n.length,r=0;r<i;r++)e.push(n[r].getUpdatedPathProxy(!0));var a=new at(t);return a.createPathProxy(),a.buildPath=function(s){if(gx(s)){s.appendPath(e);var l=s.getContext();l&&s.rebuildPath(l,1)}},a};function Sg(n,t){if(n.applyTransform){var e=n.getBoundingRect().calculateTransform(t);n.applyTransform(e)}}var fd=ds;function ha(n,t){for(var e=na([]);n&&n!==t;)Ji(e,n.getLocalTransform(),e),n=n.parent;return e}function Ar(n,t,e){return t&&!nn(t)&&(t=z.getLocalTransform(t)),e&&(t=wo([],t)),Zt([],n,t)}function gd(n,t,e){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),r=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),o=["left"===n?-i:"right"===n?i:0,"top"===n?-r:"bottom"===n?r:0];return o=Ar(o,t,e),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function kx(n){return!n.isGroup}function lh(n,t,e){if(n&&t){var i,r=(i={},n.traverse(function(a){kx(a)&&a.anid&&(i[a.anid]=a)}),i);t.traverse(function(a){if(kx(a)&&a.anid){var s=r[a.anid];if(s){var l=o(a);a.attr(o(s)),vt(a,l,e,Ze(a).dataIndex)}}})}function o(a){var s={x:a.x,y:a.y,rotation:a.rotation};return null!=a.shape&&(s.shape=ae({},a.shape)),s}}function Mg(n,t){return oe(n,function(e){var i=e[0];i=cd(i,t.x),i=dd(i,t.x+t.width);var r=e[1];return r=cd(r,t.y),[i,r=dd(r,t.y+t.height)]})}function Lx(n,t){var e=cd(n.x,t.x),i=dd(n.x+n.width,t.x+t.width),r=cd(n.y,t.y),o=dd(n.y+n.height,t.y+t.height);if(i>=e&&o>=r)return{x:e,y:r,width:i-e,height:o-r}}function bl(n,t,e){var i=ae({rectHover:!0},t),r=i.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(r.image=n.slice(8),Ee(r,e),new zn(i)):sh(n.replace("path://",""),i,e,"center")}function uh(n,t,e,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(Px(n,t,e,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function Px(n,t,e,i,r,o,a,s){var l,u=e-n,h=i-t,c=a-r,p=s-o,f=Ig(c,p,u,h);if((l=f)<=1e-6&&l>=-1e-6)return!1;var g=n-r,m=t-o,y=Ig(g,m,u,h)/f;if(y<0||y>1)return!1;var x=Ig(g,m,c,p)/f;return!(x<0||x>1)}function Ig(n,t,e,i){return n*i-e*t}function wl(n){var t=n.itemTooltipOption,e=n.componentModel,i=n.itemName,r=De(t)?{formatter:t}:t,o=e.mainType,a=e.componentIndex,s={componentType:o,name:i,$vars:["name"]};s[o+"Index"]=a;var l=n.formatterParamsExtra;l&&V(tt(l),function(h){Le(s,h)||(s[h]=l[h],s.$vars.push(h))});var u=Ze(n.el);u.componentMainType=o,u.componentIndex=a,u.tooltipConfig={name:i,option:Ee({content:i,formatterParams:s},r)}}function Ox(n,t){var e;n.isGroup&&(e=t(n)),e||n.traverse(t)}function ca(n,t){if(n)if(ce(n))for(var e=0;e<n.length;e++)Ox(n[e],t);else Ox(n,t)}ir("circle",nr),ir("ellipse",nh),ir("sector",ti),ir("ring",ml),ir("polygon",ni),ir("polyline",ii),ir("rect",ht),ir("line",kn),ir("bezierCurve",vl),ir("arc",oh);var hh=Object.freeze({__proto__:null,updateProps:vt,initProps:Kt,removeElement:ua,removeElementWithFadeOut:ah,isElementRemoved:_l,extendShape:Tx,extendPath:Dx,registerShape:ir,getShapeClass:pd,makePath:sh,makeImage:wg,mergePath:Bi,resizePath:Sg,subPixelOptimizeLine:function(n){return P1(n.shape,n.shape,n.style),n},subPixelOptimizeRect:function(n){return O1(n.shape,n.shape,n.style),n},subPixelOptimize:fd,getTransform:ha,applyTransform:Ar,transformDirection:gd,groupTransition:lh,clipPointsByRect:Mg,clipRectByRect:Lx,createIcon:bl,linePolygonIntersect:uh,lineLineIntersect:Px,setTooltipConfig:wl,traverseElements:ca,Group:He,Image:zn,Text:gt,Circle:nr,Ellipse:nh,Sector:ti,Ring:ml,Polygon:ni,Polyline:ii,Rect:ht,Line:kn,BezierCurve:vl,Arc:oh,IncrementalDisplayable:Mx,CompoundPath:sd,LinearGradient:yl,RadialGradient:xg,BoundingRect:ue,OrientedBoundingRect:hd,Point:X,Path:at}),md={};function Rx(n,t){for(var e=0;e<fi.length;e++){var i=fi[e],r=t[i],o=n.ensureState(i);o.style=o.style||{},o.style.text=r}var a=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:t.normal}),n.useStates(a,!0)}function Cg(n,t,e){var i,r=n.labelFetcher,o=n.labelDataIndex,a=n.labelDimIndex,s=t.normal;r&&(i=r.getFormattedLabel(o,"normal",null,a,s&&s.get("formatter"),null!=e?{interpolatedValue:e}:null)),null==i&&(i=ze(n.defaultText)?n.defaultText(o,n,e):n.defaultText);for(var l={normal:i},u=0;u<fi.length;u++){var h=fi[u],c=t[h];l[h]=pe(r?r.getFormattedLabel(o,h,null,a,c&&c.get("formatter")):null,i)}return l}function ri(n,t,e,i){e=e||md;for(var r=n instanceof gt,o=!1,a=0;a<$u.length;a++)if((p=t[$u[a]])&&p.getShallow("show")){o=!0;break}var s=r?n:n.getTextContent();if(o){r||(s||(s=new gt,n.setTextContent(s)),n.stateProxy&&(s.stateProxy=n.stateProxy));var l=Cg(e,t),u=t.normal,h=!!u.getShallow("show"),c=$t(u,i&&i.normal,e,!1,!r);for(c.text=l.normal,r||n.setTextConfig(vd(u,e,!1)),a=0;a<fi.length;a++){var p,f=fi[a];if(p=t[f]){var g=s.ensureState(f),m=!!pe(p.getShallow("show"),h);m!==h&&(g.ignore=!m),g.style=$t(p,i&&i[f],e,!0,!r),g.style.text=l[f],!r&&(n.ensureState(f).textConfig=vd(p,e,!0))}}s.silent=!!u.getShallow("silent"),null!=s.style.x&&(c.x=s.style.x),null!=s.style.y&&(c.y=s.style.y),s.ignore=!h,s.useStyle(c),s.dirty(),e.enableTextSetter&&(Sl(s).setLabelText=function(y){var x=Cg(e,t,y);Rx(s,x)})}else s&&(s.ignore=!0);n.dirty()}function jn(n,t){for(var e={normal:n.getModel(t=t||"label")},i=0;i<fi.length;i++){var r=fi[i];e[r]=n.getModel([r,t])}return e}function $t(n,t,e,i,r){var o={};return function(a,s,l,u,h){l=l||md;var c,p=s.ecModel,f=p&&p.option.textStyle,g=function(S){for(var M;S&&S!==S.ecModel;){var C=(S.option||md).rich;if(C){M=M||{};for(var T=tt(C),D=0;D<T.length;D++)M[T[D]]=1}S=S.parentModel}return M}(s);if(g)for(var m in c={},g)if(g.hasOwnProperty(m)){var y=s.getModel(["rich",m]);Bx(c[m]={},y,f,l,u,h,!1,!0)}c&&(a.rich=c);var x=s.get("overflow");x&&(a.overflow=x);var b=s.get("minMargin");null!=b&&(a.margin=b),Bx(a,s,f,l,u,h,!0,!1)}(o,n,e,i,r),t&&ae(o,t),o}function vd(n,t,e){t=t||{};var i,r={},o=n.getShallow("rotate"),a=pe(n.getShallow("distance"),e?null:5),s=n.getShallow("offset");return"outside"===(i=n.getShallow("position")||(e?null:"inside"))&&(i=t.defaultOutsidePosition||"top"),null!=i&&(r.position=i),null!=s&&(r.offset=s),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=a&&(r.distance=a),r.outsideFill="inherit"===n.get("color")?t.inheritColor||null:"auto",r}var Nx=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Ex=["align","lineHeight","width","height","tag","verticalAlign"],zx=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Bx(n,t,e,i,r,o,a,s){e=!r&&e||md;var l=i&&i.inheritColor,u=t.getShallow("color"),h=t.getShallow("textBorderColor"),c=pe(t.getShallow("opacity"),e.opacity);"inherit"!==u&&"auto"!==u||(u=l||null),"inherit"!==h&&"auto"!==h||(h=l||null),o||(u=u||e.color,h=h||e.textBorderColor),null!=u&&(n.fill=u),null!=h&&(n.stroke=h);var p=pe(t.getShallow("textBorderWidth"),e.textBorderWidth);null!=p&&(n.lineWidth=p);var f=pe(t.getShallow("textBorderType"),e.textBorderType);null!=f&&(n.lineDash=f);var g=pe(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);null!=g&&(n.lineDashOffset=g),r||null!=c||s||(c=i&&i.defaultOpacity),null!=c&&(n.opacity=c),r||o||null==n.fill&&i.inheritColor&&(n.fill=i.inheritColor);for(var m=0;m<Nx.length;m++){var y=Nx[m];null!=(b=pe(t.getShallow(y),e[y]))&&(n[y]=b)}for(m=0;m<Ex.length;m++)null!=(b=t.getShallow(y=Ex[m]))&&(n[y]=b);if(null==n.verticalAlign){var x=t.getShallow("baseline");null!=x&&(n.verticalAlign=x)}if(!a||!i.disableBox){for(m=0;m<zx.length;m++){var b;null!=(b=t.getShallow(y=zx[m]))&&(n[y]=b)}var S=t.getShallow("borderType");null!=S&&(n.borderDash=S),"auto"!==n.backgroundColor&&"inherit"!==n.backgroundColor||!l||(n.backgroundColor=l),"auto"!==n.borderColor&&"inherit"!==n.borderColor||!l||(n.borderColor=l)}}function Vx(n,t){var e=t&&t.getModel("textStyle");return wn([n.fontStyle||e&&e.getShallow("fontStyle")||"",n.fontWeight||e&&e.getShallow("fontWeight")||"",(n.fontSize||e&&e.getShallow("fontSize")||12)+"px",n.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Sl=_t();function Fx(n,t,e,i){if(n){var r=Sl(n);r.prevValue=r.value,r.value=e;var o=t.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=t)}}function Wx(n,t,e,i,r){var o=Sl(n);if(o.valueAnimation&&o.prevValue!==o.value){var a=o.defaultInterpolatedText,s=pe(o.interpolatedValue,o.prevValue),l=o.value;n.percent=0,(null==o.prevValue?Kt:vt)(n,{percent:1},i,t,null,function(u){var h=g1(e,o.precision,s,l,u);o.interpolatedValue=1===u?null:h;var c=Cg({labelDataIndex:t,labelFetcher:r,defaultText:a?a(h):h+""},o.statesModels,h);Rx(n,c)})}}var Tg,Dg,xk=["textStyle","color"],Ag=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],kg=new gt,_k=function(){function n(){}return n.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(xk):null)},n.prototype.getFont=function(){return Vx({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<Ag.length;i++)e[Ag[i]]=this.getShallow(Ag[i]);return kg.useStyle(e),kg.update(),kg.getBoundingRect()},n}(),Gx=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],bk=rs(Gx),wk=function(){function n(){}return n.prototype.getLineStyle=function(t){return bk(this,t)},n}(),Hx=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Sk=rs(Hx),Mk=function(){function n(){}return n.prototype.getItemStyle=function(t,e){return Sk(this,t,e)},n}(),Ct=function(){function n(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}return n.prototype.init=function(t,e,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o]},n.prototype.mergeOption=function(t,e){qe(this.option,t,!0)},n.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},n.prototype.getShallow=function(t,e){var i=this.option,r=null==i?i:i[t];if(null==r&&!e){var o=this.parentModel;o&&(r=o.getShallow(t))}return r},n.prototype.getModel=function(t,e){var i=null!=t,r=i?this.parsePath(t):null;return new n(i?this._doGet(r):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new this.constructor(Re(this.option))},n.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},n.prototype.resolveParentPath=function(t){return t},n.prototype.isAnimationEnabled=function(){if(!$e.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(t,e){var i=this.option;if(!t)return i;for(var r=0;r<t.length&&(!t[r]||null!=(i=i&&"object"==typeof i?i[t[r]]:null));r++);return null==i&&e&&(i=e._doGet(this.resolveParentPath(t),e.parentModel)),i},n}();Gf(Ct),Tg=Ct,Dg=["__\0is_clz",bA++].join("_"),Tg.prototype[Dg]=!0,Tg.isInstance=function(n){return!(!n||!n[Dg])},Nt(Ct,wk),Nt(Ct,Mk),Nt(Ct,IA),Nt(Ct,_k);var Ik=Math.round(10*Math.random());function Ml(n){return[n||"",Ik++].join("_")}function da(n,t){return qe(qe({},n,!0),t,!0)}var xd={},Pg={},Ux=$e.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":"EN";function Og(n,t){n=n.toUpperCase(),Pg[n]=new Ct(t),xd[n]=t}function Rg(n){return Pg[n]}Og("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Og("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var ch=864e5,Zx=31536e6,dh={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},qx={year:"{yyyy}",month:"{yyyy}-{MM}",day:"{yyyy}-{MM}-{dd}",hour:"{yyyy}-{MM}-{dd} "+dh.hour,minute:"{yyyy}-{MM}-{dd} "+dh.minute,second:"{yyyy}-{MM}-{dd} "+dh.second,millisecond:dh.none},Ng=["year","month","day","hour","minute","second","millisecond"],Kx=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Mi(n,t){return"0000".substr(0,t-(n+="").length)+n}function Il(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function Dk(n){return n===Il(n)}function ph(n,t,e,i){var r=zi(n),o=r[Eg(e)](),a=r[Cl(e)]()+1,s=Math.floor((a-1)/3)+1,l=r[_d(e)](),u=r["get"+(e?"UTC":"")+"Day"](),h=r[fh(e)](),c=(h-1)%12+1,p=r[bd(e)](),f=r[wd(e)](),g=r[Sd(e)](),m=(i instanceof Ct?i:Rg(i||Ux)||Pg.EN).getModel("time"),y=m.get("month"),x=m.get("monthAbbr"),b=m.get("dayOfWeek"),S=m.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,o%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,y[a-1]).replace(/{MMM}/g,x[a-1]).replace(/{MM}/g,Mi(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Mi(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,b[u]).replace(/{ee}/g,S[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Mi(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,Mi(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,Mi(p,2)).replace(/{m}/g,p+"").replace(/{ss}/g,Mi(f,2)).replace(/{s}/g,f+"").replace(/{SSS}/g,Mi(g,3)).replace(/{S}/g,g+"")}function $x(n,t){var e=zi(n),i=e[Cl(t)]()+1,r=e[_d(t)](),o=e[fh(t)](),a=e[bd(t)](),s=e[wd(t)](),l=0===e[Sd(t)](),u=l&&0===s,h=u&&0===a,c=h&&0===o,p=c&&1===r;return p&&1===i?"year":p?"month":c?"day":h?"hour":u?"minute":l?"second":"millisecond"}function Jx(n,t,e){var i=ot(n)?zi(n):n;switch(t=t||$x(n,e)){case"year":return i[Eg(e)]();case"half-year":return i[Cl(e)]()>=6?1:0;case"quarter":return Math.floor((i[Cl(e)]()+1)/4);case"month":return i[Cl(e)]();case"day":return i[_d(e)]();case"half-day":return i[fh(e)]()/24;case"hour":return i[fh(e)]();case"minute":return i[bd(e)]();case"second":return i[wd(e)]();case"millisecond":return i[Sd(e)]()}}function Eg(n){return n?"getUTCFullYear":"getFullYear"}function Cl(n){return n?"getUTCMonth":"getMonth"}function _d(n){return n?"getUTCDate":"getDate"}function fh(n){return n?"getUTCHours":"getHours"}function bd(n){return n?"getUTCMinutes":"getMinutes"}function wd(n){return n?"getUTCSeconds":"getSeconds"}function Sd(n){return n?"getUTCMilliseconds":"getMilliseconds"}function Ak(n){return n?"setUTCFullYear":"setFullYear"}function Qx(n){return n?"setUTCMonth":"setMonth"}function e_(n){return n?"setUTCDate":"setDate"}function t_(n){return n?"setUTCHours":"setHours"}function n_(n){return n?"setUTCMinutes":"setMinutes"}function i_(n){return n?"setUTCSeconds":"setSeconds"}function r_(n){return n?"setUTCMilliseconds":"setMilliseconds"}function zg(n){if(!Bf(n))return De(n)?n:"-";var t=(n+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Bg(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(e,i){return i.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var xs=Ft,kk=/([&<>"'])/g,Lk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ii(n){return null==n?"":(n+"").replace(kk,function(t,e){return Lk[e]})}function Vg(n,t,e){function i(u){return u&&wn(u)?u:"-"}function r(u){return!(null==u||isNaN(u)||!isFinite(u))}var o="time"===t,a=n instanceof Date;if(o||a){var s=o?zi(n):n;if(!isNaN(+s))return ph(s,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",e);if(a)return"-"}if("ordinal"===t)return Vo(n)?i(n):ot(n)&&r(n)?n+"":"-";var l=jr(n);return r(l)?zg(l):Vo(n)?i(n):"boolean"==typeof n?n+"":"-"}var o_=["a","b","c","d","e","f","g"],Fg=function(n,t){return"{"+n+(t??"")+"}"};function Wg(n,t,e){ce(t)||(t=[t]);var i=t.length;if(!i)return"";for(var r=t[0].$vars||[],o=0;o<r.length;o++){var a=o_[o];n=n.replace(Fg(a),Fg(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var u=t[s][r[l]];n=n.replace(Fg(o_[l],s),e?Ii(u):u)}return n}function a_(n,t){var e=De(n)?{color:n,extraCssText:t}:n||{},i=e.color,r=e.type;t=e.extraCssText;var o=e.renderMode||"html";return i?"html"===o?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ii(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Ii(i)+";"+(t||"")+'"></span>':{renderMode:o,content:"{"+(e.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}:""}function _s(n,t){return t=t||"transparent",De(n)?n:Oe(n)&&n.colorStops&&(n.colorStops[0]||{}).color||t}function Md(n,t){if("_blank"===t||"blank"===t){var e=window.open();e.opener=null,e.location.href=n}else window.open(n,t)}var Id=V,s_=["left","right","top","bottom","width","height"],bs=[["width","left","right"],["height","top","bottom"]];function Gg(n,t,e,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;t.eachChild(function(l,u){var h,c,p=l.getBoundingRect(),f=t.childAt(u+1),g=f&&f.getBoundingRect();if("horizontal"===n){var m=p.width+(g?-g.x+p.x:0);(h=o+m)>i||l.newline?(o=0,h=m,a+=s+e,s=p.height):s=Math.max(s,p.height)}else{var y=p.height+(g?-g.y+p.y:0);(c=a+y)>r||l.newline?(o+=s+e,a=0,c=y,s=p.width):s=Math.max(s,p.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===n?o=h+e:a=c+e)})}var ws=Gg;function In(n,t,e){e=xs(e||0);var i=t.width,r=t.height,o=Te(n.left,i),a=Te(n.top,r),s=Te(n.right,i),l=Te(n.bottom,r),u=Te(n.width,i),h=Te(n.height,r),c=e[2]+e[0],p=e[1]+e[3],f=n.aspect;switch(isNaN(u)&&(u=i-s-p-o),isNaN(h)&&(h=r-l-c-a),null!=f&&(isNaN(u)&&isNaN(h)&&(f>i/r?u=.8*i:h=.8*r),isNaN(u)&&(u=f*h),isNaN(h)&&(h=u/f)),isNaN(o)&&(o=i-s-u-p),isNaN(a)&&(a=r-l-h-c),n.left||n.right){case"center":o=i/2-u/2-e[3];break;case"right":o=i-u-p}switch(n.top||n.bottom){case"middle":case"center":a=r/2-h/2-e[0];break;case"bottom":a=r-h-c}o=o||0,a=a||0,isNaN(u)&&(u=i-p-o-(s||0)),isNaN(h)&&(h=r-c-a-(l||0));var g=new ue(o+e[3],a+e[0],u,h);return g.margin=e,g}function Cd(n,t,e,i,r,o){var a,s=!r||!r.hv||r.hv[0],l=!r||!r.hv||r.hv[1],u=r&&r.boundingMode||"all";if((o=o||n).x=n.x,o.y=n.y,!s&&!l)return!1;if("raw"===u)a="group"===n.type?new ue(0,0,+t.width||0,+t.height||0):n.getBoundingRect();else if(a=n.getBoundingRect(),n.needLocalTransform()){var h=n.getLocalTransform();(a=a.clone()).applyTransform(h)}var c=In(Ee({width:a.width,height:a.height},t),e,i),p=s?c.x-a.x:0,f=l?c.y-a.y:0;return"raw"===u?(o.x=p,o.y=f):(o.x+=p,o.y+=f),o===n&&n.markRedraw(),!0}function gh(n){var t=n.layoutMode||n.constructor.layoutMode;return Oe(t)?t:t?{type:t}:null}function pa(n,t,e){var i=e&&e.ignoreSize;!ce(i)&&(i=[i,i]);var r=a(bs[0],0),o=a(bs[1],1);function a(h,c){var p={},f=0,g={},m=0;if(Id(h,function(b){g[b]=n[b]}),Id(h,function(b){s(t,b)&&(p[b]=g[b]=t[b]),l(p,b)&&f++,l(g,b)&&m++}),i[c])return l(t,h[1])?g[h[2]]=null:l(t,h[2])&&(g[h[1]]=null),g;if(2!==m&&f){if(f>=2)return p;for(var y=0;y<h.length;y++){var x=h[y];if(!s(p,x)&&s(n,x)){p[x]=n[x];break}}return p}return g}function s(h,c){return h.hasOwnProperty(c)}function l(h,c){return null!=h[c]&&"auto"!==h[c]}function u(h,c,p){Id(h,function(f){c[f]=p[f]})}u(bs[0],n,r),u(bs[1],n,o)}function Tl(n){return l_({},n)}function l_(n,t){return t&&n&&Id(s_,function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n}We(Gg,"vertical"),We(Gg,"horizontal");var n,t,Pk=_t(),st=function(n){function t(e,i,r){var o=n.call(this,e,i,r)||this;return o.uid=Ml("ec_cpt_model"),o}return Q(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r)},t.prototype.mergeDefaultAndTheme=function(e,i){var r=gh(this),o=r?Tl(e):{};qe(e,i.getTheme().get(this.mainType)),qe(e,this.getDefaultOption()),r&&pa(e,o,r)},t.prototype.mergeOption=function(e,i){qe(this.option,e,!0);var r=gh(this);r&&pa(this.option,e,r)},t.prototype.optionUpdated=function(e,i){},t.prototype.getDefaultOption=function(){var u,e=this.constructor;if(!(u=e)||!u[m1])return e.defaultOption;var i=Pk(this);if(!i.defaultOption){for(var r=[],o=e;o;){var a=o.prototype.defaultOption;a&&r.push(a),o=o.superClass}for(var s={},l=r.length-1;l>=0;l--)s=qe(s,r[l],!0);i.defaultOption=s}return i.defaultOption},t.prototype.getReferringComponents=function(e,i){var o=e+"Id";return Zu(this.ecModel,e,{index:this.get(e+"Index",!0),id:this.get(o,!0)},i)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=((e=t.prototype).type="component",e.id="",e.name="",e.mainType="",e.subType="",void(e.componentIndex=0)),t;var e}(Ct);v1(st,Ct),Xc(st),t={},(n=st).registerSubTypeDefaulter=function(e,i){var r=Zr(e);t[r.main]=i},n.determineSubType=function(e,i){var r=i.type;if(!r){var o=Zr(e).main;n.hasSubTypes(e)&&t[o]&&(r=t[o](i))}return r},function(n,t){function e(i,r){return i[r]||(i[r]={predecessor:[],successor:[]}),i[r]}n.topologicalTravel=function(i,r,o,a){if(i.length){var s=(x={},b=[],V(y=r,function(S){var T,D,k,M=e(x,S),C=(T=M.originalDeps=function(n){var t=[];return V(st.getClassesByMainType(n),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=oe(t,function(e){return Zr(e).main}),"dataset"!==n&&je(t,"dataset")<=0&&t.unshift("dataset"),t}(S),D=y,k=[],V(T,function(R){je(D,R)>=0&&k.push(R)}),k);M.entryCount=C.length,0===M.entryCount&&b.push(S),V(C,function(T){je(M.predecessor,T)<0&&M.predecessor.push(T);var D=e(x,T);je(D.successor,T)<0&&D.successor.push(S)})}),{graph:x,noEntryList:b}),l=s.graph,u=s.noEntryList,h={};for(V(i,function(y){h[y]=!0});u.length;){var c=u.pop(),p=l[c],f=!!h[c];f&&(o.call(a,c,p.originalDeps.slice()),delete h[c]),V(p.successor,f?m:g)}V(h,function(){throw new Error("")})}var y,x,b;function g(y){l[y].entryCount--,0===l[y].entryCount&&u.push(y)}function m(y){h[y]=!0,g(y)}}}(st);var u_="";typeof navigator<"u"&&(u_=navigator.platform||"");var Dl="rgba(0, 0, 0, 0.2)",Ok={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Dl,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Dl,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Dl,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Dl,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Dl,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Dl,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:u_.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},h_=Ne(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),fa="original",Do="arrayRows",ga="objectRows",Al="keyedColumns",kl="typedArray",c_="unknown",Ss="column",p_=_t();function f_(n,t,e){var i={},r=Yg(t);if(!r||!n)return i;var o,a,s=[],l=[],h=p_(t.ecModel).datasetMap,c=r.uid+"_"+e.seriesLayoutBy;V(n=n.slice(),function(m,y){var x=Oe(m)?m:n[y]={name:m};"ordinal"===x.type&&null==o&&(o=y,a=g(x)),i[x.name]=[]});var p=h.get(c)||h.set(c,{categoryWayDim:a,valueWayDim:0});function f(m,y,x){for(var b=0;b<x;b++)m.push(y+b)}function g(m){var y=m.dimsDef;return y?y.length:1}return V(n,function(m,y){var x=m.name,b=g(m);if(null==o){var S=p.valueWayDim;f(i[x],S,b),f(l,S,b),p.valueWayDim+=b}else o===y?(f(i[x],0,b),f(s,0,b)):(f(i[x],S=p.categoryWayDim,b),f(l,S,b),p.categoryWayDim+=b)}),s.length&&(i.itemName=s),l.length&&(i.seriesName=l),i}function Ug(n,t,e){var i={};if(!Yg(n))return i;var r,o=t.sourceFormat,a=t.dimensionsDefine;o!==ga&&o!==Al||V(a,function(u,h){"name"===(Oe(u)?u.name:u)&&(r=h)});var s=function(){for(var u={},h={},c=[],p=0,f=Math.min(5,e);p<f;p++){var g=m_(t.data,o,t.seriesLayoutBy,a,t.startIndex,p);c.push(g);var m=3===g;if(m&&null==u.v&&p!==r&&(u.v=p),(null==u.n||u.n===u.v||!m&&3===c[u.n])&&(u.n=p),y(u)&&3!==c[u.n])return u;m||(2===g&&null==h.v&&p!==r&&(h.v=p),null!=h.n&&h.n!==h.v||(h.n=p))}function y(x){return null!=x.v&&null!=x.n}return y(u)?u:y(h)?h:null}();if(s){i.value=[s.v];var l=r??s.n;i.itemName=[l],i.seriesName=[l]}return i}function Yg(n){if(!n.get("data",!0))return Zu(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},Mn).models[0]}function g_(n,t){return m_(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,t)}function m_(n,t,e,i,r,o){var a,s,l;if(bn(n))return 3;if(i){var u=i[o];Oe(u)?(s=u.name,l=u.type):De(u)&&(s=u)}if(null!=l)return"ordinal"===l?1:3;if(t===Do){var h=n;if("row"===e){for(var c=h[o],p=0;p<(c||[]).length&&p<5;p++)if(null!=(a=b(c[r+p])))return a}else for(p=0;p<h.length&&p<5;p++){var f=h[r+p];if(f&&null!=(a=b(f[o])))return a}}else if(t===ga){var g=n;if(!s)return 3;for(p=0;p<g.length&&p<5;p++)if((y=g[p])&&null!=(a=b(y[s])))return a}else if(t===Al){if(!s||!(c=n[s])||bn(c))return 3;for(p=0;p<c.length&&p<5;p++)if(null!=(a=b(c[p])))return a}else if(t===fa){var m=n;for(p=0;p<m.length&&p<5;p++){var y,x=hl(y=m[p]);if(!ce(x))return 3;if(null!=(a=b(x[o])))return a}}function b(S){var M=De(S);return null!=S&&isFinite(S)&&""!==S?M?2:3:M&&"-"!==S?1:void 0}return 3}var Dd,mh,v_,Xg=Ne(),y_=_t(),Rk=_t(),jg=function(){function n(){}return n.prototype.getColorFromPalette=function(t,e,i){var r=zt(this.get("color",!0)),o=this.get("colorLayer",!0);return x_(this,y_,r,o,t,e,i)},n.prototype.clearColorPalette=function(){!function(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}(this,y_)},n}();function Zg(n,t,e,i){var r=zt(n.get(["aria","decal","decals"]));return x_(n,Rk,r,null,t,e,i)}function x_(n,t,e,i,r,o,a){var s=t(o=o||n),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var h=null!=a&&i?function(p,f){for(var g=p.length,m=0;m<g;m++)if(p[m].length>f)return p[m];return p[g-1]}(i,a):e;if((h=h||e)&&h.length){var c=h[l];return r&&(u[r]=c),s.paletteIdx=(l+1)%h.length,c}}var qg=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.init=function(e,i,r,o,a,s){o=o||{},this.option=null,this._theme=new Ct(o),this._locale=new Ct(a),this._optionManager=s},t.prototype.setOption=function(e,i,r){var o=w_(i);this._optionManager.setOption(e,r,o),this._resetOption(null,o)},t.prototype.resetOption=function(e,i){return this._resetOption(e,w_(i))},t.prototype._resetOption=function(e,i){var r=!1,o=this._optionManager;if(!e||"recreate"===e){var a=o.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(a,i)):v_(this,a),r=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var s=o.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,i))}if(!e||"recreate"===e||"media"===e){var l=o.getMediaOption(this);l.length&&V(l,function(u){r=!0,this._mergeOption(u,i)},this)}return r},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,i){var r=this.option,o=this._componentsMap,a=this._componentsCount,s=[],l=Ne(),u=i&&i.replaceMergeMainTypeMap;p_(this).datasetMap=Ne(),V(e,function(h,c){null!=h&&(st.hasClass(c)?c&&(s.push(c),l.set(c,!0)):r[c]=null==r[c]?Re(h):qe(r[c],h,!0))}),u&&u.each(function(h,c){st.hasClass(c)&&!l.get(c)&&(s.push(c),l.set(c,!0))}),st.topologicalTravel(s,st.getAllClassMainTypes(),function(h){var M,C,c=function(S,M,C){var T=Xg.get(M);if(!T)return C;var D=T(S);return D?C.concat(D):C}(this,h,zt(e[h])),p=o.get(h),g=d1(p,c,p?u&&u.get(h)?"replaceMerge":"normalMerge":"replaceAll");M=h,C=st,V(g,function(T){var R,N,D=T.newOption;Oe(D)&&(T.keyInfo.mainType=M,T.keyInfo.subType=(N=T.existing,(R=D).type?R.type:N?N.subType:C.determineSubType(M,R)))}),r[h]=null,o.set(h,null),a.set(h,0);var m,y=[],x=[],b=0;V(g,function(S,M){var C=S.existing,T=S.newOption;if(T){var k=st.getClass(h,S.keyInfo.subType,!("series"===h));if(!k)return;if("tooltip"===h){if(m)return;m=!0}if(C&&C.constructor===k)C.name=S.keyInfo.name,C.mergeOption(T,this),C.optionUpdated(T,!1);else{var R=ae({componentIndex:M},S.keyInfo);ae(C=new k(T,this,this,R),R),S.brandNew&&(C.__requireNewView=!0),C.init(T,this,this),C.optionUpdated(null,!0)}}else C&&(C.mergeOption({},this),C.optionUpdated({},!1));C?(y.push(C.option),x.push(C),b++):(y.push(void 0),x.push(void 0))},this),r[h]=y,o.set(h,x),a.set(h,b),"series"===h&&Dd(this)},this),this._seriesIndices||Dd(this)},t.prototype.getOption=function(){var e=Re(this.option);return V(e,function(i,r){if(st.hasClass(r)){for(var o=zt(i),a=o.length,s=!1,l=a-1;l>=0;l--)o[l]&&!Xu(o[l])?s=!0:(o[l]=null,!s&&a--);o.length=a,e[r]=o}}),delete e["\0_ec_inner"],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,i){var r=this._componentsMap.get(e);if(r){var o=r[i||0];if(o)return o;if(null==i)for(var a=0;a<r.length;a++)if(r[a])return r[a]}},t.prototype.queryComponents=function(e){var i=e.mainType;if(!i)return[];var r,o=e.index,a=e.id,s=e.name,l=this._componentsMap.get(i);return l&&l.length?(null!=o?(r=[],V(zt(o),function(u){l[u]&&r.push(l[u])})):r=null!=a?__("id",a,l):null!=s?__("name",s,l):dt(l,function(u){return!!u}),b_(r,e)):[]},t.prototype.findComponents=function(e){var i,r,o,a,s,u=e.mainType,h=(r=u+"Index",o=u+"Id",a=u+"Name",!(i=e.query)||null==i[r]&&null==i[o]&&null==i[a]?null:{mainType:u,index:i[r],id:i[o],name:i[a]});return s=b_(h?this.queryComponents(h):dt(this._componentsMap.get(u),function(p){return!!p}),e),e.filter?dt(s,e.filter):s},t.prototype.eachComponent=function(e,i,r){var o=this._componentsMap;if(ze(e)){var a=i,s=e;o.each(function(c,p){for(var f=0;c&&f<c.length;f++){var g=c[f];g&&s.call(a,p,g,g.componentIndex)}})}else for(var l=De(e)?o.get(e):Oe(e)?this.findComponents(e):null,u=0;l&&u<l.length;u++){var h=l[u];h&&i.call(r,h,h.componentIndex)}},t.prototype.getSeriesByName=function(e){var i=An(e,null);return dt(this._componentsMap.get("series"),function(r){return!!r&&null!=i&&r.name===i})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return dt(this._componentsMap.get("series"),function(i){return!!i&&i.subType===e})},t.prototype.getSeries=function(){return dt(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,i){mh(this),V(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];e.call(i,o,r)},this)},t.prototype.eachRawSeries=function(e,i){V(this._componentsMap.get("series"),function(r){r&&e.call(i,r,r.componentIndex)})},t.prototype.eachSeriesByType=function(e,i,r){mh(this),V(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===e&&i.call(r,a,o)},this)},t.prototype.eachRawSeriesByType=function(e,i,r){return V(this.getSeriesByType(e),i,r)},t.prototype.isSeriesFiltered=function(e){return mh(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,i){mh(this);var r=[];V(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];e.call(i,a,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=Ne(r)},t.prototype.restoreData=function(e){Dd(this);var i=this._componentsMap,r=[];i.each(function(o,a){st.hasClass(a)&&r.push(a)}),st.topologicalTravel(r,st.getAllClassMainTypes(),function(o){V(i.get(o),function(a){!a||"series"===o&&function(s,l){if(l){var u=l.seriesIndex,h=l.seriesId,c=l.seriesName;return null!=u&&s.componentIndex!==u||null!=h&&s.id!==h||null!=c&&s.name!==c}}(a,e)||a.restoreData()})})},t.internalField=(Dd=function(e){var i=e._seriesIndices=[];V(e._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),e._seriesIndicesMap=Ne(i)},mh=function(e){},void(v_=function(e,i){e.option={},e.option["\0_ec_inner"]=1,e._componentsMap=Ne({series:[]}),e._componentsCount=Ne();var o,s,r=i.aria;Oe(r)&&null==r.enabled&&(r.enabled=!0),s=(o=i).color&&!o.colorLayer,V(e._theme.option,function(l,u){"colorLayer"===u&&s||st.hasClass(u)||("object"==typeof l?o[u]=o[u]?qe(o[u],l,!1):Re(l):null==o[u]&&(o[u]=l))}),qe(i,Ok,!1),e._mergeOption(i,null)})),t}(Ct);function __(n,t,e){if(ce(t)){var i=Ne();return V(t,function(o){null!=o&&null!=An(o,null)&&i.set(o,!0)}),dt(e,function(o){return o&&i.get(o[n])})}var r=An(t,null);return dt(e,function(o){return o&&null!=r&&o[n]===r})}function b_(n,t){return t.hasOwnProperty("subType")?dt(n,function(e){return e&&e.subType===t.subType}):n}function w_(n){var t=Ne();return n&&V(zt(n.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}Nt(qg,jg);var Nk=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],S_=function(n){V(Nk,function(t){this[t]=F(n[t],n)},this)},Kg={},Ll=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(t,e){var i=[];V(Kg,function(r,o){var a=r.create(t,e);i=i.concat(a||[])}),this._coordinateSystems=i},n.prototype.update=function(t,e){V(this._coordinateSystems,function(i){i.update&&i.update(t,e)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(t,e){Kg[t]=e},n.get=function(t){return Kg[t]},n}(),Ek=/^(min|max)?(.+)$/,zk=function(){function n(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return n.prototype.setOption=function(t,e,i){t&&(V(zt(t.series),function(a){a&&a.data&&bn(a.data)&&Ui(a.data)}),V(zt(t.dataset),function(a){a&&a.source&&bn(a.source)&&Ui(a.source)})),t=Re(t);var r=this._optionBackup,o=function(a,s,l){var u,h,c=[],p=a.baseOption,f=a.timeline,g=a.options,m=a.media,y=!!a.media,x=!!(g||f||p&&p.timeline);function b(S){V(s,function(M){M(S,l)})}return p?(h=p).timeline||(h.timeline=f):((x||y)&&(a.options=a.media=null),h=a),y&&ce(m)&&V(m,function(S){S&&S.option&&(S.query?c.push(S):u||(u=S))}),b(h),V(g,function(S){return b(S)}),V(c,function(S){return b(S.option)}),{baseOption:h,timelineOptions:g||[],mediaDefault:u,mediaList:c}}(t,e,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},n.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Re(t?e.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(t){var e,i=this._timelineOptions;if(i.length){var r=t.getComponent("timeline");r&&(e=Re(i[r.getCurrentIndex()]))}return e},n.prototype.getMediaOption=function(t){var i,r=this._api.getWidth(),o=this._api.getHeight(),a=this._mediaList,s=this._mediaDefault,l=[],u=[];if(!a.length&&!s)return u;for(var h=0,c=a.length;h<c;h++)Bk(a[h].query,r,o)&&l.push(h);return!l.length&&s&&(l=[-1]),l.length&&(i=this._currentMediaIndices,l.join(",")!==i.join(","))&&(u=oe(l,function(p){return Re(-1===p?s.option:a[p].option)})),this._currentMediaIndices=l,u},n}();function Bk(n,t,e){var i={width:t,height:e,aspectratio:t/e},r=!0;return V(n,function(o,a){var h,c,p,s=a.match(Ek);if(s&&s[1]&&s[2]){var l=s[1],u=s[2].toLowerCase();h=i[u],c=o,("min"===(p=l)?h>=c:"max"===p?h<=c:h===c)||(r=!1)}}),r}var Lr=V,vh=Oe,M_=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function $g(n){var t=n&&n.itemStyle;if(t)for(var e=0,i=M_.length;e<i;e++){var r=M_[e],o=t.normal,a=t.emphasis;o&&o[r]&&(n[r]=n[r]||{},n[r].normal?qe(n[r].normal,o[r]):n[r].normal=o[r],o[r]=null),a&&a[r]&&(n[r]=n[r]||{},n[r].emphasis?qe(n[r].emphasis,a[r]):n[r].emphasis=a[r],a[r]=null)}}function oi(n,t,e){if(n&&n[t]&&(n[t].normal||n[t].emphasis)){var i=n[t].normal,r=n[t].emphasis;i&&(e?(n[t].normal=n[t].emphasis=null,Ee(n[t],i)):n[t]=i),r&&(n.emphasis=n.emphasis||{},n.emphasis[t]=r,r.focus&&(n.emphasis.focus=r.focus),r.blurScope&&(n.emphasis.blurScope=r.blurScope))}}function yh(n){oi(n,"itemStyle"),oi(n,"lineStyle"),oi(n,"areaStyle"),oi(n,"label"),oi(n,"labelLine"),oi(n,"upperLabel"),oi(n,"edgeLabel")}function Cn(n,t){var e=vh(n)&&n[t],i=vh(e)&&e.textStyle;if(i)for(var r=0,o=c1.length;r<o;r++){var a=c1[r];i.hasOwnProperty(a)&&(e[a]=i[a])}}function rr(n){n&&(yh(n),Cn(n,"label"),n.emphasis&&Cn(n.emphasis,"label"))}function Ao(n){return ce(n)?n:n?[n]:[]}function I_(n){return(ce(n)?n[0]:n)||{}}function C_(n){n&&V(Fk,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}var Fk=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Wk=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Jg=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function xh(n){var t=n&&n.itemStyle;if(t)for(var e=0;e<Jg.length;e++){var i=Jg[e][1];null!=t[i]&&(t[Jg[e][0]]=t[i])}}function T_(n){n&&"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function D_(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function A_(n,t){if(n)for(var e=0;e<n.length;e++)t(n[e]),n[e]&&A_(n[e].children,t)}function k_(n,t){(function Vk(n,t){Lr(Ao(n.series),function(i){vh(i)&&function(r){if(vh(r)){$g(r),yh(r),Cn(r,"label"),Cn(r,"upperLabel"),Cn(r,"edgeLabel"),r.emphasis&&(Cn(r.emphasis,"label"),Cn(r.emphasis,"upperLabel"),Cn(r.emphasis,"edgeLabel"));var o=r.markPoint;o&&($g(o),rr(o));var a=r.markLine;a&&($g(a),rr(a));var s=r.markArea;s&&rr(s);var l=r.data;if("graph"===r.type){l=l||r.nodes;var u=r.links||r.edges;if(u&&!bn(u))for(var h=0;h<u.length;h++)rr(u[h]);V(r.categories,function(f){yh(f)})}if(l&&!bn(l))for(h=0;h<l.length;h++)rr(l[h]);if((o=r.markPoint)&&o.data){var c=o.data;for(h=0;h<c.length;h++)rr(c[h])}if((a=r.markLine)&&a.data){var p=a.data;for(h=0;h<p.length;h++)ce(p[h])?(rr(p[h][0]),rr(p[h][1])):rr(p[h])}"gauge"===r.type?(Cn(r,"axisLabel"),Cn(r,"title"),Cn(r,"detail")):"treemap"===r.type?(oi(r.breadcrumb,"itemStyle"),V(r.levels,function(f){yh(f)})):"tree"===r.type&&yh(r.leaves)}}(i)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),Lr(e,function(i){Lr(Ao(n[i]),function(r){r&&(Cn(r,"axisLabel"),Cn(r.axisPointer,"label"))})}),Lr(Ao(n.parallel),function(i){var r=i&&i.parallelAxisDefault;Cn(r,"axisLabel"),Cn(r&&r.axisPointer,"label")}),Lr(Ao(n.calendar),function(i){oi(i,"itemStyle"),Cn(i,"dayLabel"),Cn(i,"monthLabel"),Cn(i,"yearLabel")}),Lr(Ao(n.radar),function(i){Cn(i,"name"),i.name&&null==i.axisName&&(i.axisName=i.name,delete i.name),null!=i.nameGap&&null==i.axisNameGap&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),Lr(Ao(n.geo),function(i){vh(i)&&(rr(i),Lr(Ao(i.regions),function(r){rr(r)}))}),Lr(Ao(n.timeline),function(i){rr(i),oi(i,"label"),oi(i,"itemStyle"),oi(i,"controlStyle",!0);var r=i.data;ce(r)&&V(r,function(o){Oe(o)&&(oi(o,"label"),oi(o,"itemStyle"))})}),Lr(Ao(n.toolbox),function(i){oi(i,"iconStyle"),Lr(i.feature,function(r){oi(r,"iconStyle")})}),Cn(I_(n.axisPointer),"label"),Cn(I_(n.tooltip).axisPointer,"label")})(n,t),n.series=zt(n.series),V(n.series,function(e){if(Oe(e)){var i=e.type;if("line"===i)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===i||"gauge"===i){if(null!=e.clockWise&&(e.clockwise=e.clockWise),T_(e.label),(a=e.data)&&!bn(a))for(var r=0;r<a.length;r++)T_(a[r]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===i){var o=function(l,u){for(var h="pointer.color".split(","),c=l,p=0;p<h.length&&null!=(c=c&&c[h[p]]);p++);return c}(e);null!=o&&function(l,u,h,c){for(var p,f="itemStyle.color".split(","),g=l,m=0;m<f.length-1;m++)null==g[p=f[m]]&&(g[p]={}),g=g[p];null==g[f[m]]&&(g[f[m]]=h)}(e,0,o)}else if("bar"===i){var a;if(xh(e),xh(e.backgroundStyle),xh(e.emphasis),(a=e.data)&&!bn(a))for(r=0;r<a.length;r++)"object"==typeof a[r]&&(xh(a[r]),xh(a[r]&&a[r].emphasis))}else if("sunburst"===i){var s=e.highlightPolicy;s&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=s)),D_(e),A_(e.data,D_)}else"graph"===i||"sankey"===i?(l=e)&&null!=l.focusNodeAdjacency&&(l.emphasis=l.emphasis||{},null==l.emphasis.focus&&(l.emphasis.focus="adjacency")):"map"===i&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Ee(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),C_(e)}var l}),n.dataRange&&(n.visualMap=n.dataRange),V(Wk,function(e){var i=n[e];i&&(ce(i)||(i=[i]),V(i,function(r){C_(r)}))})}function Gk(n){V(n,function(t,e){var i=[],r=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],a=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(u,h,c){var p,f,g=a.get(t.stackedDimension,c);if(isNaN(g))return r;s?f=a.getRawIndex(c):p=a.get(t.stackedByDimension,c);for(var m=NaN,y=e-1;y>=0;y--){var x=n[y];if(s||(f=x.data.rawIndexOf(x.stackedByDimension,p)),f>=0){var b=x.data.getByRawIndex(x.stackResultDimension,f);if("all"===l||"positive"===l&&b>0||"negative"===l&&b<0||"samesign"===l&&g>=0&&b>0||"samesign"===l&&g<=0&&b<0){g=mA(g,b),m=b;break}}}return i[0]=g,i[1]=m,i})})}var Pl,Ol,Rl,L_,P_,Ad=function(n){this.data=n.data||(n.sourceFormat===Al?{}:[]),this.sourceFormat=n.sourceFormat||c_,this.seriesLayoutBy=n.seriesLayoutBy||Ss,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var t=this.dimensionsDefine=n.dimensionsDefine;if(t)for(var e=0;e<t.length;e++){var i=t[e];null==i.type&&1===g_(this,e)&&(i.type="ordinal")}};function Qg(n){return n instanceof Ad}function em(n,t,e){e=e||O_(n);var i=t.seriesLayoutBy,r=function(o,a,s,l,u){var h,c;if(!o)return{dimensionsDefine:R_(u),startIndex:c,dimensionsDetectedCount:h};if(a===Do){var p=o;"auto"===l||null==l?N_(function(g){null!=g&&"-"!==g&&(De(g)?null==c&&(c=1):c=0)},s,p,10):c=ot(l)?l:l?1:0,u||1!==c||(u=[],N_(function(g,m){u[m]=null!=g?g+"":""},s,p,1/0)),h=u?u.length:"row"===s?p.length:p[0]?p[0].length:null}else if(a===ga)u||(u=function(g){for(var m,y=0;y<g.length&&!(m=g[y++]););if(m){var x=[];return V(m,function(b,S){x.push(S)}),x}}(o));else if(a===Al)u||(u=[],V(o,function(g,m){u.push(m)}));else if(a===fa){var f=hl(o[0]);h=ce(f)&&f.length||1}return{startIndex:c,dimensionsDefine:R_(u),dimensionsDetectedCount:h}}(n,e,i,t.sourceHeader,t.dimensions);return new Ad({data:n,sourceFormat:e,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Re(t)})}function tm(n){return new Ad({data:n,sourceFormat:bn(n)?kl:fa})}function O_(n){var t=c_;if(bn(n))t=kl;else if(ce(n)){0===n.length&&(t=Do);for(var e=0,i=n.length;e<i;e++){var r=n[e];if(null!=r){if(ce(r)){t=Do;break}if(Oe(r)){t=ga;break}}}}else if(Oe(n))for(var o in n)if(Le(n,o)&&nn(n[o])){t=Al;break}return t}function R_(n){if(n){var t=Ne();return oe(n,function(e,i){var r={name:(e=Oe(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var o=t.get(r.name);return o?r.name+="-"+o.count++:t.set(r.name,{count:1}),r})}}function N_(n,t,e,i){if("row"===t)for(var r=0;r<e.length&&r<i;r++)n(e[r]?e[r][0]:null,r);else{var o=e[0]||[];for(r=0;r<o.length&&r<i;r++)n(o[r],r)}}function E_(n){var t=n.sourceFormat;return t===ga||t===Al}var z_=function(){function n(t,e){var i=Qg(t)?t:tm(t);this._source=i;var r=this._data=i.data;i.sourceFormat===kl&&(this._offset=0,this._dimSize=e,this._data=r),P_(this,r,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(t,e){},n.prototype.appendData=function(t){},n.prototype.clean=function(){},n.protoInitialize=function(){var t=n.prototype;t.pure=!1,t.persistent=!0}(),n.internalField=function(){var t;P_=function(a,s,l){var u=l.sourceFormat,h=l.seriesLayoutBy,c=l.startIndex,p=l.dimensionsDefine;if(ae(a,L_[im(u,h)]),u===kl)a.getItem=e,a.count=r,a.fillStorage=i;else{var g=V_(u,h);a.getItem=F(g,null,s,c,p);var m=W_(u,h);a.count=F(m,null,s,c,p)}};var e=function(a,s){s=s||[];for(var l=this._data,u=this._dimSize,h=u*(a-=this._offset),c=0;c<u;c++)s[c]=l[h+c];return s},i=function(a,s,l,u){for(var h=this._data,c=this._dimSize,p=0;p<c;p++){for(var f=u[p],g=f[0]??1/0,m=f[1]??-1/0,y=s-a,x=l[p],b=0;b<y;b++){var S=h[b*c+p];x[a+b]=S,S<g&&(g=S),S>m&&(m=S)}f[0]=g,f[1]=m}},r=function(){return this._data?this._data.length/this._dimSize:0};function o(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}(t={}).arrayRows_column={pure:!0,appendData:o},t.arrayRows_row={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t.objectRows={pure:!0,appendData:o},t.keyedColumns={pure:!0,appendData:function(a){var s=this._data;V(a,function(l,u){for(var h=s[u]||(s[u]=[]),c=0;c<(l||[]).length;c++)h.push(l[c])})}},t.original={appendData:o},t.typedArray={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},L_=t}(),n}(),B_=function(n,t,e,i){return n[i]},Hk=((Pl={}).arrayRows_column=function(n,t,e,i){return n[i+t]},Pl.arrayRows_row=function(n,t,e,i,r){i+=t;for(var o=r||[],a=n,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[i]:null}return o},Pl.objectRows=B_,Pl.keyedColumns=function(n,t,e,i,r){for(var o=r||[],a=0;a<e.length;a++){var l=n[e[a].name];o[a]=l?l[i]:null}return o},Pl.original=B_,Pl);function V_(n,t){return Hk[im(n,t)]}var F_=function(n,t,e){return n.length},Uk=((Ol={}).arrayRows_column=function(n,t,e){return Math.max(0,n.length-t)},Ol.arrayRows_row=function(n,t,e){var i=n[0];return i?Math.max(0,i.length-t):0},Ol.objectRows=F_,Ol.keyedColumns=function(n,t,e){var r=n[e[0].name];return r?r.length:0},Ol.original=F_,Ol);function W_(n,t){return Uk[im(n,t)]}var nm=function(n,t,e){return n[t]},Yk=((Rl={}).arrayRows=nm,Rl.objectRows=function(n,t,e){return n[e]},Rl.keyedColumns=nm,Rl.original=function(n,t,e){var i=hl(n);return i instanceof Array?i[t]:i},Rl.typedArray=nm,Rl);function G_(n){return Yk[n]}function im(n,t){return n===Do?n+"_"+t:n}function Nl(n,t,e){if(n){var i=n.getRawDataItem(t);if(null!=i){var r=n.getStore(),o=r.getSource().sourceFormat;if(null!=e){var a=n.getDimensionIndex(e),s=r.getDimensionProperty(a);return G_(o)(i,a,s)}var l=i;return o===fa&&(l=hl(i)),l}}}var Xk=/\{@(.+?)\}/g,rm=function(){function n(){}return n.prototype.getDataParams=function(t,e){var i=this.getData(e),r=this.getRawValue(t,e),o=i.getRawIndex(t),a=i.getName(t),s=i.getRawDataItem(t),l=i.getItemVisual(t,"style"),u=l&&l[i.getItemVisual(t,"drawType")||"fill"],h=l&&l.stroke,c=this.mainType,p="series"===c,f=i.userOutput&&i.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:p?this.subType:null,seriesIndex:this.seriesIndex,seriesId:p?this.id:null,seriesName:p?this.name:null,name:a,dataIndex:o,data:s,dataType:e,value:r,color:u,borderColor:h,dimensionNames:f?f.fullDimensions:null,encode:f?f.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(t,e,i,r,o,a){e=e||"normal";var s=this.getData(i),l=this.getDataParams(t,i);return a&&(l.value=a.interpolatedValue),null!=r&&ce(l.value)&&(l.value=l.value[r]),o||(o=s.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"])),ze(o)?(l.status=e,l.dimensionIndex=r,o(l)):De(o)?Wg(o,l).replace(Xk,function(u,h){var c=h.length,p=h;"["===p.charAt(0)&&"]"===p.charAt(c-1)&&(p=+p.slice(1,c-1));var f=Nl(s,t,p);if(a&&ce(a.interpolatedValue)){var g=s.getDimensionIndex(p);g>=0&&(f=a.interpolatedValue[g])}return null!=f?f+"":""}):void 0},n.prototype.getRawValue=function(t,e){return Nl(this.getData(e),t)},n.prototype.formatTooltip=function(t,e,i){},n}();function H_(n){var t,e;return Oe(n)?n.type&&(e=n):t=n,{text:t,frag:e}}function _h(n){return new jk(n)}var jk=function(){function n(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return n.prototype.perform=function(t){var e,i=this._upstream,r=t&&t.skip;if(this._dirty&&i){var o=this.context;o.data=o.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(e=this._plan(this.context));var a,s=c(this._modBy),l=this._modDataCount||0,u=c(t&&t.modBy),h=t&&t.modDataCount||0;function c(b){return!(b>=1)&&(b=1),b}s===u&&l===h||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,a=this._doReset(r)),this._modBy=u,this._modDataCount=h;var p=t&&t.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,g=Math.min(null!=p?this._dueIndex+p:1/0,this._dueEnd);if(!r&&(a||f<g)){var m=this._progress;if(ce(m))for(var y=0;y<m.length;y++)this._doProgress(m[y],f,g,u,h);else this._doProgress(m,f,g,u,h)}this._dueIndex=g,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:g}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(t,e,i,r,o){U_.reset(e,i,r,o),this._callingProgress=t,this._callingProgress({start:e,end:i,count:i-e,next:U_.next},this.context)},n.prototype._doReset=function(t){var e,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(i=e.forceFirstProgress,e=e.progress),ce(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},n}(),U_=function(){var n,t,e,i,r,o={reset:function(l,u,h,c){t=l,n=u,e=h,i=c,r=Math.ceil(i/e),o.next=e>1&&i>0?s:a}};return o;function a(){return t<n?t++:null}function s(){var l=t%r*e+Math.ceil(t/r),u=t>=n?null:l<i?l:t;return t++,u}}();function ma(n,t){var e=t&&t.type;return"ordinal"===e?n:("time"!==e||ot(n)||null==n||"-"===n||(n=+zi(n)),null==n||""===n?NaN:+n)}var Zk=Ne({number:function(n){return parseFloat(n)},time:function(n){return+zi(n)},trim:function(n){return De(n)?wn(n):n}});function Y_(n){return Zk.get(n)}var X_={lt:function(n,t){return n<t},lte:function(n,t){return n<=t},gt:function(n,t){return n>t},gte:function(n,t){return n>=t}},qk=function(){function n(t,e){ot(e)||Dt(""),this._opFn=X_[t],this._rvalFloat=jr(e)}return n.prototype.evaluate=function(t){return ot(t)?this._opFn(t,this._rvalFloat):this._opFn(jr(t),this._rvalFloat)},n}(),j_=function(){function n(t,e){var i="desc"===t;this._resultLT=i?1:-1,null==e&&(e=i?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return n.prototype.evaluate=function(t,e){var i=ot(t)?t:jr(t),r=ot(e)?e:jr(e),o=isNaN(i),a=isNaN(r);if(o&&(i=this._incomparable),a&&(r=this._incomparable),o&&a){var s=De(t),l=De(e);s&&(i=l?t:0),l&&(r=s?e:0)}return i<r?this._resultLT:i>r?-this._resultLT:0},n}(),Kk=function(){function n(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=jr(e)}return n.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var i=typeof t;i===this._rvalTypeof||"number"!==i&&"number"!==this._rvalTypeof||(e=jr(t)===this._rvalFloat)}return this._isEQ?e:!e},n}();function $k(n,t){return"eq"===n||"ne"===n?new Kk("eq"===n,t):Le(X_,n)?new qk(n,t):null}var Jk=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(t){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(t){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(t,e){},n.prototype.retrieveValueFromItem=function(t,e){},n.prototype.convertValue=function(t,e){return ma(t,e)},n}();function Qk(n){return om(n.sourceFormat)||Dt(""),n.data}function eL(n){var t=n.sourceFormat,e=n.data;if(om(t)||Dt(""),t===Do){for(var r=[],o=0,a=e.length;o<a;o++)r.push(e[o].slice());return r}if(t===ga){for(r=[],o=0,a=e.length;o<a;o++)r.push(ae({},e[o]));return r}}function tL(n,t,e){if(null!=e)return ot(e)||!isNaN(e)&&!Le(t,e)?n[e]:Le(t,e)?t[e]:void 0}function nL(n){return Re(n)}var Z_=Ne();function iL(n,t,e,i){t.length||Dt(""),Oe(n)||Dt("");var a=Z_.get(n.type);a||Dt("");var s=oe(t,function(u){return function(h,c){var p=new Jk,f=h.data,g=p.sourceFormat=h.sourceFormat,m=h.startIndex;h.seriesLayoutBy!==Ss&&Dt("");var x=[],b={},S=h.dimensionsDefine;if(S)V(S,function(R,N){var E=R.name,B={index:N,name:E,displayName:R.displayName};x.push(B),null!=E&&(Le(b,E)&&Dt(""),b[E]=B)});else for(var M=0;M<h.dimensionsDetectedCount;M++)x.push({index:M});var C=V_(g,Ss);c.__isBuiltIn&&(p.getRawDataItem=function(R){return C(f,m,x,R)},p.getRawData=F(Qk,null,h)),p.cloneRawData=F(eL,null,h);var T=W_(g,Ss);p.count=F(T,null,f,m,x);var D=G_(g);p.retrieveValue=function(R,N){var E=C(f,m,x,R);return k(E,N)};var k=p.retrieveValueFromItem=function(R,N){if(null!=R){var E=x[N];return E?D(R,N,E.name):void 0}};return p.getDimensionInfo=F(tL,null,x,b),p.cloneAllDimensionInfo=F(nL,null,x),p}(u,a)});return oe(zt(a.transform({upstream:s[0],upstreamList:s,config:Re(n.config)})),function(u,h){var c;Oe(u)||Dt(""),u.data||Dt(""),om(O_(u.data))||Dt("");var f=t[0];if(f&&0===h&&!u.dimensions){var g=f.startIndex;g&&(u.data=f.data.slice(0,g).concat(u.data)),c={seriesLayoutBy:Ss,sourceHeader:g,dimensions:f.metaRawOption.dimensions}}else c={seriesLayoutBy:Ss,sourceHeader:0,dimensions:u.dimensions};return em(u.data,c,null)})}function om(n){return n===Do||n===ga}var am,kd="undefined",rL=typeof Uint32Array===kd?Array:Uint32Array,oL=typeof Uint16Array===kd?Array:Uint16Array,q_=typeof Int32Array===kd?Array:Int32Array,K_=typeof Float64Array===kd?Array:Float64Array,$_={float:K_,int:q_,ordinal:Array,number:Array,time:K_};function bh(n){return n>65535?rL:oL}function J_(n,t,e,i,r){var o=$_[e||"float"];if(r){var a=n[t],s=a&&a.length;if(s!==i){for(var l=new o(i),u=0;u<s;u++)l[u]=a[u];n[t]=l}}else n[t]=new o(i)}var sm=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Ne()}return n.prototype.initData=function(t,e,i){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=t.getSource(),o=this.defaultDimValueGetter=am[r.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[],E_(r),this._dimensions=oe(e,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,t.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(t,e){var i=this._calcDimNameToIdx,r=this._dimensions,o=i.get(t);if(null!=o){if(r[o].type===e)return o}else o=r.length;return r[o]={type:e},i.set(t,o),this._chunks[o]=new $_[e||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},n.prototype.collectOrdinalMeta=function(t,e){var i=this._chunks[t],r=this._dimensions[t],o=this._rawExtent,a=r.ordinalOffset||0,s=i.length;0===a&&(o[t]=[1/0,-1/0]);for(var l=o[t],u=a;u<s;u++){var h=i[u]=e.parseAndCollect(i[u]);isNaN(h)||(l[0]=Math.min(h,l[0]),l[1]=Math.max(h,l[1]))}r.ordinalMeta=e,r.ordinalOffset=s,r.type="ordinal"},n.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},n.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},n.prototype.appendData=function(t){var e=this._provider,i=this.count();e.appendData(t);var r=e.count();return e.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},n.prototype.appendValues=function(t,e){for(var i=this._chunks,r=this._dimensions,o=r.length,a=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e||0),u=0;u<o;u++)J_(i,u,(g=r[u]).type,l,!0);for(var h=[],c=s;c<l;c++)for(var p=c-s,f=0;f<o;f++){var g=r[f],m=am.arrayRows.call(this,t[p]||h,g.property,p,f);i[f][c]=m;var y=a[f];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}return this._rawCount=this._count=l,{start:s,end:l}},n.prototype._initDataFromProvider=function(t,e,i){for(var r=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,u=oe(a,function(b){return b.property}),h=0;h<s;h++){var c=a[h];l[h]||(l[h]=[1/0,-1/0]),J_(o,h,c.type,e,i)}if(r.fillStorage)r.fillStorage(t,e,o,l);else for(var p=[],f=t;f<e;f++){p=r.getItem(f,p);for(var g=0;g<s;g++){var m=o[g],y=this._dimValueGetter(p,u[g],f,g);m[f]=y;var x=l[g];y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var i=this._chunks[t];return i?i[this.getRawIndex(e)]:NaN},n.prototype.getValues=function(t,e){var i=[],r=[];if(null==e){e=t,t=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=t;o=0;for(var a=r.length;o<a;o++)i.push(this.get(r[o],e));return i},n.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var i=this._chunks[t];return i?i[e]:NaN},n.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var i=0,r=this.count();i<r;i++){var o=this.get(t,i);isNaN(o)||(e+=o)}return e},n.prototype.getMedian=function(t){var e=[];this.each([t],function(o){isNaN(o)||e.push(o)});var i=e.sort(function(o,a){return o-a}),r=this.count();return 0===r?0:r%2==1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},n.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;for(var r=0,o=this._count-1;r<=o;){var a=(r+o)/2|0;if(e[a]<t)r=a+1;else{if(!(e[a]>t))return a;o=a-1}}return-1},n.prototype.indicesOfNearest=function(t,e,i){var r=this._chunks[t],o=[];if(!r)return o;null==i&&(i=1/0);for(var a=1/0,s=-1,l=0,u=0,h=this.count();u<h;u++){var c=e-r[this.getRawIndex(u)],p=Math.abs(c);p<=i&&((p<a||p===a&&c>=0&&s<0)&&(a=p,s=c,l=0),c===s&&(o[l++]=u))}return o.length=l,o},n.prototype.getIndices=function(){var t,e=this._indices;if(e){var i=e.constructor,r=this._count;if(i===Array){t=new i(r);for(var o=0;o<r;o++)t[o]=e[o]}else t=new i(e.buffer,0,r)}else for(t=new(i=bh(this._rawCount))(this.count()),o=0;o<t.length;o++)t[o]=o;return t},n.prototype.filter=function(t,e){if(!this._count)return this;for(var i=this.clone(),r=i.count(),o=new(bh(i._rawCount))(r),a=[],s=t.length,l=0,u=t[0],h=i._chunks,c=0;c<r;c++){var p=void 0,f=i.getRawIndex(c);if(0===s)p=e(c);else if(1===s)p=e(h[u][f],c);else{for(var g=0;g<s;g++)a[g]=h[t[g]][f];a[g]=c,p=e.apply(null,a)}p&&(o[l++]=f)}return l<r&&(i._indices=o),i._count=l,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(t){var e=this.clone(),i=e._count;if(!i)return this;var r=tt(t),o=r.length;if(!o)return this;var a=e.count(),s=new(bh(e._rawCount))(a),l=0,u=r[0],h=t[u][0],c=t[u][1],p=e._chunks,f=!1;if(!e._indices){var g=0;if(1===o){for(var m=p[r[0]],y=0;y<i;y++)((M=m[y])>=h&&M<=c||isNaN(M))&&(s[l++]=g),g++;f=!0}else if(2===o){m=p[r[0]];var x=p[r[1]],b=t[r[1]][0],S=t[r[1]][1];for(y=0;y<i;y++){var M=m[y],C=x[y];(M>=h&&M<=c||isNaN(M))&&(C>=b&&C<=S||isNaN(C))&&(s[l++]=g),g++}f=!0}}if(!f)if(1===o)for(y=0;y<a;y++){var T=e.getRawIndex(y);((M=p[r[0]][T])>=h&&M<=c||isNaN(M))&&(s[l++]=T)}else for(y=0;y<a;y++){for(var D=!0,k=(T=e.getRawIndex(y),0);k<o;k++){var R=r[k];((M=p[R][T])<t[R][0]||M>t[R][1])&&(D=!1)}D&&(s[l++]=e.getRawIndex(y))}return l<a&&(e._indices=s),e._count=l,e._extent=[],e._updateGetRawIdx(),e},n.prototype.map=function(t,e){var i=this.clone(t);return this._updateDims(i,t,e),i},n.prototype.modify=function(t,e){this._updateDims(this,t,e)},n.prototype._updateDims=function(t,e,i){for(var r=t._chunks,o=[],a=e.length,s=t.count(),l=[],u=t._rawExtent,h=0;h<e.length;h++)u[e[h]]=[1/0,-1/0];for(var c=0;c<s;c++){for(var p=t.getRawIndex(c),f=0;f<a;f++)l[f]=r[e[f]][p];l[a]=c;var g=i&&i.apply(null,l);if(null!=g)for("object"!=typeof g&&(o[0]=g,g=o),h=0;h<g.length;h++){var m=e[h],y=g[h],x=u[m],b=r[m];b&&(b[p]=y),y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}}},n.prototype.lttbDownSample=function(t,e){var i,r,o,a=this.clone([t],!0),s=a._chunks[t],l=this.count(),u=0,h=Math.floor(1/e),c=this.getRawIndex(0),p=new(bh(this._rawCount))(Math.min(2*(Math.ceil(l/h)+2),l));p[u++]=c;for(var f=1;f<l-1;f+=h){for(var g=Math.min(f+h,l-1),m=Math.min(f+2*h,l),y=(m+g)/2,x=0,b=g;b<m;b++){var S=s[N=this.getRawIndex(b)];isNaN(S)||(x+=S)}x/=m-g;var M=f,C=Math.min(f+h,l),T=f-1,D=s[c];i=-1,o=M;var k=-1,R=0;for(b=M;b<C;b++){var N;S=s[N=this.getRawIndex(b)],isNaN(S)?(R++,k<0&&(k=N)):(r=Math.abs((T-y)*(S-D)-(T-b)*(x-D)))>i&&(i=r,o=N)}R>0&&R<C-M&&(p[u++]=Math.min(k,o),o=Math.max(k,o)),p[u++]=o,c=o}return p[u++]=this.getRawIndex(l-1),a._count=u,a._indices=p,a.getRawIndex=this._getRawIdx,a},n.prototype.downSample=function(t,e,i,r){for(var o=this.clone([t],!0),a=o._chunks,s=[],l=Math.floor(1/e),u=a[t],h=this.count(),c=o._rawExtent[t]=[1/0,-1/0],p=new(bh(this._rawCount))(Math.ceil(h/l)),f=0,g=0;g<h;g+=l){l>h-g&&(s.length=l=h-g);for(var m=0;m<l;m++){var y=this.getRawIndex(g+m);s[m]=u[y]}var x=i(s),b=this.getRawIndex(Math.min(g+r(s,x)||0,h-1));u[b]=x,x<c[0]&&(c[0]=x),x>c[1]&&(c[1]=x),p[f++]=b}return o._count=f,o._indices=p,o._updateGetRawIdx(),o},n.prototype.each=function(t,e){if(this._count)for(var i=t.length,r=this._chunks,o=0,a=this.count();o<a;o++){var s=this.getRawIndex(o);switch(i){case 0:e(o);break;case 1:e(r[t[0]][s],o);break;case 2:e(r[t[0]][s],r[t[1]][s],o);break;default:for(var l=0,u=[];l<i;l++)u[l]=r[t[l]][s];u[l]=o,e.apply(null,u)}}},n.prototype.getDataExtent=function(t){var e=this._chunks[t],i=[1/0,-1/0];if(!e)return i;var r,o=this.count();if(!this._indices)return this._rawExtent[t].slice();if(r=this._extent[t])return r.slice();for(var a=(r=i)[0],s=r[1],l=0;l<o;l++){var u=e[this.getRawIndex(l)];u<a&&(a=u),u>s&&(s=u)}return this._extent[t]=r=[a,s],r},n.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var i=[],r=this._chunks,o=0;o<r.length;o++)i.push(r[o][e]);return i},n.prototype.clone=function(t,e){var i,r,o=new n,a=this._chunks,s=t&&_n(t,function(u,h){return u[h]=!0,u},{});if(s)for(var l=0;l<a.length;l++)o._chunks[l]=s[l]?(r=void 0,(r=(i=a[l]).constructor)===Array?i.slice():new r(i)):a[l];else o._chunks=a;return this._copyCommonProps(o),e||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},n.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Re(this._extent),t._rawExtent=Re(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var i=this._indices.length;e=new t(i);for(var r=0;r<i;r++)e[r]=this._indices[r]}else e=new t(this._indices);return e}return null},n.prototype._getRawIdxIdentity=function(t){return t},n.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function t(e,i,r,o){return ma(e[o],this._dimensions[o])}am={arrayRows:t,objectRows:function(e,i,r,o){return ma(e[i],this._dimensions[o])},keyedColumns:t,original:function(e,i,r,o){var a=e&&(e.value??e);return ma(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(e,i,r,o){return e[o]}}}(),n}(),Q_=function(){function n(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,i=this._sourceHost,r=this._getUpstreamSourceManagers(),o=!!r.length;if(Ld(i)){var a=i,s=void 0,l=void 0,u=void 0;if(o){var h=r[0];h.prepareSource(),s=(u=h.getSource()).data,l=u.sourceFormat,e=[h._getVersionSign()]}else l=bn(s=a.get("data",!0))?kl:fa,e=[];var c=this._getSourceMetaRawOption()||{},p=u&&u.metaRawOption||{},f=pe(c.seriesLayoutBy,p.seriesLayoutBy)||null,g=pe(c.sourceHeader,p.sourceHeader),m=pe(c.dimensions,p.dimensions);t=f!==p.seriesLayoutBy||!!g!=!!p.sourceHeader||m?[em(s,{seriesLayoutBy:f,sourceHeader:g,dimensions:m},l)]:[]}else{var y=i;if(o){var x=this._applyTransform(r);t=x.sourceList,e=x.upstreamSignList}else t=[em(y.get("source",!0),this._getSourceMetaRawOption(),null)],e=[]}this._setLocalSource(t,e)},n.prototype._applyTransform=function(t){var e,i=this._sourceHost,r=i.get("transform",!0),o=i.get("fromTransformResult",!0);null!=o&&1!==t.length&&tb("");var s,l=[],u=[];return V(t,function(h){h.prepareSource();var c=h.getSource(o||0);null==o||c||tb(""),l.push(c),u.push(h._getVersionSign())}),r?e=function(h,c,p){var f=zt(h),g=f.length;g||Dt("");for(var y=0,x=g;y<x;y++)c=iL(f[y],c),y!==x-1&&(c.length=Math.max(c.length,1));return c}(r,l):null!=o&&(e=[(s=l[0],new Ad({data:s.data,sourceFormat:s.sourceFormat,seriesLayoutBy:s.seriesLayoutBy,dimensionsDefine:Re(s.dimensionsDefine),startIndex:s.startIndex,dimensionsDetectedCount:s.dimensionsDetectedCount}))]),{sourceList:e,upstreamSignList:u}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var i=t[e];if(i._isDirty()||this._upstreamSignList[e]!==i._getVersionSign())return!0}},n.prototype.getSource=function(t){var e=this._sourceList[t=t||0];if(!e){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(t)}return e},n.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},n.prototype._innerGetDataStore=function(t,e,i){var r=this._storeList,o=r[0];o||(o=r[0]={});var a=o[i];if(!a){var s=this._getUpstreamSourceManagers()[0];Ld(this._sourceHost)&&s?a=s._innerGetDataStore(t,e,i):(a=new sm).initData(new z_(e,t.length),t),o[i]=a}return a},n.prototype._getUpstreamSourceManagers=function(){var i,t=this._sourceHost;if(Ld(t)){var e=Yg(t);return e?[e.getSourceManager()]:[]}return oe((i=t).get("transform",!0)||i.get("fromTransformResult",!0)?Zu(i.ecModel,"dataset",{index:i.get("fromDatasetIndex",!0),id:i.get("fromDatasetId",!0)},Mn).models:[],function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var t,e,i,r=this._sourceHost;if(Ld(r))t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),i=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=r;t=o.get("seriesLayoutBy",!0),e=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:i}},n}();function eb(n){n.option.transform&&Ui(n.option.transform)}function Ld(n){return"series"===n.mainType}function tb(n){throw new Error(n)}function nb(n,t){var e=n.color||"#6e7079",i=n.fontSize||12,r=n.fontWeight||"400",o=n.color||"#464646",a=n.fontSize||14,s=n.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+Ii(i+"")+"px;color:"+Ii(e)+";font-weight:"+Ii(r+""),valueStyle:"font-size:"+Ii(a+"")+"px;color:"+Ii(o)+";font-weight:"+Ii(s+"")}:{nameStyle:{fontSize:i,fill:e,fontWeight:r},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var aL=[0,10,20,30],sL=["","\n","\n\n","\n\n\n"];function Bn(n,t){return t.type=n,t}function lm(n){return"section"===n.type}function ib(n){return lm(n)?lL:uL}function rb(n){if(lm(n)){var t=0,e=n.blocks.length,i=e>1||e>0&&!n.noHeader;return V(n.blocks,function(r){var o=rb(r);o>=t&&(t=o+ +(i&&(!o||lm(r)&&!r.noHeader)))}),t}return 0}function lL(n,t,e,i){var r,o=t.noHeader,a=(r=rb(t),{html:aL[r],richText:sL[r]}),s=[],l=t.blocks||[];mt(!l||ce(l)),l=l||[];var u=n.orderMode;if(t.sortBlocks&&u){l=l.slice();var h={valueAsc:"asc",valueDesc:"desc"};if(Le(h,u)){var c=new j_(h[u],null);l.sort(function(m,y){return c.evaluate(m.sortParam,y.sortParam)})}else"seriesDesc"===u&&l.reverse()}V(l,function(m,y){var x=t.valueFormatter,b=ib(m)(x?ae(ae({},n),{valueFormatter:x}):n,m,y>0?a.html:0,i);null!=b&&s.push(b)});var p="richText"===n.renderMode?s.join(a.richText):um(s.join(""),o?e:a.html);if(o)return p;var f=Vg(t.header,"ordinal",n.useUTC),g=nb(i,n.renderMode).nameStyle;return"richText"===n.renderMode?ab(n,f,g)+a.richText+p:um('<div style="'+g+';line-height:1;">'+Ii(f)+"</div>"+p,e)}function uL(n,t,e,i){var M,C,R,r=n.renderMode,o=t.noName,a=t.noValue,s=!t.markerType,l=t.name,u=n.useUTC,h=t.valueFormatter||n.valueFormatter||function(M){return oe(M=ce(M)?M:[M],function(C,T){return Vg(C,ce(f)?f[T]:f,u)})};if(!o||!a){var c=s?"":n.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",r),p=o?"":Vg(l,"ordinal",u),f=t.valueType,g=a?[]:h(t.value),m=!s||!o,y=!s&&o,x=nb(i,r),b=x.nameStyle,S=x.valueStyle;return"richText"===r?(s?"":c)+(o?"":ab(n,p,b))+(a?"":(M=n,C=g,R=[S],m&&R.push({padding:[0,0,0,y?10:20],align:"right"}),M.markupStyleCreator.wrapRichTextStyle(ce(C)?C.join("  "):C,R))):um((s?"":c)+(o?"":function(M,C,T){return'<span style="'+T+";"+(C?"margin-left:2px":"")+'">'+Ii(M)+"</span>"}(p,!s,b))+(a?"":function(M,C,T,D){return'<span style="'+(C?"float:right;margin-left:"+(T?"10px":"20px"):"")+";"+D+'">'+oe(M=ce(M)?M:[M],function(N){return Ii(N)}).join("&nbsp;&nbsp;")+"</span>"}(g,m,y,S)),e)}}function ob(n,t,e,i,r,o){if(n)return ib(n)({useUTC:r,renderMode:e,orderMode:i,markupStyleCreator:t,valueFormatter:n.valueFormatter},n,0,o)}function um(n,t){return'<div style="margin: '+t+'px 0 0;line-height:1;">'+n+'<div style="clear:both"></div></div>'}function ab(n,t,e){return n.markupStyleCreator.wrapRichTextStyle(t,e)}function sb(n,t){return _s(n.getData().getItemVisual(t,"style")[n.visualDrawType])}function lb(n,t){return n.get("padding")??("richText"===t?[8,10]:10)}var hm=function(){function n(){this.richTextStyles={},this._nextStyleNameId=o1()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(t,e,i){var r="richText"===i?this._generateStyleName():null,o=a_({color:e,type:t,renderMode:i,markerId:r});return De(o)?o:(this.richTextStyles[r]=o.style,o.content)},n.prototype.wrapRichTextStyle=function(t,e){var i={};ce(e)?V(e,function(o){return ae(i,o)}):ae(i,e);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+t+"}"},n}();function ub(n){var t,e,i,r,o=n.series,a=n.dataIndex,s=n.multipleSeries,l=o.getData(),u=l.mapDimensionsAll("defaultedTooltip"),h=u.length,c=o.getRawValue(a),p=ce(c),f=sb(o,a);if(h>1||p&&!h){var g=function(M,C,T,D,k){var R=C.getData(),N=_n(M,function(Y,j,Z){var q=R.getDimensionInfo(Z);return Y||q&&!1!==q.tooltip&&null!=q.displayName},!1),E=[],B=[],G=[];function H(Y,j){var Z=R.getDimensionInfo(j);Z&&!1!==Z.otherDims.tooltip&&(N?G.push(Bn("nameValue",{markerType:"subItem",markerColor:k,name:Z.displayName,value:Y,valueType:Z.type})):(E.push(Y),B.push(Z.type)))}return D.length?V(D,function(Y){H(Nl(R,T,Y),Y)}):V(M,H),{inlineValues:E,inlineValueTypes:B,blocks:G}}(c,o,a,u,f);t=g.inlineValues,e=g.inlineValueTypes,i=g.blocks,r=g.inlineValues[0]}else if(h){var m=l.getDimensionInfo(u[0]);r=t=Nl(l,a,u[0]),e=m.type}else r=t=p?c[0]:c;var y=Vf(o),x=y&&o.name||"",b=l.getName(a),S=s?x:b;return Bn("section",{header:x,noHeader:s||!y,sortParam:r,blocks:[Bn("nameValue",{markerType:"item",markerColor:f,name:S,noName:!wn(S),value:t,valueType:e})].concat(i||[])})}var va=_t();function Pd(n,t){return n.getName(t)||n.getId(t)}var Bt=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return Q(t,n),t.prototype.init=function(e,i,r){this.seriesIndex=this.componentIndex,this.dataTask=_h({count:hL,reset:cL}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r),(va(this).sourceManager=new Q_(this)).prepareSource();var o=this.getInitialData(e,r);cb(o,this),this.dataTask.context.data=o,va(this).dataBeforeProcessed=o,hb(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(e,i){var r=gh(this),o=r?Tl(e):{},a=this.subType;st.hasClass(a)&&(a+="Series"),qe(e,i.getTheme().get(this.subType)),qe(e,this.getDefaultOption()),ts(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&pa(e,o,r)},t.prototype.mergeOption=function(e,i){e=qe(this.option,e,!0),this.fillDataTextStyle(e.data);var r=gh(this);r&&pa(this.option,e,r);var o=va(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(e,i);cb(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,va(this).dataBeforeProcessed=a,hb(this),this._initSelectedMapFromData(a)},t.prototype.fillDataTextStyle=function(e){if(e&&!bn(e))for(var i=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&ts(e[r],"label",i)},t.prototype.getInitialData=function(e,i){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var i=cm(this);if(i){var r=i.context.data;return null==e?r:r.getLinkedData(e)}return va(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var i=cm(this);if(i){var r=i.context;r.outputData=e,i!==this.dataTask&&(r.data=e)}va(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return Ne(e)},t.prototype.getSourceManager=function(){return va(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return va(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,i,r){return ub({series:this,dataIndex:e,multipleSeries:i})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if($e.node&&(!e||!e.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,i,r){var o=this.ecModel,a=jg.prototype.getColorFromPalette.call(this,e,i,r);return a||(a=o.getColorFromPalette(e,i,r)),a},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,i){this._innerSelect(this.getData(i),e)},t.prototype.unselect=function(e,i){var r=this.option.selectedMap;if(r){var o=this.option.selectedMode,a=this.getData(i);if("series"===o||"all"===r)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var s=0;s<e.length;s++){var l=Pd(a,e[s]);r[l]=!1,this._selectedDataIndicesMap[l]=-1}}},t.prototype.toggleSelect=function(e,i){for(var r=[],o=0;o<e.length;o++)r[0]=e[o],this.isSelected(e[o],i)?this.unselect(r,i):this.select(r,i)},t.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,i=tt(e),r=[],o=0;o<i.length;o++){var a=e[i[o]];a>=0&&r.push(a)}return r},t.prototype.isSelected=function(e,i){var r=this.option.selectedMap;if(!r)return!1;var o=this.getData(i);return("all"===r||r[Pd(o,e)])&&!o.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,i){var r,o,a=this.option,s=a.selectedMode,l=i.length;if(s&&l)if("series"===s)a.selectedMap="all";else if("multiple"===s){Oe(a.selectedMap)||(a.selectedMap={});for(var u=a.selectedMap,h=0;h<l;h++){var c=i[h];u[f=Pd(e,c)]=!0,this._selectedDataIndicesMap[f]=e.getRawIndex(c)}}else if("single"===s||!0===s){var p=i[l-1],f=Pd(e,p);a.selectedMap=((r={})[f]=!0,r),this._selectedDataIndicesMap=((o={})[f]=e.getRawIndex(p),o)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var i=[];e.hasItemOption&&e.each(function(r){var o=e.getRawDataItem(r);o&&o.selected&&i.push(r)}),i.length>0&&this._innerSelect(e,i)}},t.registerClass=function(e){return st.registerClass(e)},t.protoInitialize=((e=t.prototype).type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",void(e.visualDrawType="fill")),t;var e}(st);function hb(n){var i,r,o,t=n.name;Vf(n)||(n.name=(r=(i=n.getRawData()).mapDimensionsAll("seriesName"),o=[],V(r,function(a){var s=i.getDimensionInfo(a);s.displayName&&o.push(s.displayName)}),o.join(" ")||t))}function hL(n){return n.model.getRawData().count()}function cL(n){var t=n.model;return t.setData(t.getRawData().cloneShallow()),dL}function dL(n,t){t.outputData&&n.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function cb(n,t){V(fr(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(e){n.wrapMethod(e,We(pL,t))})}function pL(n,t){var e=cm(n);return e&&e.setOutputEnd((t||this).count()),t}function cm(n){var t=(n.ecModel||{}).scheduler,e=t&&t.getPipeline(n.uid);if(e){var i=e.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(n.uid))}return i}}Nt(Bt,rm),Nt(Bt,jg),v1(Bt,st);var Yt=function(){function n(){this.group=new He,this.uid=Ml("viewComponent")}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,i,r){},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,i,r){},n.prototype.updateLayout=function(t,e,i,r){},n.prototype.updateVisual=function(t,e,i,r){},n.prototype.toggleBlurSeries=function(t,e,i){},n.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},n}();function El(){var n=_t();return function(t){var e=n(t),i=t.pipelineContext,r=!!e.large,o=!!e.progressiveRender,a=e.large=!(!i||!i.large),s=e.progressiveRender=!(!i||!i.progressiveRender);return!(r===a&&o===s)&&"reset"}}Gf(Yt),Xc(Yt);var db=_t(),fL=El(),Ot=function(){function n(){this.group=new He,this.uid=Ml("viewChart"),this.renderTask=_h({plan:gL,reset:mL}),this.renderTask.context={view:this}}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,i,r){},n.prototype.highlight=function(t,e,i,r){var o=t.getData(r&&r.dataType);o&&fb(o,r,"emphasis")},n.prototype.downplay=function(t,e,i,r){var o=t.getData(r&&r.dataType);o&&fb(o,r,"normal")},n.prototype.remove=function(t,e){this.group.removeAll()},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.updateLayout=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.updateVisual=function(t,e,i,r){this.render(t,e,i,r)},n.prototype.eachRendered=function(t){ca(this.group,t)},n.markUpdateMethod=function(t,e){db(t).updateMethod=e},n.protoInitialize=void(n.prototype.type="chart"),n}();function pb(n,t,e){n&&eh(n)&&("emphasis"===t?Co:To)(n,e)}function fb(n,t,e){var o,a,i=ns(n,t),r=t&&null!=t.highlightKey?(null==(a=Y1[o=t.highlightKey])&&U1<=32&&(a=Y1[o]=U1++),a):null;null!=i?V(zt(i),function(o){pb(n.getItemGraphicEl(o),e,r)}):n.eachItemGraphicEl(function(o){pb(o,e,r)})}function gL(n){return fL(n.model)}function mL(n){var t=n.model,e=n.ecModel,i=n.api,r=n.payload,o=t.pipelineContext.progressiveRender,a=n.view,s=r&&db(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](t,e,i,r),vL[l]}Gf(Ot),Xc(Ot);var vL={incrementalPrepareRender:{progress:function(n,t){t.view.incrementalRender(n,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(n,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},Od="\0__throttleOriginMethod",gb="\0__throttleRate",mb="\0__throttleType";function Rd(n,t,e){var i,r,o,a,s,l=0,u=0,h=null;function c(){u=(new Date).getTime(),h=null,n.apply(o,a||[])}t=t||0;var p=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];i=(new Date).getTime(),o=this,a=f;var m=s||t,y=s||e;s=null,r=i-(y?l:u)-m,clearTimeout(h),y?h=setTimeout(c,m):r>=0?c():h=setTimeout(c,-r),l=i};return p.clear=function(){h&&(clearTimeout(h),h=null)},p.debounceNextCall=function(f){s=f},p}function zl(n,t,e,i){var r=n[t];if(r){var o=r[Od]||r;if(r[gb]!==e||r[mb]!==i){if(null==e||!i)return n[t]=o;(r=n[t]=Rd(o,e,"debounce"===i))[Od]=o,r[mb]=i,r[gb]=e}return r}}function wh(n,t){var e=n[t];e&&e[Od]&&(e.clear&&e.clear(),n[t]=e[Od])}var vb=_t(),yb={itemStyle:rs(Hx,!0),lineStyle:rs(Gx,!0)},yL={lineStyle:"stroke",itemStyle:"fill"};function xb(n,t){return n.visualStyleMapper||yb[t]||(console.warn("Unkown style type '"+t+"'."),yb.itemStyle)}function _b(n,t){return n.visualDrawType||yL[t]||(console.warn("Unkown style type '"+t+"'."),"fill")}var xL={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=n.getModel(i),o=xb(n,i)(r),a=r.getShallow("decal");a&&(e.setVisual("decal",a),a.dirty=!0);var s=_b(n,i),l=o[s],u=ze(l)?l:null;if(!o[s]||u||"auto"===o.fill||"auto"===o.stroke){var c=n.getColorFromPalette(n.name,null,t.getSeriesCount());o[s]||(o[s]=c,e.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||ze(o.fill)?c:o.fill,o.stroke="auto"===o.stroke||ze(o.stroke)?c:o.stroke}if(e.setVisual("style",o),e.setVisual("drawType",s),!t.isSeriesFiltered(n)&&u)return e.setVisual("colorFromPalette",!1),{dataEach:function(p,f){var g=n.getDataParams(f),m=ae({},o);m[s]=u(g),p.setItemVisual(f,"style",m)}}}},Sh=new Ct,_L={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!n.ignoreStyleOnData&&!t.isSeriesFiltered(n)){var e=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=xb(n,i),o=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(a,s){var l=a.getRawDataItem(s);if(l&&l[i]){Sh.option=l[i];var u=r(Sh);ae(a.ensureUniqueItemVisual(s,"style"),u),Sh.option.decal&&(a.setItemVisual(s,"decal",Sh.option.decal),Sh.option.decal.dirty=!0),o in u&&a.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},bL={performRawSeries:!0,overallReset:function(n){var t=Ne();n.eachSeries(function(e){var i=e.getColorBy();if(!e.isColorBySeries()){var r=e.type+"-"+i,o=t.get(r);o||t.set(r,o={}),vb(e).scope=o}}),n.eachSeries(function(e){if(!e.isColorBySeries()&&!n.isSeriesFiltered(e)){var i=e.getRawData(),r={},o=e.getData(),a=vb(e).scope,l=_b(e,e.visualStyleAccessPath||"itemStyle");o.each(function(u){var h=o.getRawIndex(u);r[h]=u}),i.each(function(u){var h=r[u];if(o.getItemVisual(h,"colorFromPalette")){var c=o.ensureUniqueItemVisual(h,"style"),p=i.getName(u)||u+"",f=i.count();c[l]=e.getColorFromPalette(p,a,f)}})}})}},Nd=Math.PI,bb=function(){function n(t,e,i,r){this._stageTaskMap=Ne(),this.ecInstance=t,this.api=e,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return n.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},n.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),r=i.context,o=!e&&i.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>i.blockIndex?i.step:null,a=r&&r.modDataCount;return{step:o,modBy:null!=a?Math.ceil(a/o):null,modDataCount:a}}},n.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},n.prototype.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),r=t.getData().count(),o=i.progressiveEnabled&&e.incrementalPrepareRender&&r>=i.threshold,a=t.get("large")&&r>=t.get("largeThreshold"),s="mod"===t.get("progressiveChunkMode")?r:null;t.pipelineContext=i.context={progressiveRender:o,modDataCount:s,large:a}},n.prototype.restorePipelines=function(t){var e=this,i=e._pipelineMap=Ne();t.eachSeries(function(r){var o=r.getProgressive(),a=r.uid;i.set(a,{id:a,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),e._pipe(r,r.dataTask)})},n.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),i=this.api;V(this._allHandlers,function(r){var o=t.get(r.uid)||t.set(r.uid,{});mt(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,o,e,i),r.overallReset&&this._createOverallStageTask(r,o,e,i)},this)},n.prototype.prepareView=function(t,e,i,r){var o=t.renderTask,a=o.context;a.model=e,a.ecModel=i,a.api=r,o.__block=!t.incrementalPrepareRender,this._pipe(e,o)},n.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},n.prototype.performVisualTasks=function(t,e,i){this._performStageTasks(this._visualHandlers,t,e,i)},n.prototype._performStageTasks=function(t,e,i,r){r=r||{};var o=!1,a=this;function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}V(t,function(l,u){if(!r.visualType||r.visualType===l.visualType){var h=a._stageTaskMap.get(l.uid),c=h.seriesTaskMap,p=h.overallTask;if(p){var f,g=p.agentStubMap;g.each(function(y){s(r,y)&&(y.dirty(),f=!0)}),f&&p.dirty(),a.updatePayload(p,i);var m=a.getPerformArgs(p,r.block);g.each(function(y){y.perform(m)}),p.perform(m)&&(o=!0)}else c&&c.each(function(y,x){s(r,y)&&y.dirty();var b=a.getPerformArgs(y,r.block);b.skip=!l.performRawSeries&&e.isSeriesFiltered(y.context.model),a.updatePayload(y,i),y.perform(b)&&(o=!0)})}}),this.unfinished=o||this.unfinished},n.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(i){e=i.dataTask.perform()||e}),this.unfinished=e||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},n.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},n.prototype._createSeriesStageTask=function(t,e,i,r){var o=this,a=e.seriesTaskMap,s=e.seriesTaskMap=Ne(),l=t.seriesType,u=t.getTargetSeries;function h(c){var p=c.uid,f=s.set(p,a&&a.get(p)||_h({plan:CL,reset:TL,count:AL}));f.context={model:c,ecModel:i,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(c,f)}t.createOnAllSeries?i.eachRawSeries(h):l?i.eachRawSeriesByType(l,h):u&&u(i,r).each(h)},n.prototype._createOverallStageTask=function(t,e,i,r){var o=this,a=e.overallTask=e.overallTask||_h({reset:wL});a.context={ecModel:i,api:r,overallReset:t.overallReset,scheduler:o};var s=a.agentStubMap,l=a.agentStubMap=Ne(),u=t.seriesType,h=t.getTargetSeries,c=!0,p=!1;function g(m){var y=m.uid,x=l.set(y,s&&s.get(y)||(p=!0,_h({reset:SL,onDirty:IL})));x.context={model:m,overallProgress:c},x.agent=a,x.__block=c,o._pipe(m,x)}mt(!t.createOnAllSeries,""),u?i.eachRawSeriesByType(u,g):h?h(i,r).each(g):(c=!1,V(i.getSeries(),g)),p&&a.dirty()},n.prototype._pipe=function(t,e){var r=this._pipelineMap.get(t.uid);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},n.wrapStageHandler=function(t,e){return ze(t)&&(t={overallReset:t,seriesType:kL(t)}),t.uid=Ml("stageHandler"),e&&(t.visualType=e),t},n}();function wL(n){n.overallReset(n.ecModel,n.api,n.payload)}function SL(n){return n.overallProgress&&ML}function ML(){this.agent.dirty(),this.getDownstream().dirty()}function IL(){this.agent&&this.agent.dirty()}function CL(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function TL(n){n.useClearVisual&&n.data.clearAllVisual();var t=n.resetDefines=zt(n.reset(n.model,n.ecModel,n.api,n.payload));return t.length>1?oe(t,function(e,i){return wb(i)}):DL}var DL=wb(0);function wb(n){return function(t,e){var i=e.data,r=e.resetDefines[n];if(r&&r.dataEach)for(var o=t.start;o<t.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(t,i)}}function AL(n){return n.data.count()}function kL(n){Ed=null;try{n(Mh,Sb)}catch{}return Ed}var Ed,Mh={},Sb={};function Mb(n,t){for(var e in t.prototype)n[e]=rn}Mb(Mh,qg),Mb(Sb,S_),Mh.eachSeriesByType=Mh.eachRawSeriesByType=function(n){Ed=n},Mh.eachComponent=function(n){"series"===n.mainType&&n.subType&&(Ed=n.subType)};var Ib=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],LL={color:Ib,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Ib]},gi="#B9B8CE",Cb="#100C2A",zd=function(){return{axisLine:{lineStyle:{color:gi}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Tb=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Db={darkMode:!0,color:Tb,backgroundColor:Cb,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:gi}},textStyle:{color:gi},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:gi}},dataZoom:{borderColor:"#71708A",textStyle:{color:gi},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:gi}},timeline:{lineStyle:{color:gi},label:{color:gi},controlStyle:{color:gi,borderColor:gi}},calendar:{itemStyle:{color:Cb},dayLabel:{color:gi},monthLabel:{color:gi},yearLabel:{color:gi}},timeAxis:zd(),logAxis:zd(),valueAxis:zd(),categoryAxis:zd(),line:{symbol:"circle"},graph:{color:Tb},gauge:{title:{color:gi},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:gi},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Db.categoryAxis.splitLine.show=!1;var PL=function(){function n(){}return n.prototype.normalizeQuery=function(t){var e={},i={},r={};if(De(t)){var o=Zr(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};V(t,function(l,u){for(var h=!1,c=0;c<a.length;c++){var p=a[c],f=u.lastIndexOf(p);if(f>0&&f===u.length-p.length){var g=u.slice(0,f);"data"!==g&&(e.mainType=g,e[p.toLowerCase()]=l,h=!0)}}s.hasOwnProperty(u)&&(i[u]=l,h=!0),h||(r[u]=l)})}return{cptQuery:e,dataQuery:i,otherQuery:r}},n.prototype.filter=function(t,e){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,a=i.model,s=i.view;if(!a||!s)return!0;var l=e.cptQuery,u=e.dataQuery;return h(l,a,"mainType")&&h(l,a,"subType")&&h(l,a,"index","componentIndex")&&h(l,a,"name")&&h(l,a,"id")&&h(u,o,"name")&&h(u,o,"dataIndex")&&h(u,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,r,o));function h(c,p,f,g){return null==c[f]||p[g||f]===c[f]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),dm=["symbol","symbolSize","symbolRotate","symbolOffset"],Ab=dm.concat(["symbolKeepAspect"]),OL={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData();if(n.legendIcon&&e.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){for(var i={},r={},o=!1,a=0;a<dm.length;a++){var s=dm[a],l=n.get(s);ze(l)?(o=!0,r[s]=l):i[s]=l}if(i.symbol=i.symbol||n.defaultSymbol,e.setVisual(ae({legendIcon:n.legendIcon||i.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},i)),!t.isSeriesFiltered(n)){var u=tt(r);return{dataEach:o?function(h,c){for(var p=n.getRawValue(c),f=n.getDataParams(c),g=0;g<u.length;g++){var m=u[g];h.setItemVisual(c,m,r[m](p,f))}}:null}}}}},RL={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(n.hasSymbolVisual&&!t.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function(e,i){for(var r=e.getItemModel(i),o=0;o<Ab.length;o++){var a=Ab[o],s=r.getShallow(a,!0);null!=s&&e.setItemVisual(i,a,s)}}:null}}};function pm(n,t,e){switch(e){case"color":return n.getItemVisual(t,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(t,e)}}function Ih(n,t){switch(t){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(t)}}function kb(n,t,e,i){switch(e){case"color":n.ensureUniqueItemVisual(t,"style")[n.getVisual("drawType")]=i,n.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(t,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(t,e,i)}}function Lb(n,t){function e(i,r){var o=[];return i.eachComponent({mainType:"series",subType:n,query:r},function(a){o.push(a.seriesIndex)}),o}V([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(i){t(i[0],function(r,o,a){r=ae({},r),a.dispatchAction(ae(r,{type:i[1],seriesIndex:e(o,r)}))})})}function Bl(n,t,e,i,r){var o=n+t;e.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=a.option.selectedMap,u=r.selected,h=0;h<u.length;h++)if(u[h].seriesIndex===s){var c=a.getData(),p=ns(c,r.fromActionPayload);e.trigger(o,{type:o,seriesId:a.id,name:ce(p)?c.getName(p[0]):c.getName(p),selected:De(l)?l:ae({},l)})}})}function Vl(n,t,e){for(var i;n&&(!t(n)||(i=n,!e));)n=n.__hostTarget||n.parent;return i}var NL=Math.round(9*Math.random()),EL="function"==typeof Object.defineProperty,zL=function(){function n(){this._id="__ec_inner_"+NL++}return n.prototype.get=function(t){return this._guard(t)[this._id]},n.prototype.set=function(t,e){var i=this._guard(t);return EL?Object.defineProperty(i,this._id,{value:e,enumerable:!1,configurable:!0}):i[this._id]=e,this},n.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},n.prototype.has=function(t){return!!this._guard(t)[this._id]},n.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},n}(),BL=at.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,i=t.cy,r=t.width/2,o=t.height/2;n.moveTo(e,i-o),n.lineTo(e+r,i+o),n.lineTo(e-r,i+o),n.closePath()}}),VL=at.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,i=t.cy,r=t.width/2,o=t.height/2;n.moveTo(e,i-o),n.lineTo(e+r,i),n.lineTo(e,i+o),n.lineTo(e-r,i),n.closePath()}}),FL=at.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.x,i=t.y,r=t.width/5*3,o=Math.max(r,t.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,u=Math.asin(s/a),h=Math.cos(u)*a,c=Math.sin(u),p=Math.cos(u),f=.6*a,g=.7*a;n.moveTo(e-h,l+s),n.arc(e,l,a,Math.PI-u,2*Math.PI+u),n.bezierCurveTo(e+h-c*f,l+s+p*f,e,i-g,e,i),n.bezierCurveTo(e,i-g,e-h+c*f,l+s+p*f,e-h,l+s),n.closePath()}}),WL=at.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.height,r=t.x,o=t.y,a=t.width/3*2;n.moveTo(r,o),n.lineTo(r+a,o+e),n.lineTo(r,o+e/4*3),n.lineTo(r-a,o+e),n.lineTo(r,o),n.closePath()}}),GL={line:function(n,t,e,i,r){r.x1=n,r.y1=t+i/2,r.x2=n+e,r.y2=t+i/2},rect:function(n,t,e,i,r){r.x=n,r.y=t,r.width=e,r.height=i},roundRect:function(n,t,e,i,r){r.x=n,r.y=t,r.width=e,r.height=i,r.r=Math.min(e,i)/4},square:function(n,t,e,i,r){var o=Math.min(e,i);r.x=n,r.y=t,r.width=o,r.height=o},circle:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.r=Math.min(e,i)/2},diamond:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.width=e,r.height=i},pin:function(n,t,e,i,r){r.x=n+e/2,r.y=t+i/2,r.width=e,r.height=i},arrow:function(n,t,e,i,r){r.x=n+e/2,r.y=t+i/2,r.width=e,r.height=i},triangle:function(n,t,e,i,r){r.cx=n+e/2,r.cy=t+i/2,r.width=e,r.height=i}},Bd={};V({line:kn,rect:ht,roundRect:ht,square:ht,circle:nr,diamond:VL,pin:FL,arrow:WL,triangle:BL},function(n,t){Bd[t]=new n});var HL=at.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,t,e){var i=xt(n,t,e),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===t.position&&(i.y=e.y+.4*e.height),i},buildPath:function(n,t,e){var i=t.symbolType;if("none"!==i){var r=Bd[i];r||(r=Bd[i="rect"]),GL[i](t.x,t.y,t.width,t.height,r.shape),r.buildPath(n,r.shape,e)}}});function UL(n,t){if("image"!==this.type){var e=this.style;this.__isEmptyBrush?(e.stroke=n,e.fill=t||"#fff",e.lineWidth=2):"line"===this.shape.symbolType?e.stroke=n:e.fill=n,this.markRedraw()}}function pn(n,t,e,i,r,o,a){var s,l=0===n.indexOf("empty");return l&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(s=0===n.indexOf("image://")?wg(n.slice(8),new ue(t,e,i,r),a?"center":"cover"):0===n.indexOf("path://")?sh(n.slice(7),{},new ue(t,e,i,r),a?"center":"cover"):new HL({shape:{symbolType:n,x:t,y:e,width:i,height:r}})).__isEmptyBrush=l,s.setColor=UL,o&&s.setColor(o),s}function Ch(n){return ce(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function Fl(n,t){if(null!=n)return ce(n)||(n=[n,n]),[Te(n[0],t[0])||0,Te(pe(n[1],n[0]),t[1])||0]}function Ms(n){return isFinite(n)}function fm(n,t,e){for(var i="radial"===t.type?(a=n,s=t,void 0,void 0,void 0,p=void 0,f=void 0,g=void 0,u=(l=e).width,h=l.height,c=Math.min(u,h),p=s.x??.5,f=s.y??.5,g=s.r??.5,s.global||(p=p*u+l.x,f=f*h+l.y,g*=c),p=Ms(p)?p:.5,f=Ms(f)?f:.5,g=g>=0&&Ms(g)?g:.5,a.createRadialGradient(p,f,0,p,f,g)):function(a,s,l){var u=s.x??0,h=s.x2??1,c=s.y??0,p=s.y2??0;return s.global||(u=u*l.width+l.x,h=h*l.width+l.x,c=c*l.height+l.y,p=p*l.height+l.y),u=Ms(u)?u:0,h=Ms(h)?h:1,c=Ms(c)?c:0,p=Ms(p)?p:0,a.createLinearGradient(u,c,h,p)}(n,t,e),r=t.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);var a,s,l,u,h,c,p,f,g;return i}function Vd(n){return parseInt(n,10)}function Wl(n,t,e){var i=["width","height"][t],r=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var s=document.defaultView.getComputedStyle(n);return(n[r]||Vd(s[i])||Vd(n.style[i]))-(Vd(s[o])||0)-(Vd(s[a])||0)|0}function gm(n){var t,e,i=n.style,r=i.lineDash&&i.lineWidth>0&&(e=i.lineWidth,(t=i.lineDash)&&"solid"!==t&&e>0?"dashed"===t?[4*e,2*e]:"dotted"===t?[e]:ot(t)?[t]:ce(t)?t:null:null),o=i.lineDashOffset;if(r){var a=i.strokeNoScale&&n.getLineScale?n.getLineScale():1;a&&1!==a&&(r=oe(r,function(s){return s/a}),o/=a)}return[r,o]}var YL=new Jr(!0);function Fd(n){var t=n.stroke;return!(null==t||"none"===t||!(n.lineWidth>0))}function Pb(n){return"string"==typeof n&&"none"!==n}function Wd(n){var t=n.fill;return null!=t&&"none"!==t}function Ob(n,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var e=n.globalAlpha;n.globalAlpha=t.fillOpacity*t.opacity,n.fill(),n.globalAlpha=e}else n.fill()}function Rb(n,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var e=n.globalAlpha;n.globalAlpha=t.strokeOpacity*t.opacity,n.stroke(),n.globalAlpha=e}else n.stroke()}function mm(n,t,e){var i=Uf(t.image,t.__image,e);if(jc(i)){var r=n.createPattern(i,t.repeat||"repeat");if("function"==typeof DOMMatrix&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*gr),o.scaleSelf(t.scaleX||1,t.scaleY||1),r.setTransform(o)}return r}}var Nb=["shadowBlur","shadowOffsetX","shadowOffsetY"],Eb=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function zb(n,t,e,i,r){var o=!1;if(!i&&t===(e=e||{}))return!1;if(i||t.opacity!==e.opacity){Ci(n,r),o=!0;var a=Math.max(Math.min(t.opacity,1),0);n.globalAlpha=isNaN(a)?os.opacity:a}(i||t.blend!==e.blend)&&(o||(Ci(n,r),o=!0),n.globalCompositeOperation=t.blend||os.blend);for(var s=0;s<Nb.length;s++){var l=Nb[s];(i||t[l]!==e[l])&&(o||(Ci(n,r),o=!0),n[l]=n.dpr*(t[l]||0))}return(i||t.shadowColor!==e.shadowColor)&&(o||(Ci(n,r),o=!0),n.shadowColor=t.shadowColor||os.shadowColor),o}function Bb(n,t,e,i,r){var o=Th(t,r.inHover),a=i?null:e&&Th(e,r.inHover)||{};if(o===a)return!1;var s=zb(n,o,a,i,r);if((i||o.fill!==a.fill)&&(s||(Ci(n,r),s=!0),Pb(o.fill)&&(n.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(s||(Ci(n,r),s=!0),Pb(o.stroke)&&(n.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(s||(Ci(n,r),s=!0),n.globalAlpha=o.opacity??1),t.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);n.lineWidth!==l&&(s||(Ci(n,r),s=!0),n.lineWidth=l)}for(var u=0;u<Eb.length;u++){var h=Eb[u],c=h[0];(i||o[c]!==a[c])&&(s||(Ci(n,r),s=!0),n[c]=o[c]||h[1])}return s}function Vb(n,t){var e=t.transform,i=n.dpr||1;e?n.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):n.setTransform(i,0,0,i,0,0)}function Ci(n,t){t.batchFill&&n.fill(),t.batchStroke&&n.stroke(),t.batchFill="",t.batchStroke=""}function Th(n,t){return t&&n.__hoverStyle||n.style}function vm(n,t){Is(n,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Is(n,t,e,i){var r=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1))return t.__dirty&=-2,void(t.__isRendered=!1);var g,m,y,o=t.__clipPaths,a=e.prevElClipPaths,s=!1,l=!1;if(a&&!function(g,m){if(g===m||!g&&!m)return!1;if(!g||!m||g.length!==m.length)return!0;for(var y=0;y<g.length;y++)if(g[y]!==m[y])return!0;return!1}(o,a)||(a&&a.length&&(Ci(n,e),n.restore(),l=s=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),o&&o.length&&(Ci(n,e),n.save(),function(g,m,y){for(var x=!1,b=0;b<g.length;b++){var S=g[b];x=x||S.isZeroArea(),Vb(m,S),m.beginPath(),S.buildPath(m,S.shape),m.clip()}y.allClipped=x}(o,n,e),s=!0),e.prevElClipPaths=o),e.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=e.prevEl;u||(l=s=!0);var h,c,p=t instanceof at&&t.autoBatch&&(m=Wd(g=t.style),y=Fd(g),!(g.lineDash||!(+m^+y)||m&&"string"!=typeof g.fill||y&&"string"!=typeof g.stroke||g.strokePercent<1||g.strokeOpacity<1||g.fillOpacity<1));s||(c=u.transform,(h=r)&&c?h[0]!==c[0]||h[1]!==c[1]||h[2]!==c[2]||h[3]!==c[3]||h[4]!==c[4]||h[5]!==c[5]:h||c)?(Ci(n,e),Vb(n,t)):p||Ci(n,e);var f=Th(t,e.inHover);t instanceof at?(1!==e.lastDrawType&&(l=!0,e.lastDrawType=1),Bb(n,t,u,l,e),p&&(e.batchFill||e.batchStroke)||n.beginPath(),function(g,m,y,x){var b,S=Fd(y),M=Wd(y),C=y.strokePercent,T=C<1,D=!m.path;m.silent&&!T||!D||m.createPathProxy();var k=m.path||YL,R=m.__dirty;if(!x){var N=y.fill,E=y.stroke,B=M&&!!N.colorStops,G=S&&!!E.colorStops,H=M&&!!N.image,Y=S&&!!E.image,j=void 0,Z=void 0,q=void 0,J=void 0,te=void 0;(B||G)&&(te=m.getBoundingRect()),B&&(j=R?fm(g,N,te):m.__canvasFillGradient,m.__canvasFillGradient=j),G&&(Z=R?fm(g,E,te):m.__canvasStrokeGradient,m.__canvasStrokeGradient=Z),H&&(q=R||!m.__canvasFillPattern?mm(g,N,m):m.__canvasFillPattern,m.__canvasFillPattern=q),Y&&(J=R||!m.__canvasStrokePattern?mm(g,E,m):m.__canvasStrokePattern,m.__canvasStrokePattern=q),B?g.fillStyle=j:H&&(q?g.fillStyle=q:M=!1),G?g.strokeStyle=Z:Y&&(J?g.strokeStyle=J:S=!1)}var ne,le,ye=m.getGlobalScale();k.setScale(ye[0],ye[1],m.segmentIgnoreThreshold),g.setLineDash&&y.lineDash&&(ne=(b=gm(m))[0],le=b[1]);var ie=!0;(D||4&R)&&(k.setDPR(g.dpr),T?k.setContext(null):(k.setContext(g),ie=!1),k.reset(),m.buildPath(k,m.shape,x),k.toStatic(),m.pathUpdated()),ie&&k.rebuildPath(g,T?C:1),ne&&(g.setLineDash(ne),g.lineDashOffset=le),x||(y.strokeFirst?(S&&Rb(g,y),M&&Ob(g,y)):(M&&Ob(g,y),S&&Rb(g,y))),ne&&g.setLineDash([])}(n,t,f,p),p&&(e.batchFill=f.fill||"",e.batchStroke=f.stroke||"")):t instanceof cl?(3!==e.lastDrawType&&(l=!0,e.lastDrawType=3),Bb(n,t,u,l,e),function(g,m,y){var x,b=y.text;if(null!=b&&(b+=""),b){g.font=y.font||Fe,g.textAlign=y.textAlign,g.textBaseline=y.textBaseline;var S=void 0,M=void 0;g.setLineDash&&y.lineDash&&(S=(x=gm(m))[0],M=x[1]),S&&(g.setLineDash(S),g.lineDashOffset=M),y.strokeFirst?(Fd(y)&&g.strokeText(b,y.x,y.y),Wd(y)&&g.fillText(b,y.x,y.y)):(Wd(y)&&g.fillText(b,y.x,y.y),Fd(y)&&g.strokeText(b,y.x,y.y)),S&&g.setLineDash([])}}(n,t,f)):t instanceof zn?(2!==e.lastDrawType&&(l=!0,e.lastDrawType=2),function(g,m,y,x,b){zb(g,Th(m,b.inHover),y&&Th(y,b.inHover),x,b)}(n,t,u,l,e),function(g,m,y){var x=m.__image=Uf(y.image,m.__image,m,m.onload);if(x&&jc(x)){var b=y.x||0,S=y.y||0,M=m.getWidth(),C=m.getHeight(),T=x.width/x.height;if(null==M&&null!=C?M=C*T:null==C&&null!=M?C=M/T:null==M&&null==C&&(M=x.width,C=x.height),y.sWidth&&y.sHeight){var D=y.sx||0,k=y.sy||0;g.drawImage(x,D,k,y.sWidth,y.sHeight,b,S,M,C)}else if(y.sx&&y.sy){var R=M-(D=y.sx),N=C-(k=y.sy);g.drawImage(x,D,k,R,N,b,S,M,C)}else g.drawImage(x,b,S,M,C)}}(n,t,f)):t.getTemporalDisplayables&&(4!==e.lastDrawType&&(l=!0,e.lastDrawType=4),function(g,m,y){var x=m.getDisplayables(),b=m.getTemporalDisplayables();g.save();var S,M,C={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:y.viewWidth,viewHeight:y.viewHeight,inHover:y.inHover};for(S=m.getCursor(),M=x.length;S<M;S++)(k=x[S]).beforeBrush&&k.beforeBrush(),k.innerBeforeBrush(),Is(g,k,C,S===M-1),k.innerAfterBrush(),k.afterBrush&&k.afterBrush(),C.prevEl=k;for(var T=0,D=b.length;T<D;T++){var k;(k=b[T]).beforeBrush&&k.beforeBrush(),k.innerBeforeBrush(),Is(g,k,C,T===D-1),k.innerAfterBrush(),k.afterBrush&&k.afterBrush(),C.prevEl=k}m.clearTemporalDisplayables(),m.notClear=!0,g.restore()}(n,t,e)),p&&i&&Ci(n,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var ym=new zL,Fb=new wr(100),Wb=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Gl(n,t){if("none"===n)return null;var e=t.getDevicePixelRatio(),i=t.getZr(),r="svg"===i.painter.type;n.dirty&&ym.delete(n);var o=ym.get(n);if(o)return o;var a=Ee(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===a.backgroundColor&&(a.backgroundColor=null);var s={repeat:"repeat"};return function(l){for(var u,h=[e],c=!0,p=0;p<Wb.length;++p){var f=a[Wb[p]];if(null!=f&&!ce(f)&&!De(f)&&!ot(f)&&"boolean"!=typeof f){c=!1;break}h.push(f)}if(c){u=h.join(",")+(r?"-svg":"");var g=Fb.get(u);g&&(r?l.svgElement=g:l.image=g)}var m,y=Hb(a.dashArrayX),x=function(R){if(!R||"object"==typeof R&&0===R.length)return[0,0];if(ot(R)){var N=Math.ceil(R);return[N,N]}var E=oe(R,function(B){return Math.ceil(B)});return R.length%2?E.concat(E):E}(a.dashArrayY),b=Gb(a.symbol),S=oe(y,function(R){return Ub(R)}),M=Ub(x),C=!r&&Je.createCanvas(),T=r&&{tag:"g",attrs:{},key:"dcl",children:[]},D=function(){for(var R=1,N=0,E=S.length;N<E;++N)R=s1(R,S[N]);var B=1;for(N=0,E=b.length;N<E;++N)B=s1(B,b[N].length);R*=B;var G=M*S.length*b.length;return{width:Math.max(1,Math.min(R,a.maxTileWidth)),height:Math.max(1,Math.min(G,a.maxTileHeight))}}();C&&(C.width=D.width*e,C.height=D.height*e,m=C.getContext("2d")),function(){m&&(m.clearRect(0,0,C.width,C.height),a.backgroundColor&&(m.fillStyle=a.backgroundColor,m.fillRect(0,0,C.width,C.height)));for(var R=0,N=0;N<x.length;++N)R+=x[N];if(!(R<=0))for(var E=-M,B=0,G=0,H=0;E<D.height;){if(B%2==0){for(var Y=G/2%b.length,j=0,Z=0,q=0;j<2*D.width;){var J=0;for(N=0;N<y[H].length;++N)J+=y[H][N];if(J<=0)break;if(Z%2==0){var te=.5*(1-a.symbolSize);xe(j+y[H][Z]*te,E+x[B]*te,y[H][Z]*a.symbolSize,x[B]*a.symbolSize,b[Y][q/2%b[Y].length])}j+=y[H][Z],++q,++Z===y[H].length&&(Z=0)}++H===y.length&&(H=0)}E+=x[B],++G,++B===x.length&&(B=0)}function xe(be,ge,we,me,Ce){var Pe=r?1:e,Ye=pn(Ce,be*Pe,ge*Pe,we*Pe,me*Pe,a.color,a.symbolKeepAspect);if(r){var Ke=i.painter.renderOneToVNode(Ye);Ke&&T.children.push(Ke)}else vm(m,Ye)}}(),c&&Fb.put(u,C||T),l.image=C,l.svgElement=T,l.svgWidth=D.width,l.svgHeight=D.height}(s),s.rotation=a.rotation,s.scaleX=s.scaleY=r?1:1/e,ym.set(n,s),n.dirty=!1,s}function Gb(n){if(!n||0===n.length)return[["rect"]];if(De(n))return[[n]];for(var t=!0,e=0;e<n.length;++e)if(!De(n[e])){t=!1;break}if(t)return Gb([n]);var i=[];for(e=0;e<n.length;++e)De(n[e])?i.push([n[e]]):i.push(n[e]);return i}function Hb(n){if(!n||0===n.length)return[[0,0]];if(ot(n))return[[r=Math.ceil(n),r]];for(var t=!0,e=0;e<n.length;++e)if(!ot(n[e])){t=!1;break}if(t)return Hb([n]);var i=[];for(e=0;e<n.length;++e)if(ot(n[e])){var r=Math.ceil(n[e]);i.push([r,r])}else(r=oe(n[e],function(o){return Math.ceil(o)})).length%2==1?i.push(r.concat(r)):i.push(r);return i}function Ub(n){for(var t=0,e=0;e<n.length;++e)t+=n[e];return n.length%2==1?2*t:t}var Pr=new hi,Yb={};function Xb(n){return Yb[n]}var XL=typeof window<"u",jb={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},Zb=/^[a-zA-Z0-9_]+$/,_m="__connectUpdateStatus";function qb(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.isDisposed())return $b(this,n,t)}}function Kb(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return $b(this,n,t)}}function $b(n,t,e){return e[0]=e[0]&&e[0].toLowerCase(),hi.prototype[t].apply(n,e)}var Hl,bm,Hd,ya,wm,Sm,Mm,Dh,Ah,Jb,Qb,Im,ew,Ud,tw,nw,or,iw,rw=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t}(hi),ow=rw.prototype;ow.on=Kb("on"),ow.off=Kb("off");var Yd=function(n){function t(e,i,r){var o=n.call(this,new PL)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},De(i)&&(i=aw[i]),o._dom=e;var l=o._zr=Pf(e,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:r.useDirtyRect??!1});o._ssr=r.ssr,o._throttledZrFlush=Rd(F(l.flush,l),17),(i=Re(i))&&k_(i,!0),o._theme=i,o._locale=function(c){if(De(c)){var p=xd[c.toUpperCase()]||{};return"ZH"===c||"EN"===c?Re(p):qe(Re(p),Re(xd.EN),!1)}return qe(Re(c),Re(xd.EN),!1)}(r.locale||Ux),o._coordSysMgr=new Ll;var u=o._api=tw(o);function h(c,p){return c.__prio-p.__prio}return Wr(jd,h),Wr(Tm,h),o._scheduler=new bb(o,u,Tm,jd),o._messageCenter=new rw,o._initEvents(),o.resize=F(o.resize,o),l.animation.on("frame",o._onframe,o),Jb(l,o),Qb(l,o),Ui(o),o}return Q(t,n),t.prototype._onframe=function(){if(!this._disposed){iw(this);var e=this._scheduler;if(this.__pendingUpdate){var i=this.__pendingUpdate.silent;this.__flagInMainProcess=!0;try{Hl(this),ya.update.call(this,null,this.__pendingUpdate.updateParams)}catch(l){throw this.__flagInMainProcess=!1,this.__pendingUpdate=null,l}this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,Dh.call(this,i),Ah.call(this,i)}else if(e.unfinished){var r=1,o=this._model,a=this._api;e.unfinished=!1;do{var s=+new Date;e.performSeriesTasks(o),e.performDataProcessorTasks(o),Sm(this,o),e.performVisualTasks(o),Ud(this,this._model,a,"remain",{}),r-=+new Date-s}while(r>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,i,r){if(!this.__flagInMainProcess)if(this._disposed);else{var o,a,s;if(Oe(i)&&(r=i.lazyUpdate,o=i.silent,a=i.replaceMerge,s=i.transition,i=i.notMerge),this.__flagInMainProcess=!0,!this._model||i){var l=new zk(this._api),u=this._theme,h=this._model=new qg;h.scheduler=this._scheduler,h.ssr=this._ssr,h.init(null,null,null,u,this._locale,l)}this._model.setOption(e,{replaceMerge:a},Dm);var c={seriesTransition:s,optionChanged:!0};if(r)this.__pendingUpdate={silent:o,updateParams:c},this.__flagInMainProcess=!1,this.getZr().wakeUp();else{try{Hl(this),ya.update.call(this,null,c)}catch(p){throw this.__pendingUpdate=null,this.__flagInMainProcess=!1,p}this._ssr||this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,Dh.call(this,o),Ah.call(this,o)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||XL&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return this._zr.painter.getRenderedCanvas({backgroundColor:(e=e||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return this._zr.painter.renderToString({useViewBox:(e=e||{}).useViewBox})},t.prototype.getSvgDataURL=function(){if($e.svgSupported){var e=this._zr;return V(e.storage.getDisplayList(),function(i){i.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var i=(e=e||{}).excludeComponents,r=this._model,o=[],a=this;V(i,function(l){r.eachComponent({mainType:l},function(u){var h=a._componentsMap[u.__viewId];h.group.ignore||(o.push(h),h.group.ignore=!0)})});var s="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return V(o,function(l){l.group.ignore=!1}),s}},t.prototype.getConnectedDataURL=function(e){if(!this._disposed){var i="svg"===e.type,r=this.group,o=Math.min,a=Math.max,s=1/0;if(Zd[r]){var l=s,u=s,h=-1/0,c=-1/0,p=[],f=e&&e.pixelRatio||this.getDevicePixelRatio();V(Cs,function(S,M){if(S.group===r){var C=i?S.getZr().painter.getSvgDom().innerHTML:S.renderToCanvas(Re(e)),T=S.getDom().getBoundingClientRect();l=o(T.left,l),u=o(T.top,u),h=a(T.right,h),c=a(T.bottom,c),p.push({dom:C,left:T.left,top:T.top})}});var g=(h*=f)-(l*=f),m=(c*=f)-(u*=f),y=Je.createCanvas(),x=Pf(y,{renderer:i?"svg":"canvas"});if(x.resize({width:g,height:m}),i){var b="";return V(p,function(S){b+='<g transform="translate('+(S.left-l)+","+(S.top-u)+')">'+S.dom+"</g>"}),x.painter.getSvgRoot().innerHTML=b,e.connectedBackgroundColor&&x.painter.setBackgroundColor(e.connectedBackgroundColor),x.refreshImmediately(),x.painter.toDataURL()}return e.connectedBackgroundColor&&x.add(new ht({shape:{x:0,y:0,width:g,height:m},style:{fill:e.connectedBackgroundColor}})),V(p,function(S){var M=new zn({style:{x:S.left*f-l,y:S.top*f-u,image:S.dom}});x.add(M)}),x.refreshImmediately(),y.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},t.prototype.convertToPixel=function(e,i){return wm(this,"convertToPixel",e,i)},t.prototype.convertFromPixel=function(e,i){return wm(this,"convertFromPixel",e,i)},t.prototype.containPixel=function(e,i){var r;if(!this._disposed)return V(ju(this._model,e),function(o,a){a.indexOf("Models")>=0&&V(o,function(s){var l=s.coordinateSystem;if(l&&l.containPoint)r=r||!!l.containPoint(i);else if("seriesModels"===a){var u=this._chartsMap[s.__viewId];u&&u.containPoint&&(r=r||u.containPoint(i,s))}},this)},this),!!r},t.prototype.getVisual=function(e,i){var r=ju(this._model,e,{defaultMainType:"series"}),a=r.seriesModel.getData(),s=r.hasOwnProperty("dataIndexInside")?r.dataIndexInside:r.hasOwnProperty("dataIndex")?a.indexOfRawIndex(r.dataIndex):null;return null!=s?pm(a,s,i):Ih(a,i)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var i,r,o=this;V(jL,function(a){var s=function(l){var u,h=o.getModel(),c=l.target;if("globalout"===a?u={}:c&&Vl(c,function(x){var b=Ze(x);if(b&&null!=b.dataIndex){var S=b.dataModel||h.getSeriesByIndex(b.seriesIndex);return u=S&&S.getDataParams(b.dataIndex,b.dataType)||{},!0}if(b.eventData)return u=ae({},b.eventData),!0},!0),u){var f=u.componentType,g=u.componentIndex;"markLine"!==f&&"markPoint"!==f&&"markArea"!==f||(f="series",g=u.seriesIndex);var m=f&&null!=g&&h.getComponent(f,g),y=m&&o["series"===m.mainType?"_chartsMap":"_componentsMap"][m.__viewId];u.event=l,u.type=a,o._$eventProcessor.eventInfo={targetEl:c,packedEvent:u,model:m,view:y},o.trigger(a,u)}};s.zrEventfulCallAtLast=!0,o._zr.on(a,s,o)}),V(kh,function(a,s){o._messageCenter.on(s,function(l){this.trigger(s,l)},o)}),V(["selectchanged"],function(a){o._messageCenter.on(a,function(s){this.trigger(a,s)},o)}),i=this,r=this._api,this._messageCenter.on("selectchanged",function(a){var s=r.getModel();a.isFromClick?(Bl("map","selectchanged",i,s,a),Bl("pie","selectchanged",i,s,a)):"select"===a.fromAction?(Bl("map","selected",i,s,a),Bl("pie","selected",i,s,a)):"unselect"===a.fromAction&&(Bl("map","unselected",i,s,a),Bl("pie","unselected",i,s,a))})},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed);else{this._disposed=!0,this.getDom()&&f1(this.getDom(),km,"");var e=this,i=e._api,r=e._model;V(e._componentsViews,function(o){o.dispose(r,i)}),V(e._chartsViews,function(o){o.dispose(r,i)}),e._zr.dispose(),e._dom=e._model=e._chartsMap=e._componentsMap=e._chartsViews=e._componentsViews=e._scheduler=e._api=e._zr=e._throttledZrFlush=e._theme=e._coordSysMgr=e._messageCenter=null,delete Cs[e.id]}},t.prototype.resize=function(e){if(!this.__flagInMainProcess)if(this._disposed);else{this._zr.resize(e);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),i){var r=i.resetOption("media"),o=e&&e.silent;this.__pendingUpdate&&(null==o&&(o=this.__pendingUpdate.silent),r=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0;try{r&&Hl(this),ya.update.call(this,{type:"resize",animation:ae({duration:0},e&&e.animation)})}catch(a){throw this.__flagInMainProcess=!1,a}this.__flagInMainProcess=!1,Dh.call(this,o),Ah.call(this,o)}}},t.prototype.showLoading=function(e,i){if(this._disposed);else if(Oe(e)&&(i=e,e=""),e=e||"default",this.hideLoading(),Am[e]){var r=Am[e](this._api,i),o=this._zr;this._loadingFX=r,o.add(r)}},t.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var i=ae({},e);return i.type=kh[e.type],i},t.prototype.dispatchAction=function(e,i){if(this._disposed);else if(Oe(i)||(i={silent:!!i}),Xd[e.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(e);else{var r=i.silent;Mm.call(this,e,r);var o=i.flush;o?this._zr.flush():!1!==o&&$e.browser.weChat&&this._throttledZrFlush(),Dh.call(this,r),Ah.call(this,r)}},t.prototype.updateLabelLayout=function(){Pr.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed);else{var i=e.seriesIndex;this.getModel().getSeriesByIndex(i).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(l){l.clearColorPalette(),l.eachSeries(function(u){u.clearColorPalette()})}function i(l){for(var u=[],h=l.currentStates,c=0;c<h.length;c++){var p=h[c];"emphasis"!==p&&"blur"!==p&&"select"!==p&&u.push(p)}l.selected&&l.states.select&&u.push("select"),2===l.hoverState&&l.states.emphasis?u.push("emphasis"):1===l.hoverState&&l.states.blur&&u.push("blur"),l.useStates(u)}function r(l,u){if(!l.preventAutoZ){var h=l.get("z")||0,c=l.get("zlevel")||0;u.eachRendered(function(p){return o(p,h,c,-1/0),!0})}}function o(l,u,h,c){var p=l.getTextContent(),f=l.getTextGuideLine();if(l.isGroup)for(var g=l.childrenRef(),m=0;m<g.length;m++)c=Math.max(o(g[m],u,h,c),c);else l.z=u,l.zlevel=h,c=Math.max(l.z2,c);if(p&&(p.z=u,p.zlevel=h,isFinite(c)&&(p.z2=c+2)),f){var y=l.textGuideLineConfig;f.z=u,f.zlevel=h,isFinite(c)&&(f.z2=c+(y&&y.showAbove?1:-1))}return c}function a(l,u){u.eachRendered(function(h){if(!_l(h)){var c=h.getTextContent(),p=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),c&&c.stateTransition&&(c.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function s(l,u){var h=l.getModel("stateAnimation"),c=l.isAnimationEnabled(),p=h.get("duration"),f=p>0?{duration:p,delay:h.get("delay"),easing:h.get("easing")}:null;u.eachRendered(function(g){if(g.states&&g.states.emphasis){if(_l(g))return;if(g instanceof at&&function(b){var S=X1(b);S.normalFill=b.style.fill,S.normalStroke=b.style.stroke;var M=b.states.select||{};S.selectFill=M.style&&M.style.fill||null,S.selectStroke=M.style&&M.style.stroke||null}(g),g.__dirty){var m=g.prevStates;m&&g.useStates(m)}if(c){g.stateTransition=f;var y=g.getTextContent(),x=g.getTextGuideLine();y&&(y.stateTransition=f),x&&(x.stateTransition=f)}g.__dirty&&i(g)}})}Hl=function(l){var u=l._scheduler;u.restorePipelines(l._model),u.prepareStageTasks(),bm(l,!0),bm(l,!1),u.plan()},bm=function(l,u){for(var h=l._model,c=l._scheduler,p=u?l._componentsViews:l._chartsViews,f=u?l._componentsMap:l._chartsMap,g=l._zr,m=l._api,y=0;y<p.length;y++)p[y].__alive=!1;function x(S){var M=S.__requireNewView;S.__requireNewView=!1;var C="_ec_"+S.id+"_"+S.type,T=!M&&f[C];if(!T){var D=Zr(S.type);(T=new(u?Yt.getClass(D.main,D.sub):Ot.getClass(D.sub))).init(h,m),f[C]=T,p.push(T),g.add(T.group)}S.__viewId=T.__id=C,T.__alive=!0,T.__model=S,T.group.__ecComponentInfo={mainType:S.mainType,index:S.componentIndex},!u&&c.prepareView(T,S,h,m)}for(u?h.eachComponent(function(S,M){"series"!==S&&x(M)}):h.eachSeries(x),y=0;y<p.length;){var b=p[y];b.__alive?y++:(!u&&b.renderTask.dispose(),g.remove(b.group),b.dispose(h,m),p.splice(y,1),f[b.__id]===b&&delete f[b.__id],b.__id=b.group.__ecComponentInfo=null)}},Hd=function(l,u,h,c,p){var f=l._model;if(f.setUpdatePayload(h),c){var g={};g[c+"Id"]=h[c+"Id"],g[c+"Index"]=h[c+"Index"],g[c+"Name"]=h[c+"Name"];var m={mainType:c,query:g};p&&(m.subType=p);var y,x=h.excludeSeriesId;null!=x&&(y=Ne(),V(zt(x),function(S){var M=An(S,null);null!=M&&y.set(M,!0)})),f&&f.eachComponent(m,function(S){if(!y||null===y.get(S.id))if(lx(h))if(S instanceof Bt)h.type!==ps||h.notBlur||S.get(["emphasis","disabled"])||function(D,k,R){var N=D.seriesIndex,E=D.getData(k.dataType);if(E){var B=ns(E,k);B=(ce(B)?B[0]:B)||0;var G=E.getItemGraphicEl(B);if(!G)for(var H=E.count(),Y=0;!G&&Y<H;)G=E.getItemGraphicEl(Y++);if(G){var j=Ze(G);hg(N,j.focus,j.blurScope,R)}else{var Z=D.get(["emphasis","focus"]),q=D.get(["emphasis","blurScope"]);null!=Z&&hg(N,Z,q,R)}}}(S,h,l._api);else{var M=dg(S.mainType,S.componentIndex,h.name,l._api),T=M.dispatchers;h.type===ps&&M.focusSelf&&!h.notBlur&&cg(S.mainType,S.componentIndex,l._api),T&&V(T,function(D){h.type===ps?Co(D):To(D)})}else fg(h)&&S instanceof Bt&&(function(D,k,R){if(fg(k)){var N=k.dataType,E=ns(D.getData(N),k);ce(E)||(E=[E]),D[k.type===Qu?"toggleSelect":k.type===Ju?"select":"unselect"](E,N)}}(S,h),ax(S),or(l))},l),f&&f.eachComponent(m,function(S){y&&null!==y.get(S.id)||b(l["series"===c?"_chartsMap":"_componentsMap"][S.__viewId])},l)}else V([].concat(l._componentsViews).concat(l._chartsViews),b);function b(S){S&&S.__alive&&S[u]&&S[u](S.__model,f,l._api,h)}},ya={prepareAndUpdate:function(l){Hl(this),ya.update.call(this,l,{optionChanged:null!=l.newOption})},update:function(l,u){var h=this._model,c=this._api,p=this._zr,f=this._coordSysMgr,g=this._scheduler;if(h){h.setUpdatePayload(l),g.restoreData(h,l),g.performSeriesTasks(h),f.create(h,c),g.performDataProcessorTasks(h,l),Sm(this,h),f.update(h,c),e(h),g.performVisualTasks(h,l),Im(this,h,c,l,u);var m=h.get("backgroundColor")||"transparent",y=h.get("darkMode");p.setBackgroundColor(m),null!=y&&"auto"!==y&&p.setDarkMode(y),Pr.trigger("afterupdate",h,c)}},updateTransform:function(l){var u=this,h=this._model,c=this._api;if(h){h.setUpdatePayload(l);var p=[];h.eachComponent(function(g,m){if("series"!==g){var y=u.getViewOfComponentModel(m);if(y&&y.__alive)if(y.updateTransform){var x=y.updateTransform(m,h,c,l);x&&x.update&&p.push(y)}else p.push(y)}});var f=Ne();h.eachSeries(function(g){var m=u._chartsMap[g.__viewId];if(m.updateTransform){var y=m.updateTransform(g,h,c,l);y&&y.update&&f.set(g.uid,1)}else f.set(g.uid,1)}),e(h),this._scheduler.performVisualTasks(h,l,{setDirty:!0,dirtyMap:f}),Ud(this,h,c,l,{},f),Pr.trigger("afterupdate",h,c)}},updateView:function(l){var u=this._model;u&&(u.setUpdatePayload(l),Ot.markUpdateMethod(l,"updateView"),e(u),this._scheduler.performVisualTasks(u,l,{setDirty:!0}),Im(this,u,this._api,l,{}),Pr.trigger("afterupdate",u,this._api))},updateVisual:function(l){var u=this,h=this._model;h&&(h.setUpdatePayload(l),h.eachSeries(function(c){c.getData().clearAllVisual()}),Ot.markUpdateMethod(l,"updateVisual"),e(h),this._scheduler.performVisualTasks(h,l,{visualType:"visual",setDirty:!0}),h.eachComponent(function(c,p){if("series"!==c){var f=u.getViewOfComponentModel(p);f&&f.__alive&&f.updateVisual(p,h,u._api,l)}}),h.eachSeries(function(c){u._chartsMap[c.__viewId].updateVisual(c,h,u._api,l)}),Pr.trigger("afterupdate",h,this._api))},updateLayout:function(l){ya.update.call(this,l)}},wm=function(l,u,h,c){if(l._disposed);else for(var p,f=l._model,g=l._coordSysMgr.getCoordinateSystems(),m=ju(f,h),y=0;y<g.length;y++){var x=g[y];if(x[u]&&null!=(p=x[u](f,m,c)))return p}},Sm=function(l,u){var h=l._chartsMap,c=l._scheduler;u.eachSeries(function(p){c.updateStreamModes(p,h[p.__viewId])})},Mm=function(l,u){var h=this,c=this.getModel(),p=l.type,f=l.escapeConnect,g=Xd[p],m=g.actionInfo,y=(m.update||"update").split(":"),x=y.pop(),b=null!=y[0]&&Zr(y[0]);this.__flagInMainProcess=!0;var S=[l],M=!1;l.batch&&(M=!0,S=oe(l.batch,function(E){return(E=Ee(ae({},E),l)).batch=null,E}));var C,T=[],D=fg(l),k=lx(l);if(k&&ox(this._api),V(S,function(E){if((C=(C=g.action(E,h._model,h._api))||ae({},E)).type=m.event||C.type,T.push(C),k){var B=Ff(l),H=B.mainTypeSpecified?B.queryOptionMap.keys()[0]:"series";Hd(h,x,E,H),or(h)}else D?(Hd(h,x,E,"series"),or(h)):b&&Hd(h,x,E,b.main,b.sub)}),"none"!==x&&!k&&!D&&!b)try{this.__pendingUpdate?(Hl(this),ya.update.call(this,l),this.__pendingUpdate=null):ya[x].call(this,l)}catch(E){throw this.__flagInMainProcess=!1,E}if(C=M?{type:m.event||p,escapeConnect:f,batch:T}:T[0],this.__flagInMainProcess=!1,!u){var R=this._messageCenter;if(R.trigger(C.type,C),D){var N={type:"selectchanged",escapeConnect:f,selected:QA(c),isFromClick:l.isFromClick||!1,fromAction:l.type,fromActionPayload:l};R.trigger(N.type,N)}}},Dh=function(l){for(var u=this._pendingActions;u.length;){var h=u.shift();Mm.call(this,h,l)}},Ah=function(l){!l&&this.trigger("updated")},Jb=function(l,u){l.on("rendered",function(h){u.trigger("rendered",h),!l.animation.isFinished()||u.__pendingUpdate||u._scheduler.unfinished||u._pendingActions.length||u.trigger("finished")})},Qb=function(l,u){l.on("mouseover",function(h){var p,f,g,m,y,x,c=Vl(h.target,eh);c&&(f=h,g=u._api,(x=(y=dg((m=Ze(p=c)).componentMainType,m.componentIndex,m.componentHighDownName,g)).dispatchers)?(y.focusSelf&&cg(m.componentMainType,m.componentIndex,g),V(x,function(S){return Q1(S,f)})):(hg(m.seriesIndex,m.focus,m.blurScope,g),"self"===m.focus&&cg(m.componentMainType,m.componentIndex,g),Q1(p,f)),or(u))}).on("mouseout",function(h){var c=Vl(h.target,eh);c&&(function(p,f,g){ox(g);var m=Ze(p),y=dg(m.componentMainType,m.componentIndex,m.componentHighDownName,g).dispatchers;y?V(y,function(x){return ex(x,f)}):ex(p,f)}(c,h,u._api),or(u))}).on("click",function(h){var c=Vl(h.target,function(g){return null!=Ze(g).dataIndex},!0);if(c){var p=c.selected?"unselect":"select",f=Ze(c);u._api.dispatchAction({type:p,dataType:f.dataType,dataIndexInside:f.dataIndex,seriesIndex:f.seriesIndex,isFromClick:!0})}})},Im=function(l,u,h,c,p){(function(f){var g=[],m=[],y=!1;if(f.eachComponent(function(M,C){var T=C.get("zlevel")||0,D=C.get("z")||0,k=C.getZLevelKey();y=y||!!k,("series"===M?m:g).push({zlevel:T,z:D,idx:C.componentIndex,type:M,key:k})}),y){var x,b,S=g.concat(m);Wr(S,function(M,C){return M.zlevel===C.zlevel?M.z-C.z:M.zlevel-C.zlevel}),V(S,function(M){var C=f.getComponent(M.type,M.idx),T=M.zlevel,D=M.key;null!=x&&(T=Math.max(x,T)),D?(T===x&&D!==b&&T++,b=D):b&&(T===x&&T++,b=""),x=T,C.setZLevel(T)})}})(u),ew(l,u,h,c,p),V(l._chartsViews,function(f){f.__alive=!1}),Ud(l,u,h,c,p),V(l._chartsViews,function(f){f.__alive||f.remove(u,h)})},ew=function(l,u,h,c,p,f){V(f||l._componentsViews,function(g){var m=g.__model;a(0,g),g.render(m,u,h,c),r(m,g),s(m,g)})},Ud=function(l,u,h,c,p,f){var g=l._scheduler;p=ae(p||{},{updatedSeries:u.getSeries()}),Pr.trigger("series:beforeupdate",u,h,p);var y,x,S,m=!1;u.eachSeries(function(y){var x=l._chartsMap[y.__viewId];x.__alive=!0;var M,C,b=x.renderTask;g.updatePayload(b,c),a(0,x),f&&f.get(y.uid)&&b.dirty(),b.perform(g.getPerformArgs(b))&&(m=!0),x.group.silent=!!y.get("silent"),M=x,C=y.get("blendMode")||null,M.eachRendered(function(T){T.isGroup||(T.style.blend=C)}),ax(y)}),g.unfinished=m||g.unfinished,Pr.trigger("series:layoutlabels",u,h,p),Pr.trigger("series:transition",u,h,p),u.eachSeries(function(y){var x=l._chartsMap[y.__viewId];r(y,x),s(y,x)}),x=u,S=0,(y=l)._zr.storage.traverse(function(M){M.isGroup||S++}),S>x.get("hoverLayerThreshold")&&!$e.node&&!$e.worker&&x.eachSeries(function(M){if(!M.preventUsingHoverLayer){var C=y._chartsMap[M.__viewId];C.__alive&&C.eachRendered(function(T){T.states.emphasis&&(T.states.emphasis.hoverLayer=!0)})}}),Pr.trigger("series:afterupdate",u,h,p)},or=function(l){l.__needsUpdateStatus=!0,l.getZr().wakeUp()},iw=function(l){l.__needsUpdateStatus&&(l.getZr().storage.traverse(function(u){_l(u)||i(u)}),l.__needsUpdateStatus=!1)},tw=function(l){return new(function(u){function h(){return null!==u&&u.apply(this,arguments)||this}return Q(h,u),h.prototype.getCoordinateSystems=function(){return l._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(c){for(;c;){var p=c.__ecComponentInfo;if(null!=p)return l._model.getComponent(p.mainType,p.index);c=c.parent}},h.prototype.enterEmphasis=function(c,p){Co(c,p),or(l)},h.prototype.leaveEmphasis=function(c,p){To(c,p),or(l)},h.prototype.enterBlur=function(c){tx(c),or(l)},h.prototype.leaveBlur=function(c){ug(c),or(l)},h.prototype.enterSelect=function(c){nx(c),or(l)},h.prototype.leaveSelect=function(c){ix(c),or(l)},h.prototype.getModel=function(){return l.getModel()},h.prototype.getViewOfComponentModel=function(c){return l.getViewOfComponentModel(c)},h.prototype.getViewOfSeriesModel=function(c){return l.getViewOfSeriesModel(c)},h}(S_))(l)},nw=function(l){function u(h,c){for(var p=0;p<h.length;p++)h[p][_m]=c}V(kh,function(h,c){l._messageCenter.on(c,function(p){if(Zd[l.group]&&0!==l[_m]){if(p&&p.escapeConnect)return;var f=l.makeActionFromEvent(p),g=[];V(Cs,function(m){m!==l&&m.group===l.group&&g.push(m)}),u(g,0),V(g,function(m){1!==m[_m]&&m.dispatchAction(f)}),u(g,2)}})})}}(),t}(hi),Cm=Yd.prototype;Cm.on=qb("on"),Cm.off=qb("off"),Cm.one=function(n,t,e){var i=this;this.on.call(this,n,function r(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];t&&t.apply&&t.apply(this,o),i.off(n,r)},e)};var jL=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],Xd={},kh={},Tm=[],Dm=[],jd=[],aw={},Am={},Cs={},Zd={},ZL=+new Date-0,qL=+new Date-0,km="_echarts_instance_";function sw(n){Zd[n]=!1}var KL=sw;function Lm(n){return Cs[function(t,e){return t.getAttribute?t.getAttribute(e):t[e]}(n,km)]}function Pm(n,t){aw[n]=t}function Om(n){je(Dm,n)<0&&Dm.push(n)}function Rm(n,t){Nm(Tm,n,t,2e3)}function lw(n){qd("afterinit",n)}function uw(n){qd("afterupdate",n)}function qd(n,t){Pr.on(n,t)}function Or(n,t,e){ze(t)&&(e=t,t="");var i=Oe(n)?n.type:[n,n={event:t}][0];n.event=(n.event||i).toLowerCase(),kh[t=n.event]||(mt(Zb.test(i)&&Zb.test(t)),Xd[i]||(Xd[i]={action:e,actionInfo:n}),kh[t]=i)}function hw(n,t){Ll.register(n,t)}function cw(n,t){Nm(jd,n,t,1e3,"layout")}function xa(n,t){Nm(jd,n,t,3e3,"visual")}var dw=[];function Nm(n,t,e,i,r){if((ze(t)||Oe(t))&&(e=t,t=i),!(je(dw,e)>=0)){dw.push(e);var o=bb.wrapStageHandler(e,r);o.__prio=t,o.__raw=e,n.push(o)}}function Em(n,t){Am[n]=t}function pw(n,t,e){var i=Xb("registerMap");i&&i(n,t,e)}var fw=function(n){var t=(n=Re(n)).type;t||Dt("");var i=t.split(":");2!==i.length&&Dt("");var r=!1;"echarts"===i[0]&&(t=i[1],r=!0),n.__isBuiltIn=r,Z_.set(t,n)};xa(2e3,xL),xa(4500,_L),xa(4500,bL),xa(2e3,OL),xa(4500,RL),xa(7e3,function(n,t){n.eachRawSeries(function(e){if(!n.isSeriesFiltered(e)){var i=e.getData();i.hasItemVisual()&&i.each(function(o){var a=i.getItemVisual(o,"decal");a&&(i.ensureUniqueItemVisual(o,"style").decal=Gl(a,t))});var r=i.getVisual("decal");r&&(i.getVisual("style").decal=Gl(r,t))}})}),Om(k_),Rm(900,function(n){var t=Ne();n.eachSeries(function(e){var i=e.get("stack");if(i){var r=t.get(i)||t.set(i,[]),o=e.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:e};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}}),t.each(Gk)}),Em("default",function(n,t){Ee(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new He,i=new ht({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(i);var r,o=new gt({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new ht({style:{fill:"none"},textContent:o,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return e.add(a),t.showSpinner&&((r=new oh({shape:{startAngle:-Nd/2,endAngle:-Nd/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Nd/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*Nd/2}).delay(300).start("circularInOut"),e.add(r)),e.resize=function(){var s=o.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(n.getWidth()-2*l-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),h=n.getHeight()/2;t.showSpinner&&r.setShape({cx:u,cy:h}),a.setShape({x:u-l,y:h-l,width:2*l,height:2*l}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}),Or({type:ps,event:ps,update:ps},rn),Or({type:ed,event:ed,update:ed},rn),Or({type:Ju,event:Ju,update:Ju},rn),Or({type:td,event:td,update:td},rn),Or({type:Qu,event:Qu,update:Qu},rn),Pm("light",LL),Pm("dark",Db);var gw=[],$L={registerPreprocessor:Om,registerProcessor:Rm,registerPostInit:lw,registerPostUpdate:uw,registerUpdateLifecycle:qd,registerAction:Or,registerCoordinateSystem:hw,registerLayout:cw,registerVisual:xa,registerTransform:fw,registerLoading:Em,registerMap:pw,registerImpl:function(n,t){Yb[n]=t},PRIORITY:jb,ComponentModel:st,ComponentView:Yt,SeriesModel:Bt,ChartView:Ot,registerComponentModel:function(n){st.registerClass(n)},registerComponentView:function(n){Yt.registerClass(n)},registerSeriesModel:function(n){Bt.registerClass(n)},registerChartView:function(n){Ot.registerClass(n)},registerSubTypeDefaulter:function(n,t){st.registerSubTypeDefaulter(n,t)},registerPainter:function(n,t){t1(n,t)}};function rt(n){ce(n)?V(n,function(t){rt(t)}):je(gw,n)>=0||(gw.push(n),ze(n)&&(n={install:n}),n.install($L))}function Lh(n){return null==n?0:n.length||1}function mw(n){return n}var ko=function(){function n(t,e,i,r,o,a){this._old=t,this._new=e,this._oldKeyGetter=i||mw,this._newKeyGetter=r||mw,this.context=o,this._diffModeMultiple="multiple"===a}return n.prototype.add=function(t){return this._add=t,this},n.prototype.update=function(t){return this._update=t,this},n.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},n.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},n.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},n.prototype.remove=function(t){return this._remove=t,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var t=this._old,e=this._new,i={},r=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,r,"_oldKeyGetter"),this._initIndexMap(e,i,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var s=r[a],l=i[s],u=Lh(l);if(u>1){var h=l.shift();1===l.length&&(i[s]=l[0]),this._update&&this._update(h,a)}else 1===u?(i[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,i)},n.prototype._executeMultiple=function(){var e=this._new,i={},r={},o=[],a=[];this._initIndexMap(this._old,i,o,"_oldKeyGetter"),this._initIndexMap(e,r,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],u=i[l],h=r[l],c=Lh(u),p=Lh(h);if(c>1&&1===p)this._updateManyToOne&&this._updateManyToOne(h,u),r[l]=null;else if(1===c&&p>1)this._updateOneToMany&&this._updateOneToMany(h,u),r[l]=null;else if(1===c&&1===p)this._update&&this._update(h,u),r[l]=null;else if(c>1&&p>1)this._updateManyToMany&&this._updateManyToMany(h,u),r[l]=null;else if(c>1)for(var f=0;f<c;f++)this._remove&&this._remove(u[f]);else this._remove&&this._remove(u)}this._performRestAdd(a,r)},n.prototype._performRestAdd=function(t,e){for(var i=0;i<t.length;i++){var r=t[i],o=e[r],a=Lh(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else 1===a&&this._add&&this._add(o);e[r]=null}},n.prototype._initIndexMap=function(t,e,i,r){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var s="_ec_"+this[r](t[a],a);if(o||(i[a]=s),e){var l=e[s],u=Lh(l);0===u?(e[s]=a,o&&i.push(s)):1===u?e[s]=[l,a]:l.push(a)}}},n}(),JL=function(){function n(t,e){this._encode=t,this._schema=e}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function zm(n,t){return n.hasOwnProperty(t)||(n[t]=[]),n[t]}function Kd(n){return"category"===n?"ordinal":"time"===n?"time":"float"}var $d=function(n){this.otherDims={},null!=n&&ae(this,n)},QL=_t(),eP={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},vw=function(){function n(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=_w(this.source)))},n.prototype.getSourceDimensionIndex=function(t){return pe(this._dimNameMap.get(t),-1)},n.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},n.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=E_(this.source),i=!bw(t),r="",o=[],a=0,s=0;a<t;a++){var l=void 0,u=void 0,h=void 0,c=this.dimensions[s];if(c&&c.storeDimIndex===a)l=e?c.name:null,u=c.type,h=c.ordinalMeta,s++;else{var p=this.getSourceDimension(a);p&&(l=e?p.name:null,u=p.type)}o.push({property:l,type:u,ordinalMeta:h}),!e||null==l||c&&c.isCalculationCoord||(r+=i?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=eP[u]||"f",h&&(r+=h.uid),r+="$"}var f=this.source;return{dimensions:o,hash:[f.seriesLayoutBy,f.startIndex,r].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,i=0;e<this._fullDimCount;e++){var r=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===e)o.isCalculationCoord||(r=o.name),i++;else{var a=this.getSourceDimension(e);a&&(r=a.name)}t.push(r)}return t},n.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function yw(n){return n instanceof vw}function xw(n){for(var t=Ne(),e=0;e<(n||[]).length;e++){var i=n[e],r=Oe(i)?i.name:i;null!=r&&null==t.get(r)&&t.set(r,e)}return t}function _w(n){var t=QL(n);return t.dimNameMap||(t.dimNameMap=xw(n.dimensionsDefine))}function bw(n){return n>30}var ww,Jd,Ph,Oh,Bm,Qd,Vm,Rh=Oe,_a=oe,tP=typeof Int32Array>"u"?Array:Int32Array,nP=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],iP=["_approximateExtent"],ai=function(){function n(t,e){var i;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r=!1;yw(t)?(i=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,i=t),i=i||["x","y"];for(var o={},a=[],s={},l=!1,u={},h=0;h<i.length;h++){var c=i[h],p=De(c)?new $d({name:c}):c instanceof $d?c:new $d(c),f=p.name;p.type=p.type||"float",p.coordDim||(p.coordDim=f,p.coordDimIndex=0);var g=p.otherDims=p.otherDims||{};a.push(f),o[f]=p,null!=u[f]&&(l=!0),p.createInvertedIndices&&(s[f]=[]),0===g.itemName&&(this._nameDimIdx=h),0===g.itemId&&(this._idDimIdx=h),r&&(p.storeDimIndex=h)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=e,this._invertedIndicesMap=s,this._dimOmitted){var m=this._dimIdxToName=Ne();V(a,function(y){m.set(o[y].storeDimIndex,y)})}}return n.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var i=this._dimIdxToName.get(e);if(null!=i)return i;var r=this._schema.getSourceDimension(e);return r?r.name:void 0},n.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var i=this._getDimInfo(t);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},n.prototype._recognizeDimIndex=function(t){if(ot(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},n.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},n.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},n.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(i){return e.hasOwnProperty(i)?e[i]:void 0}:function(i){return e[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(t,e){var i=this._dimSummary;if(null==e)return i.encodeFirstDimNotExtra[t];var r=i.encode[t];return r?r[e]:null},n.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(t,e,i){var r,o=this;if(t instanceof sm&&(r=t),!r){var a=this.dimensions,s=Qg(t)||nn(t)?new z_(t,a.length):t;r=new sm;var l=_a(a,function(u){return{type:o._dimInfos[u].type,property:u}});r.initData(s,l,i)}this._store=r,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,r.count()),this._dimSummary=function(u,h){var c={},p=c.encode={},f=Ne(),g=[],m=[],y={};V(u.dimensions,function(C){var T,D=u.getDimensionInfo(C),k=D.coordDim;if(k){var R=D.coordDimIndex;zm(p,k)[R]=C,D.isExtraCoord||(f.set(k,1),"ordinal"!==(T=D.type)&&"time"!==T&&(g[0]=C),zm(y,k)[R]=u.getDimensionIndex(D.name)),D.defaultTooltip&&m.push(C)}h_.each(function(N,E){var B=zm(p,E),G=D.otherDims[E];null!=G&&!1!==G&&(B[G]=D.name)})});var x=[],b={};f.each(function(C,T){var D=p[T];b[T]=D[0],x=x.concat(D)}),c.dataDimsOnCoord=x,c.dataDimIndicesOnCoord=oe(x,function(C){return u.getDimensionInfo(C).storeDimIndex}),c.encodeFirstDimNotExtra=b;var S=p.label;S&&S.length&&(g=S.slice());var M=p.tooltip;return M&&M.length?m=M.slice():m.length||(m=g.slice()),p.defaultedLabel=g,p.defaultedTooltip=m,c.userOutput=new JL(y,h),c}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},n.prototype.appendValues=function(t,e){var i=this._store.appendValues(t,e.length),r=i.start,o=i.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var s=r;s<o;s++)this._nameList[s]=e[s-r],a&&Vm(this,s)},n.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,i=0;i<e.length;i++){var r=this._dimInfos[e[i]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==kl&&!t.fillStorage},n.prototype._doInit=function(t,e){if(!(t>=e)){var i=this._store.getProvider();this._updateOrdinalMeta();var r=this._nameList,o=this._idList;if(i.getSource().sourceFormat===fa&&!i.pure)for(var a=[],s=t;s<e;s++){var l=i.getItem(s,a);if(!this.hasItemOption&&yA(l)&&(this.hasItemOption=!0),l){var u=l.name;null==r[s]&&null!=u&&(r[s]=An(u,null));var h=l.id;null==o[s]&&null!=h&&(o[s]=An(h,null))}}if(this._shouldMakeIdFromName())for(s=t;s<e;s++)Vm(this,s);ww(this)}},n.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},n.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},n.prototype.setCalculationInfo=function(t,e){Rh(t)?ae(this._calculationInfo,t):this._calculationInfo[t]=e},n.prototype.getName=function(t){var e=this.getRawIndex(t),i=this._nameList[e];return null==i&&null!=this._nameDimIdx&&(i=Ph(this,this._nameDimIdx,e)),null==i&&(i=""),i},n.prototype._getCategory=function(t,e){var i=this._store.get(t,e),r=this._store.getOrdinalMeta(t);return r?r.categories[i]:i},n.prototype.getId=function(t){return Jd(this,this.getRawIndex(t))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(t,e){var r=this._dimInfos[t];if(r)return this._store.get(r.storeDimIndex,e)},n.prototype.getByRawIndex=function(t,e){var r=this._dimInfos[t];if(r)return this._store.getByRawIndex(r.storeDimIndex,e)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},n.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},n.prototype.getValues=function(t,e){var i=this,r=this._store;return ce(t)?r.getValues(_a(t,function(o){return i._getStoreDimIndex(o)}),e):r.getValues(t)},n.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,i=0,r=e.length;i<r;i++)if(isNaN(this._store.get(e[i],t)))return!1;return!0},n.prototype.indexOfName=function(t){for(var e=0,i=this._store.count();e<i;e++)if(this.getName(e)===t)return e;return-1},n.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},n.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},n.prototype.rawIndexOf=function(t,e){var r=(t&&this._invertedIndicesMap[t])[e];return null==r||isNaN(r)?-1:r},n.prototype.indicesOfNearest=function(t,e,i){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,i)},n.prototype.each=function(t,e,i){ze(t)&&(i=e,e=t,t=[]);var r=i||this,o=_a(Oh(t),this._getStoreDimIndex,this);this._store.each(o,r?F(e,r):e)},n.prototype.filterSelf=function(t,e,i){ze(t)&&(i=e,e=t,t=[]);var r=i||this,o=_a(Oh(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?F(e,r):e),this},n.prototype.selectRange=function(t){var e=this,i={};return V(tt(t),function(r){var o=e._getStoreDimIndex(r);i[o]=t[r]}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(t,e,i){ze(t)&&(i=e,e=t,t=[]);var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},i=i||this),r},n.prototype.map=function(t,e,i,r){var o=i||r||this,a=_a(Oh(t),this._getStoreDimIndex,this),s=Qd(this);return s._store=this._store.map(a,o?F(e,o):e),s},n.prototype.modify=function(t,e,i,r){var o=i||r||this,a=_a(Oh(t),this._getStoreDimIndex,this);this._store.modify(a,o?F(e,o):e)},n.prototype.downSample=function(t,e,i,r){var o=Qd(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),e,i,r),o},n.prototype.lttbDownSample=function(t,e){var i=Qd(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),i},n.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},n.prototype.getItemModel=function(t){var e=this.hostModel,i=this.getRawDataItem(t);return new Ct(i,e,e&&e.ecModel)},n.prototype.diff=function(t){var e=this;return new ko(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(i){return Jd(t,i)},function(i){return Jd(e,i)})},n.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},n.prototype.setVisual=function(t,e){this._visual=this._visual||{},Rh(t)?ae(this._visual,t):this._visual[t]=e},n.prototype.getItemVisual=function(t,e){var i=this._itemVisuals[t];return(i&&i[e])??this.getVisual(e)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(t,e){var i=this._itemVisuals,r=i[t];r||(r=i[t]={});var o=r[e];return null==o&&(ce(o=this.getVisual(e))?o=o.slice():Rh(o)&&(o=ae({},o)),r[e]=o),o},n.prototype.setItemVisual=function(t,e,i){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,Rh(e)?ae(r,e):r[e]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(t,e){Rh(t)?ae(this._layout,t):this._layout[t]=e},n.prototype.getLayout=function(t){return this._layout[t]},n.prototype.getItemLayout=function(t){return this._itemLayouts[t]},n.prototype.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?ae(this._itemLayouts[t]||{},e):e},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(t,e){og(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,e),this._graphicEls[t]=e},n.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},n.prototype.eachItemGraphicEl=function(t,e){V(this._graphicEls,function(i,r){i&&t&&t.call(e,i,r)})},n.prototype.cloneShallow=function(t){return t||(t=new n(this._schema?this._schema:_a(this.dimensions,this._getDimInfo,this),this.hostModel)),Bm(t,this),t._store=this._store,t},n.prototype.wrapMethod=function(t,e){var i=this[t];ze(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var r=i.apply(this,arguments);return e.apply(this,[r].concat(St(arguments)))})},n.internalField=(ww=function(t){var e=t._invertedIndicesMap;V(e,function(i,r){var o=t._dimInfos[r],a=o.ordinalMeta,s=t._store;if(a){i=e[r]=new tP(a.categories.length);for(var l=0;l<i.length;l++)i[l]=-1;for(l=0;l<s.count();l++)i[s.get(o.storeDimIndex,l)]=l}})},Ph=function(t,e,i){return An(t._getCategory(e,i),null)},Jd=function(t,e){var i=t._idList[e];return null==i&&null!=t._idDimIdx&&(i=Ph(t,t._idDimIdx,e)),null==i&&(i="e\0\0"+e),i},Oh=function(t){return ce(t)||(t=null!=t?[t]:[]),t},Qd=function(t){var e=new n(t._schema?t._schema:_a(t.dimensions,t._getDimInfo,t),t.hostModel);return Bm(e,t),e},Bm=function(t,e){V(nP.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t.__wrappedMethods=e.__wrappedMethods,V(iP,function(i){t[i]=Re(e[i])}),t._calculationInfo=ae({},e._calculationInfo)},void(Vm=function(t,e){var i=t._nameList,r=t._idList,o=t._nameDimIdx,a=t._idDimIdx,s=i[e],l=r[e];if(null==s&&null!=o&&(i[e]=s=Ph(t,o,e)),null==l&&null!=a&&(r[e]=l=Ph(t,a,e)),null==l&&null!=s){var u=t._nameRepeatCount,h=u[s]=(u[s]||0)+1;l=s,h>1&&(l+="__ec__"+h),r[e]=l}})),n}();function Ul(n,t){Qg(n)||(n=tm(n));var R,B,e=(t=t||{}).coordDimensions||[],i=t.dimensionsDefine||n.dimensionsDefine||[],r=Ne(),o=[],a=(R=e,B=Math.max(n.dimensionsDetectedCount||1,R.length,i.length,t.dimensionsCount||0),V(R,function(G){var H;Oe(G)&&(H=G.dimsDef)&&(B=Math.max(B,H.length))}),B),s=t.canOmitUnusedDimensions&&bw(a),l=i===n.dimensionsDefine,u=l?_w(n):xw(i),h=t.encodeDefine;!h&&t.encodeDefaulter&&(h=t.encodeDefaulter(n,a));for(var c=Ne(h),p=new q_(a),f=0;f<p.length;f++)p[f]=-1;function g(k){var R=p[k];if(R<0){var N=i[k],E=Oe(N)?N:{name:N},B=new $d,G=E.name;return null!=G&&null!=u.get(G)&&(B.name=B.displayName=G),null!=E.type&&(B.type=E.type),null!=E.displayName&&(B.displayName=E.displayName),p[k]=o.length,B.storeDimIndex=k,o.push(B),B}return o[R]}if(!s)for(f=0;f<a;f++)g(f);c.each(function(k,R){var N=zt(k).slice();if(1===N.length&&!De(N[0])&&N[0]<0)c.set(R,!1);else{var E=c.set(R,[]);V(N,function(B,G){var H=De(B)?u.get(B):B;null!=H&&H<a&&(E[G]=H,y(g(H),R,G))})}});var m=0;function y(k,R,N){null!=h_.get(R)?k.otherDims[R]=N:(k.coordDim=R,k.coordDimIndex=N,r.set(R,!0))}V(e,function(k){var R,N,E,B;if(De(k))R=k,B={};else{R=(B=k).name;var G=B.ordinalMeta;B.ordinalMeta=null,(B=ae({},B)).ordinalMeta=G,N=B.dimsDef,E=B.otherDims,B.name=B.coordDim=B.coordDimIndex=B.dimsDef=B.otherDims=null}var H=c.get(R);if(!1!==H){if(!(H=zt(H)).length)for(var Y=0;Y<(N&&N.length||1);Y++){for(;m<a&&null!=g(m).coordDim;)m++;m<a&&H.push(m++)}V(H,function(j,Z){var q=g(j);if(l&&null!=B.type&&(q.type=B.type),y(Ee(q,B),R,Z),null==q.name&&N){var J=N[Z];!Oe(J)&&(J={name:J}),q.name=q.displayName=J.name,q.defaultTooltip=J.defaultTooltip}E&&Ee(q.otherDims,E)})}});var x=t.generateCoord,b=t.generateCoordCount,S=null!=b;b=x?b||1:0;var M=x||"value";function C(k){null==k.name&&(k.name=k.coordDim)}if(s)V(o,function(k){C(k)}),o.sort(function(k,R){return k.storeDimIndex-R.storeDimIndex});else for(var T=0;T<a;T++){var D=g(T);null==D.coordDim&&(D.coordDim=rP(M,r,S),D.coordDimIndex=0,(!x||b<=0)&&(D.isExtraCoord=!0),b--),C(D),null!=D.type||1!==g_(n,T)&&(!D.isExtraCoord||null==D.otherDims.itemName&&null==D.otherDims.seriesName)||(D.type="ordinal")}return function(k){for(var R=Ne(),N=0;N<k.length;N++){var E=k[N],B=E.name,G=R.get(B)||0;G>0&&(E.name=B+(G-1)),G++,R.set(B,G)}}(o),new vw({source:n,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function rP(n,t,e){var i=t.data;if(e||i.hasOwnProperty(n)){for(var r=0;i.hasOwnProperty(n+r);)r++;n+=r}return t.set(n,!0),n}var oP=function(n){this.coordSysDims=[],this.axisMap=Ne(),this.categoryAxisMap=Ne(),this.coordSysName=n},aP={cartesian2d:function(n,t,e,i){var r=n.getReferringComponents("xAxis",Mn).models[0],o=n.getReferringComponents("yAxis",Mn).models[0];t.coordSysDims=["x","y"],e.set("x",r),e.set("y",o),Yl(r)&&(i.set("x",r),t.firstCategoryDimIndex=0),Yl(o)&&(i.set("y",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(n,t,e,i){var r=n.getReferringComponents("singleAxis",Mn).models[0];t.coordSysDims=["single"],e.set("single",r),Yl(r)&&(i.set("single",r),t.firstCategoryDimIndex=0)},polar:function(n,t,e,i){var r=n.getReferringComponents("polar",Mn).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",o),e.set("angle",a),Yl(o)&&(i.set("radius",o),t.firstCategoryDimIndex=0),Yl(a)&&(i.set("angle",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(n,t,e,i){t.coordSysDims=["lng","lat"]},parallel:function(n,t,e,i){var r=n.ecModel,o=r.getComponent("parallel",n.get("parallelIndex")),a=t.coordSysDims=o.dimensions.slice();V(o.parallelAxisIndex,function(s,l){var u=r.getComponent("parallelAxis",s),h=a[l];e.set(h,u),Yl(u)&&(i.set(h,u),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=l))})}};function Yl(n){return"category"===n.get("type")}function Sw(n,t,e){var i,r,o,a=(e=e||{}).byIndex,s=e.stackedCoordDimension;yw(t.schema)?(i=(r=t.schema).dimensions,o=t.store):i=t;var l,u,h,c,p=!(!n||!n.get("stack"));if(V(i,function(b,S){De(b)&&(i[S]=b={name:b}),p&&!b.isExtraCoord&&(a||l||!b.ordinalMeta||(l=b),u||"ordinal"===b.type||"time"===b.type||s&&s!==b.coordDim||(u=b))}),!u||a||l||(a=!0),u){h="__\0ecstackresult_"+n.id,c="__\0ecstackedover_"+n.id,l&&(l.createInvertedIndices=!0);var f=u.coordDim,g=u.type,m=0;V(i,function(b){b.coordDim===f&&m++});var y={name:h,coordDim:f,coordDimIndex:m,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length},x={name:c,coordDim:c,coordDimIndex:m+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:i.length+1};r?(o&&(y.storeDimIndex=o.ensureCalculationDimension(c,g),x.storeDimIndex=o.ensureCalculationDimension(h,g)),r.appendCalculationDimension(y),r.appendCalculationDimension(x)):(i.push(y),i.push(x))}return{stackedDimension:u&&u.name,stackedByDimension:l&&l.name,isStackedByIndex:a,stackedOverDimension:c,stackResultDimension:h}}function Lo(n,t){return!!t&&t===n.getCalculationInfo("stackedDimension")}function Fm(n,t){return Lo(n,t)?n.getCalculationInfo("stackResultDimension"):t}function eo(n,t,e){e=e||{};var i,r=t.getSourceManager(),o=!1;n?(o=!0,i=tm(n)):o=(i=r.getSource()).sourceFormat===fa;var x,b,S,M,a=function(y){var x=y.get("coordinateSystem"),b=new oP(x),S=aP[x];if(S)return S(y,b,b.axisMap,b.categoryAxisMap),b}(t),s=(x=a,S=t.get("coordinateSystem"),M=Ll.get(S),x&&x.coordSysDims&&(b=oe(x.coordSysDims,function(C){var T={name:C},D=x.axisMap.get(C);if(D){var k=D.get("type");T.type=Kd(k)}return T})),b||(b=M&&(M.getDimensionsInfo?M.getDimensionsInfo():M.dimensions.slice())||["x","y"]),b),l=e.useEncodeDefaulter,u=ze(l)?l:l?We(f_,s,t):null,h=Ul(i,{coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!o}),c=function(y,x,b){var S,M;return b&&V(y,function(C,T){var k=b.categoryAxisMap.get(C.coordDim);k&&(null==S&&(S=T),C.ordinalMeta=k.getOrdinalMeta(),x&&(C.createInvertedIndices=!0)),null!=C.otherDims.itemName&&(M=!0)}),M||null==S||(y[S].otherDims.itemName=0),S}(h.dimensions,e.createInvertedIndices,a),p=o?null:r.getSharedDataStore(h),f=Sw(t,{schema:h,store:p}),g=new ai(h,t);g.setCalculationInfo(f);var m=null!=c&&function(y){if(y.sourceFormat===fa)return!ce(hl(function(x){for(var b=0;b<x.length&&null==x[b];)b++;return x[b]}(y.data||[])))}(i)?function(y,x,b,S){return S===c?b:this.defaultDimValueGetter(y,x,b,S)}:null;return g.hasItemOption=!1,g.initData(o?i:p,null,m),g}var to=function(){function n(t){this._setting=t||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(t){return this._setting[t]},n.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},n.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},n.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(t){this._isBlank=t},n}();Xc(to);var sP=0,Wm=function(){function n(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++sP}return n.createByAxisModel=function(t){var e=t.option,i=e.data,r=i&&oe(i,lP);return new n({categories:r,needCollect:!r,deduplication:!1!==e.dedplication})},n.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},n.prototype.parseAndCollect=function(t){var e,i=this._needCollect;if(!De(t)&&!i)return t;if(i&&!this._deduplication)return this.categories[e=this.categories.length]=t,e;var r=this._getOrCreateMap();return null==(e=r.get(t))&&(i?(this.categories[e=this.categories.length]=t,r.set(t,e)):e=NaN),e},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Ne(this.categories))},n}();function lP(n){return Oe(n)&&null!=n.value?n.value:n+""}function Gm(n){return"interval"===n.type||"log"===n.type}function Hm(n){var t=Math.pow(10,Uc(n)),e=n/t;return e?2===e?e=3:3===e?e=5:e*=2:e=1,an(e*t)}function Mw(n){return Cr(n)+2}function Iw(n,t,e){n[t]=Math.max(Math.min(n[t],e[1]),e[0])}function ep(n,t){return n>=t[0]&&n<=t[1]}function tp(n,t){return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])}function np(n,t){return n*(t[1]-t[0])+t[0]}var ip=function(n){function t(e){var i=n.call(this,e)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new Wm({})),ce(r)&&(r=new Wm({categories:oe(r,function(o){return Oe(o)?o.value:o})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return Q(t,n),t.prototype.parse=function(e){return null==e?NaN:De(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return ep(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return tp(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round(np(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],i=this._extent,r=i[0];r<=i[1];)e.push({value:r}),r++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var i=e.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,s=this._ordinalMeta.categories.length,l=Math.min(s,i.length);a<l;++a){var u=i[a];r[a]=u,o[u]=a}for(var h=0;a<s;++a){for(;null!=o[h];)h++;r.push(h),o[h]=a}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var i=this._ticksByOrdinalNumber;return i&&e>=0&&e<i.length?i[e]:e},t.prototype.getRawOrdinalNumber=function(e){var i=this._ordinalNumbersByTick;return i&&e>=0&&e<i.length?i[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var i=this.getRawOrdinalNumber(e.value),r=this._ordinalMeta.categories[i];return null==r?"":r+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(to);to.registerClass(ip);var Ts=an,Po=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return Q(t,n),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return ep(e,this._extent)},t.prototype.normalize=function(e){return tp(e,this._extent)},t.prototype.scale=function(e){return np(e,this._extent)},t.prototype.setExtent=function(e,i){var r=this._extent;isNaN(e)||(r[0]=parseFloat(e)),isNaN(i)||(r[1]=parseFloat(i))},t.prototype.unionExtent=function(e){var i=this._extent;e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1]),this.setExtent(i[0],i[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Mw(e)},t.prototype.getTicks=function(e){var i=this._interval,r=this._extent,o=this._niceExtent,a=this._intervalPrecision,s=[];if(!i)return s;r[0]<o[0]&&s.push(e?{value:Ts(o[0]-i,a)}:{value:r[0]});for(var l=o[0];l<=o[1]&&(s.push({value:l}),(l=Ts(l+i,a))!==s[s.length-1].value);)if(s.length>1e4)return[];var u=s.length?s[s.length-1].value:o[1];return r[1]>u&&s.push(e?{value:Ts(u+i,a)}:{value:r[1]}),s},t.prototype.getMinorTicks=function(e){for(var i=this.getTicks(!0),r=[],o=this.getExtent(),a=1;a<i.length;a++){for(var l=i[a-1],u=0,h=[],c=(i[a].value-l.value)/e;u<e-1;){var p=Ts(l.value+(u+1)*c);p>o[0]&&p<o[1]&&h.push(p),u++}r.push(h)}return r},t.prototype.getLabel=function(e,i){if(null==e)return"";var r=i&&i.precision;return null==r?r=Cr(e.value)||0:"auto"===r&&(r=this._intervalPrecision),zg(Ts(e.value,r,!0))},t.prototype.calcNiceTicks=function(e,i,r){e=e||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var s=function uP(n,t,e,i){var r={},a=r.interval=Ef((n[1]-n[0])/t,!0);null!=e&&a<e&&(a=r.interval=e),null!=i&&a>i&&(a=r.interval=i);var l,u,s=r.intervalPrecision=Mw(a);return l=r.niceTickExtent=[an(Math.ceil(n[0]/a)*a,s),an(Math.floor(n[1]/a)*a,s)],u=n,!isFinite(l[0])&&(l[0]=u[0]),!isFinite(l[1])&&(l[1]=u[1]),Iw(l,0,u),Iw(l,1,u),l[0]>l[1]&&(l[0]=l[1]),r}(o,e,i,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var i=this._extent;if(i[0]===i[1])if(0!==i[0]){var r=i[0];e.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;isFinite(i[1]-i[0])||(i[0]=0,i[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var a=this._interval;e.fixMin||(i[0]=Ts(Math.floor(i[0]/a)*a)),e.fixMax||(i[1]=Ts(Math.ceil(i[1]/a)*a))},t.prototype.setNiceExtent=function(e,i){this._niceExtent=[e,i]},t.type="interval",t}(to);to.registerClass(Po);var Cw=typeof Float32Array<"u",hP=Cw?Float32Array:Array;function no(n){return ce(n)?Cw?new Float32Array(n):n:new hP(n)}var Um="__ec_stack_";function Ym(n){return n.get("stack")||Um+n.seriesIndex}function Xm(n){return n.dim+n.index}function Tw(n,t){var e=[];return t.eachSeriesByType(n,function(i){Pw(i)&&e.push(i)}),e}function Dw(n){var t=function(i){var r={};V(i,function(c){var p=c.coordinateSystem.getBaseAxis();if("time"===p.type||"value"===p.type)for(var f=c.getData(),g=p.dim+"_"+p.index,m=f.getDimensionIndex(f.mapDimension(p.dim)),y=f.getStore(),x=0,b=y.count();x<b;++x){var S=y.get(m,x);r[g]?r[g].push(S):r[g]=[S]}});var o={};for(var a in r)if(r.hasOwnProperty(a)){var s=r[a];if(s){s.sort(function(c,p){return c-p});for(var l=null,u=1;u<s.length;++u){var h=s[u]-s[u-1];h>0&&(l=null===l?h:Math.min(l,h))}o[a]=l}}return o}(n),e=[];return V(n,function(i){var r,o=i.coordinateSystem.getBaseAxis(),a=o.getExtent();if("category"===o.type)r=o.getBandWidth();else if("value"===o.type||"time"===o.type){var l=t[o.dim+"_"+o.index],u=Math.abs(a[1]-a[0]),h=o.scale.getExtent(),c=Math.abs(h[1]-h[0]);r=l?u/c*l:u}else{var p=i.getData();r=Math.abs(a[1]-a[0])/p.count()}var f=Te(i.get("barWidth"),r),g=Te(i.get("barMaxWidth"),r),m=Te(i.get("barMinWidth")||(Ow(i)?.5:1),r),y=i.get("barGap"),x=i.get("barCategoryGap");e.push({bandWidth:r,barWidth:f,barMaxWidth:g,barMinWidth:m,barGap:y,barCategoryGap:x,axisKey:Xm(o),stackId:Ym(i)})}),Aw(e)}function Aw(n){var t={};V(n,function(i,r){var o=i.axisKey,a=i.bandWidth,s=t[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[o]=s;var u=i.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var h=i.barWidth;h&&!l[u].width&&(l[u].width=h,h=Math.min(s.remainedWidth,h),s.remainedWidth-=h);var c=i.barMaxWidth;c&&(l[u].maxWidth=c);var p=i.barMinWidth;p&&(l[u].minWidth=p);var f=i.barGap;null!=f&&(s.gap=f);var g=i.barCategoryGap;null!=g&&(s.categoryGap=g)});var e={};return V(t,function(i,r){e[r]={};var o=i.stacks,a=i.bandWidth,s=i.categoryGap;if(null==s){var l=tt(o).length;s=Math.max(35-4*l,15)+"%"}var u=Te(s,a),h=Te(i.gap,1),c=i.remainedWidth,p=i.autoWidthCount,f=(c-u)/(p+(p-1)*h);f=Math.max(f,0),V(o,function(x){var b=x.maxWidth,S=x.minWidth;if(x.width)M=x.width,b&&(M=Math.min(M,b)),S&&(M=Math.max(M,S)),x.width=M,c-=M+h*M,p--;else{var M=f;b&&b<M&&(M=Math.min(b,c)),S&&S>M&&(M=S),M!==f&&(x.width=M,c-=M+h*M,p--)}}),f=(c-u)/(p+(p-1)*h),f=Math.max(f,0);var g,m=0;V(o,function(x,b){x.width||(x.width=f),g=x,m+=x.width*(1+h)}),g&&(m-=g.width*h);var y=-m/2;V(o,function(x,b){e[r][b]=e[r][b]||{bandWidth:a,offset:y,width:x.width},y+=x.width*(1+h)})}),e}function kw(n,t){var e=Tw(n,t),i=Dw(e);V(e,function(r){var o=r.getData(),a=r.coordinateSystem.getBaseAxis(),s=Ym(r),l=i[Xm(a)][s];o.setLayout({bandWidth:l.bandWidth,offset:l.offset,size:l.width})})}function Lw(n){return{seriesType:n,plan:El(),reset:function(t){if(Pw(t)){var e=t.getData(),i=t.coordinateSystem,r=i.getBaseAxis(),o=i.getOtherAxis(r),a=e.getDimensionIndex(e.mapDimension(o.dim)),s=e.getDimensionIndex(e.mapDimension(r.dim)),l=t.get("showBackground",!0),u=e.mapDimension(o.dim),h=e.getCalculationInfo("stackResultDimension"),c=Lo(e,u)&&!!e.getCalculationInfo("stackedOnSeries"),p=o.isHorizontal(),f=(M=o).toGlobalCoord(M.dataToCoord("log"===M.type?1:0)),g=Ow(t),m=t.get("barMinHeight")||0,y=h&&e.getDimensionIndex(h),x=e.getLayout("size"),b=e.getLayout("offset");return{progress:function(S,M){for(var C,T=S.count,D=g&&no(3*T),k=g&&l&&no(3*T),R=g&&no(T),N=i.master.getRect(),E=p?N.width:N.height,B=M.getStore(),G=0;null!=(C=S.next());){var H=B.get(c?y:a,C),Y=B.get(s,C),j=f,Z=void 0;c&&(Z=+H-B.get(a,C));var q=void 0,J=void 0,te=void 0,ne=void 0;if(p){var le=i.dataToPoint([H,Y]);c&&(j=i.dataToPoint([Z,Y])[0]),q=j,J=le[1]+b,te=le[0]-j,ne=x,Math.abs(te)<m&&(te=(te<0?-1:1)*m)}else le=i.dataToPoint([Y,H]),c&&(j=i.dataToPoint([Y,Z])[1]),q=le[0]+b,J=j,te=x,ne=le[1]-j,Math.abs(ne)<m&&(ne=(ne<=0?-1:1)*m);g?(D[G]=q,D[G+1]=J,D[G+2]=p?te:ne,k&&(k[G]=p?N.x:q,k[G+1]=p?J:N.y,k[G+2]=E),R[C]=C):M.setItemLayout(C,{x:q,y:J,width:te,height:ne}),G+=3}g&&M.setLayout({largePoints:D,largeDataIndices:R,largeBackgroundPoints:k,valueAxisHorizontal:p})}}}var M}}}function Pw(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function Ow(n){return n.pipelineContext&&n.pipelineContext.large}var jm=function(n){function t(e){var i=n.call(this,e)||this;return i.type="time",i}return Q(t,n),t.prototype.getLabel=function(e){var i=this.getSetting("useUTC");return ph(e.value,qx[function(r){switch(r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Il(this._minLevelUnit))]||qx.second,i,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,i,r){var o=this.getSetting("useUTC");return function(a,s,l,u,h){var c=null;if(De(l))c=l;else if(ze(l))c=l(a.value,s,{level:a.level});else{var p=ae({},dh);if(a.level>0)for(var f=0;f<Ng.length;++f)p[Ng[f]]="{primary|"+p[Ng[f]]+"}";var g=l?!1===l.inherit?l:Ee(l,p):p,m=$x(a.value,h);if(g[m])c=g[m];else if(g.inherit){for(f=Kx.indexOf(m)-1;f>=0;--f)if(g[m]){c=g[m];break}c=c||p.none}if(ce(c)){var y=null==a.level?0:a.level>=0?a.level:c.length+a.level;c=c[y=Math.min(y,c.length-1)]}}return ph(new Date(a.value),c,h,u)}(e,i,r,this.getSetting("locale"),o)},t.prototype.getTicks=function(){var i=this._extent,r=[];if(!this._interval)return r;r.push({value:i[0],level:0});var o=this.getSetting("useUTC"),a=function(s,l,u,h){var p=Kx,f=0;function g(j,Z,q,J,te,ne,le){for(var ye=new Date(Z),ie=Z,he=ye[J]();ie<q&&ie<=h[1];)le.push({value:ie}),ye[te](he+=j),ie=ye.getTime();le.push({value:ie,notAdd:!0})}function m(j,Z,q){var J=[],te=!Z.length;if(!function(ge,we,me,Ce){var Pe=zi(we),Ye=zi(me),Ke=function(Ti){return Jx(Pe,Ti,Ce)===Jx(Ye,Ti,Ce)},At=function(){return Ke("year")},nt=function(){return At()&&Ke("month")},lt=function(){return nt()&&Ke("day")},Rt=function(){return lt()&&Ke("hour")},Vt=function(){return Rt()&&Ke("minute")},gn=function(){return Vt()&&Ke("second")};switch(ge){case"year":return At();case"month":return nt();case"day":return lt();case"hour":return Rt();case"minute":return Vt();case"second":return gn();case"millisecond":return gn()&&Ke("millisecond")}}(Il(j),h[0],h[1],u)){te&&(Z=[{value:gP(new Date(h[0]),j,u)},{value:h[1]}]);for(var ne=0;ne<Z.length-1;ne++){var le=Z[ne].value,ye=Z[ne+1].value;if(le!==ye){var ie=void 0,he=void 0,xe=void 0;switch(j){case"year":ie=Math.max(1,Math.round(l/ch/365)),he=Eg(u),xe=Ak(u);break;case"half-year":case"quarter":case"month":ie=dP(l),he=Cl(u),xe=Qx(u);break;case"week":case"half-week":case"day":ie=cP(l),he=_d(u),xe=e_(u);break;case"half-day":case"quarter-day":case"hour":ie=pP(l),he=fh(u),xe=t_(u);break;case"minute":ie=Rw(l,!0),he=bd(u),xe=n_(u);break;case"second":ie=Rw(l,!1),he=wd(u),xe=i_(u);break;case"millisecond":ie=fP(l),he=Sd(u),xe=r_(u)}g(ie,le,ye,he,xe,0,J),"year"===j&&q.length>1&&0===ne&&q.unshift({value:q[0].value-ie})}}for(ne=0;ne<J.length;ne++)q.push(J[ne]);return J}}for(var y=[],x=[],b=0,S=0,M=0;M<p.length&&f++<1e4;++M){var C=Il(p[M]);if(Dk(p[M])&&(m(p[M],y[y.length-1]||[],x),C!==(p[M+1]?Il(p[M+1]):null))){if(x.length){S=b,x.sort(function(j,Z){return j.value-Z.value});for(var T=[],D=0;D<x.length;++D){var k=x[D].value;0!==D&&x[D-1].value===k||(T.push(x[D]),k>=h[0]&&k<=h[1]&&b++)}var R=(h[1]-h[0])/l;if(b>1.5*R&&S>R/1.5||(y.push(T),b>R||s===p[M]))break}x=[]}}var N=dt(oe(y,function(j){return dt(j,function(Z){return Z.value>=h[0]&&Z.value<=h[1]&&!Z.notAdd})}),function(j){return j.length>0}),E=[],B=N.length-1;for(M=0;M<N.length;++M)for(var G=N[M],H=0;H<G.length;++H)E.push({value:G[H].value,level:B-M});E.sort(function(j,Z){return j.value-Z.value});var Y=[];for(M=0;M<E.length;++M)0!==M&&E[M].value===E[M-1].value||Y.push(E[M]);return Y}(this._minLevelUnit,this._approxInterval,o,i);return(r=r.concat(a)).push({value:i[1],level:0}),r},t.prototype.calcNiceExtent=function(e){var i=this._extent;if(i[0]===i[1]&&(i[0]-=ch,i[1]+=ch),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-ch}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,i,r){var o=this._extent;this._approxInterval=(o[1]-o[0])/(e=e||10),null!=i&&this._approxInterval<i&&(this._approxInterval=i),null!=r&&this._approxInterval>r&&(this._approxInterval=r);var s=rp.length,l=Math.min(function(u,h,c,p){for(;c<p;){var f=c+p>>>1;u[f][1]<h?c=f+1:p=f}return c}(rp,this._approxInterval,0,s),s-1);this._interval=rp[l][1],this._minLevelUnit=rp[Math.max(l-1,0)][0]},t.prototype.parse=function(e){return ot(e)?e:+zi(e)},t.prototype.contain=function(e){return ep(this.parse(e),this._extent)},t.prototype.normalize=function(e){return tp(this.parse(e),this._extent)},t.prototype.scale=function(e){return np(e,this._extent)},t.type="time",t}(Po),rp=[["second",1e3],["minute",6e4],["hour",36e5],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",Zx/2],["year",Zx]];function cP(n,t){return(n/=ch)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function dP(n){return(n/=2592e6)>6?6:n>3?3:n>2?2:1}function pP(n){return(n/=36e5)>12?12:n>6?6:n>3.5?4:n>2?2:1}function Rw(n,t){return(n/=t?6e4:1e3)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function fP(n){return Ef(n,!0)}function gP(n,t,e){var i=new Date(n);switch(Il(t)){case"year":case"month":i[Qx(e)](0);case"day":i[e_(e)](1);case"hour":i[t_(e)](0);case"minute":i[n_(e)](0);case"second":i[i_(e)](0),i[r_(e)](0)}return i.getTime()}to.registerClass(jm);var Nw=to.prototype,Nh=Po.prototype,mP=an,vP=Math.floor,yP=Math.ceil,op=Math.pow,ar=Math.log,Zm=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Po,e._interval=0,e}return Q(t,n),t.prototype.getTicks=function(e){var r=this._extent,o=this._originalScale.getExtent();return oe(Nh.getTicks.call(this,e),function(a){var s=a.value,l=an(op(this.base,s));return l=s===r[0]&&this._fixMin?ap(l,o[0]):l,{value:l=s===r[1]&&this._fixMax?ap(l,o[1]):l}},this)},t.prototype.setExtent=function(e,i){var r=this.base;e=ar(e)/ar(r),i=ar(i)/ar(r),Nh.setExtent.call(this,e,i)},t.prototype.getExtent=function(){var e=this.base,i=Nw.getExtent.call(this);i[0]=op(e,i[0]),i[1]=op(e,i[1]);var r=this._originalScale.getExtent();return this._fixMin&&(i[0]=ap(i[0],r[0])),this._fixMax&&(i[1]=ap(i[1],r[1])),i},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var i=this.base;e[0]=ar(e[0])/ar(i),e[1]=ar(e[1])/ar(i),Nw.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,i){this.unionExtent(e.getApproximateExtent(i))},t.prototype.calcNiceTicks=function(e){e=e||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var o=r1(r);for(e/r*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var a=[an(yP(i[0]/o)*o),an(vP(i[1]/o)*o)];this._interval=o,this._niceExtent=a}},t.prototype.calcNiceExtent=function(e){Nh.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return ep(e=ar(e)/ar(this.base),this._extent)},t.prototype.normalize=function(e){return tp(e=ar(e)/ar(this.base),this._extent)},t.prototype.scale=function(e){return e=np(e,this._extent),op(this.base,e)},t.type="log",t}(to),Ew=Zm.prototype;function ap(n,t){return mP(n,Cr(t))}Ew.getMinorTicks=Nh.getMinorTicks,Ew.getLabel=Nh.getLabel,to.registerClass(Zm);var xP=function(){function n(t,e,i){this._prepareParams(t,e,i)}return n.prototype._prepareParams=function(t,e,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var o=this._modelMinRaw=e.get("min",!0);ze(o)?this._modelMinNum=sp(t,o({min:i[0],max:i[1]})):"dataMin"!==o&&(this._modelMinNum=sp(t,o));var a=this._modelMaxRaw=e.get("max",!0);if(ze(a)?this._modelMaxNum=sp(t,a({min:i[0],max:i[1]})):"dataMax"!==a&&(this._modelMaxNum=sp(t,a)),r)this._axisDataLen=e.getCategories().length;else{var s=e.get("boundaryGap"),l=ce(s)?s:[s||0,s||0];this._boundaryGapInner="boolean"==typeof l[0]||"boolean"==typeof l[1]?[0,0]:[Tt(l[0],1),Tt(l[1],1)]}},n.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,a=t?null:i-e||Math.abs(e),s="dataMin"===this._modelMinRaw?e:this._modelMinNum,l="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,u=null!=s,h=null!=l;null==s&&(s=t?r?0:NaN:e-o[0]*a),null==l&&(l=t?r?r-1:NaN:i+o[1]*a),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN);var c=Ie(s)||Ie(l)||t&&!r;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!h&&(l=0));var p=this._determinedMin,f=this._determinedMax;return null!=p&&(s=p,u=!0),null!=f&&(l=f,h=!0),{min:s,max:l,minFixed:u,maxFixed:h,isBlank:c}},n.prototype.modifyDataMinMax=function(t,e){this[bP[t]]=e},n.prototype.setDeterminedMinMax=function(t,e){this[_P[t]]=e},n.prototype.freeze=function(){this.frozen=!0},n}(),_P={min:"_determinedMin",max:"_determinedMax"},bP={min:"_dataMin",max:"_dataMax"};function zw(n,t,e){var i=n.rawExtentInfo;return i||(i=new xP(n,t,e),n.rawExtentInfo=i,i)}function sp(n,t){return null==t?null:Ie(t)?NaN:n.parse(t)}function Bw(n,t){var e=n.type,i=zw(n,t,n.getExtent()).calculate();n.setBlank(i.isBlank);var r=i.min,o=i.max,a=t.ecModel;if(a&&"time"===e){var s=Tw("bar",a),l=!1;if(V(s,function(c){l=l||c.getBaseAxis()===t.axis}),l){var u=Dw(s),h=function(c,p,f,g){var m=f.axis.getExtent(),y=m[1]-m[0],x=function(D,k,R){if(D&&k)return D[Xm(k)]}(g,f.axis);if(void 0===x)return{min:c,max:p};var b=1/0;V(x,function(D){b=Math.min(D.offset,b)});var S=-1/0;V(x,function(D){S=Math.max(D.offset+D.width,S)}),b=Math.abs(b),S=Math.abs(S);var M=b+S,C=p-c,T=C/(1-(b+S)/y)-C;return{min:c-=T*(b/M),max:p+=T*(S/M)}}(r,o,t,u);r=h.min,o=h.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function Ds(n,t){var e=t,i=Bw(n,e),r=i.extent,o=e.get("splitNumber");n instanceof Zm&&(n.base=e.get("logBase"));var a=n.type,s=e.get("interval"),l="interval"===a||"time"===a;n.setExtent(r[0],r[1]),n.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?e.get("minInterval"):null,maxInterval:l?e.get("maxInterval"):null}),null!=s&&n.setInterval&&n.setInterval(s)}function Eh(n,t){if(t=t||n.get("type"))switch(t){case"category":return new ip({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new jm({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(to.getClass(t)||Po)}}function zh(n){var t,e,o,i=n.getLabelModel().get("formatter"),r="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?(e=i,function(o,a){return n.scale.getFormattedLabel(o,a,e)}):De(i)?(o=i,function(a){var s=n.scale.getLabel(a);return o.replace("{value}",s??"")}):ze(i)?(t=i,function(o,a){return null!=r&&(a=o.value-r),t(qm(n,o),a,null!=o.level?{level:o.level}:null)}):function(o){return n.scale.getLabel(o)}}function qm(n,t){return"category"===n.type?n.scale.getLabel(t):t.value}function wP(n,t){var e=t*Math.PI/180,i=n.width,r=n.height,o=i*Math.abs(Math.cos(e))+Math.abs(r*Math.sin(e)),a=i*Math.abs(Math.sin(e))+Math.abs(r*Math.cos(e));return new ue(n.x,n.y,o,a)}function Km(n){return n.get("interval")??"auto"}function Vw(n){return"category"===n.type&&0===Km(n.getLabelModel())}function lp(n,t){var e={};return V(n.mapDimensionsAll(t),function(i){e[Fm(n,i)]=!0}),tt(e)}var Xl=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}(),MP=Object.freeze({__proto__:null,createList:function(n){return eo(null,n)},getLayoutRect:In,dataStack:{isDimensionStacked:Lo,enableDataStack:Sw,getStackedDimension:Fm},createScale:function(n,t){var e=t;t instanceof Ct||(e=new Ct(t));var i=Eh(e);return i.setExtent(n[0],n[1]),Ds(i,e),i},mixinAxisModelCommonMethods:function(n){Nt(n,Xl)},getECData:Ze,createTextStyle:function(n,t){return $t(n,null,null,"normal"!==(t=t||{}).state)},createDimensions:function(n,t){return Ul(n,t).dimensions},createSymbol:pn,enableHoverEmphasis:la});function Fw(n,t){return Math.abs(n-t)<1e-8}function As(n,t,e){var i=0,r=n[0];if(!r)return!1;for(var o=1;o<n.length;o++){var a=n[o];i+=Mo(r[0],r[1],a[0],a[1],t,e),r=a}var s=n[0];return Fw(r[0],s[0])&&Fw(r[1],s[1])||(i+=Mo(r[0],r[1],s[0],s[1],t,e)),0!==i}var IP=[];function $m(n,t){for(var e=0;e<n.length;e++)Zt(n[e],n[e],t)}function Ww(n,t,e,i){for(var r=0;r<n.length;r++){var o=n[r];i&&(o=i.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(yr(t,t,o),Li(e,e,o))}}var Gw=function(){function n(t){this.name=t}return n.prototype.setCenter=function(t){this._center=t},n.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},n}(),Hw=function(n,t){this.type="polygon",this.exterior=n,this.interiors=t},Uw=function(n){this.type="linestring",this.points=n},Yw=function(n){function t(e,i,r){var o=n.call(this,e)||this;return o.type="geoJSON",o.geometries=i,o._center=r&&[r[0],r[1]],o}return Q(t,n),t.prototype.calcCenter=function(){for(var e,i=this.geometries,r=0,o=0;o<i.length;o++){var a=i[o],s=a.exterior,l=s&&s.length;l>r&&(e=a,r=l)}if(e)return function(h){for(var c=0,p=0,f=0,g=h.length,m=h[g-1][0],y=h[g-1][1],x=0;x<g;x++){var b=h[x][0],S=h[x][1],M=m*S-b*y;c+=M,p+=(m+b)*M,f+=(y+S)*M,m=b,y=S}return c?[p/c/3,f/c/3,c]:[h[0][0]||0,h[0][1]||0]}(e.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(e){var i=this._rect;if(i&&!e)return i;var r=[1/0,1/0],o=[-1/0,-1/0];return V(this.geometries,function(a){"polygon"===a.type?Ww(a.exterior,r,o,e):V(a.points,function(s){Ww(s,r,o,e)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])||(r[0]=r[1]=o[0]=o[1]=0),i=new ue(r[0],r[1],o[0]-r[0],o[1]-r[1]),e||(this._rect=i),i},t.prototype.contain=function(e){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(e[0],e[1]))return!1;e:for(var o=0,a=r.length;o<a;o++){var s=r[o];if("polygon"===s.type){var u=s.interiors;if(As(s.exterior,e[0],e[1])){for(var h=0;h<(u?u.length:0);h++)if(As(u[h],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,i,r,o){var a=this.getBoundingRect(),s=a.width/a.height;r?o||(o=r/s):r=s*o;for(var l=new ue(e,i,r,o),u=a.calculateTransform(l),h=this.geometries,c=0;c<h.length;c++){var p=h[c];"polygon"===p.type?($m(p.exterior,u),V(p.interiors,function(f){$m(f,u)})):V(p.points,function(f){$m(f,u)})}(a=this._rect).copy(l),this._center=[a.x+a.width/2,a.y+a.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var i=new t(e,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},t}(Gw),CP=function(n){function t(e,i){var r=n.call(this,e)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return Q(t,n),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,i=e.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],o=na(IP),a=e;a&&!a.isGeoSVGGraphicRoot;)Ji(o,a.getLocalTransform(),o),a=a.parent;return wo(o,o),Zt(r,r,o),r},t}(Gw);function Xw(n,t,e){for(var i=0;i<n.length;i++)n[i]=jw(n[i],t[i],e)}function jw(n,t,e){for(var i=[],r=t[0],o=t[1],a=0;a<n.length;a+=2){var s=n.charCodeAt(a)-64,l=n.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,i.push([s/e,l/e])}return i}function Jm(n,t){return oe(dt((n=function(e){if(!e.UTF8Encoding)return e;var i=e,r=i.UTF8Scale;return null==r&&(r=1024),V(i.features,function(o){var a=o.geometry,s=a.encodeOffsets,l=a.coordinates;if(s)switch(a.type){case"LineString":a.coordinates=jw(l,s,r);break;case"Polygon":case"MultiLineString":Xw(l,s,r);break;case"MultiPolygon":V(l,function(u,h){return Xw(u,s[h],r)})}}),i.UTF8Encoding=!1,i}(n)).features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var i=e.properties,r=e.geometry,o=[];switch(r.type){case"Polygon":var a=r.coordinates;o.push(new Hw(a[0],a.slice(1)));break;case"MultiPolygon":V(r.coordinates,function(l){l[0]&&o.push(new Hw(l[0],l.slice(1)))});break;case"LineString":o.push(new Uw([r.coordinates]));break;case"MultiLineString":o.push(new Uw(r.coordinates))}var s=new Yw(i[t||"name"],o,i.cp);return s.properties=i,s})}var TP=Object.freeze({__proto__:null,linearMap:kt,round:an,asc:Ei,getPrecision:Cr,getPrecisionSafe:n1,getPixelPrecision:Of,getPercentWithPrecision:i1,MAX_SAFE_INTEGER:Rf,remRadian:Nf,isRadianAroundZero:Uu,parseDate:zi,quantity:r1,quantityExponent:Uc,nice:Ef,quantile:Yc,reformIntervals:zf,isNumeric:Bf,numericToNumber:jr}),DP=Object.freeze({__proto__:null,parse:zi,format:ph}),AP=Object.freeze({__proto__:null,extendShape:Tx,extendPath:Dx,makePath:sh,makeImage:wg,mergePath:Bi,resizePath:Sg,createIcon:bl,updateProps:vt,initProps:Kt,getTransform:ha,clipPointsByRect:Mg,clipRectByRect:Lx,registerShape:ir,getShapeClass:pd,Group:He,Image:zn,Text:gt,Circle:nr,Ellipse:nh,Sector:ti,Ring:ml,Polygon:ni,Polyline:ii,Rect:ht,Line:kn,BezierCurve:vl,Arc:oh,IncrementalDisplayable:Mx,CompoundPath:sd,LinearGradient:yl,RadialGradient:xg,BoundingRect:ue}),kP=Object.freeze({__proto__:null,addCommas:zg,toCamelCase:Bg,normalizeCssArray:xs,encodeHTML:Ii,formatTpl:Wg,getTooltipMarker:a_,formatTime:function(n,t,e){"week"!==n&&"month"!==n&&"quarter"!==n&&"half-year"!==n&&"year"!==n||(n="MM-dd\nyyyy");var i=zi(t),r=e?"getUTC":"get",o=i[r+"FullYear"](),a=i[r+"Month"]()+1,s=i[r+"Date"](),l=i[r+"Hours"](),u=i[r+"Minutes"](),h=i[r+"Seconds"](),c=i[r+"Milliseconds"]();return n.replace("MM",Mi(a,2)).replace("M",a).replace("yyyy",o).replace("yy",Mi(o%100+"",2)).replace("dd",Mi(s,2)).replace("d",s).replace("hh",Mi(l,2)).replace("h",l).replace("mm",Mi(u,2)).replace("m",u).replace("ss",Mi(h,2)).replace("s",h).replace("SSS",Mi(c,3))},capitalFirst:function(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)},truncateText:x1,getTextRect:function(n,t,e,i,r,o,a,s){return new gt({style:{text:n,font:t,align:e,verticalAlign:i,padding:r,rich:o,overflow:a?"truncate":null,lineHeight:s}}).getBoundingRect()}}),LP=Object.freeze({__proto__:null,map:oe,each:V,indexOf:je,inherits:Gi,reduce:_n,filter:dt,bind:F,curry:We,isArray:ce,isString:De,isObject:Oe,isFunction:ze,extend:ae,defaults:Ee,clone:Re,merge:qe}),Bh=_t();function Zw(n,t){var i,s,r=qw(n,"labels"),o=Km(t);return Kw(r,o)||$w(r,o,{labels:ze(o)?Qw(n,o):Jw(n,i="auto"===o?Bh(s=n).autoInterval??(Bh(s).autoInterval=s.calculateCategoryInterval()):o),labelCategoryInterval:i})}function qw(n,t){return Bh(n)[t]||(Bh(n)[t]=[])}function Kw(n,t){for(var e=0;e<n.length;e++)if(n[e].key===t)return n[e].value}function $w(n,t,e){return n.push({key:t,value:e}),e}function Jw(n,t,e){var i=zh(n),r=n.scale,o=r.getExtent(),a=n.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=o[0],h=r.count();0!==u&&l>1&&h/l>2&&(u=Math.round(Math.ceil(u/l)*l));var c=Vw(n),p=a.get("showMinLabel")||c,f=a.get("showMaxLabel")||c;p&&u!==o[0]&&m(o[0]);for(var g=u;g<=o[1];g+=l)m(g);function m(y){var x={value:y};s.push(e?y:{formattedLabel:i(x),rawLabel:r.getLabel(x),tickValue:y})}return f&&g-l!==o[1]&&m(o[1]),s}function Qw(n,t,e){var i=n.scale,r=zh(n),o=[];return V(i.getTicks(),function(a){var s=i.getLabel(a),l=a.value;t(a.value,s)&&o.push(e?l:{formattedLabel:r(a),rawLabel:s,tickValue:l})}),o}var eS=[0,1],sr=function(){function n(t,e,i){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=i||[0,0]}return n.prototype.contain=function(t){var e=this._extent,i=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return t>=i&&t<=r},n.prototype.containData=function(t){return this.scale.contain(t)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(t){return Of(t||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(t,e){var i=this._extent;i[0]=t,i[1]=e},n.prototype.dataToCoord=function(t,e){var i=this._extent,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&tS(i=i.slice(),r.count()),kt(t,eS,i,e)},n.prototype.coordToData=function(t,e){var i=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&tS(i=i.slice(),r.count());var o=kt(t,i,eS,e);return this.scale.scale(o)},n.prototype.pointToData=function(t,e){},n.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),i=oe(function OP(n,t){return"category"===n.type?function(e,i){var r,o,a=qw(e,"ticks"),s=Km(i),l=Kw(a,s);if(l)return l;if(i.get("show")&&!e.scale.isBlank()||(r=[]),ze(s))r=Qw(e,s,!0);else if("auto"===s){var u=Zw(e,e.getLabelModel());o=u.labelCategoryInterval,r=oe(u.labels,function(h){return h.tickValue})}else r=Jw(e,o=s,!0);return $w(a,s,{ticks:r,tickCategoryInterval:o})}(n,t):{ticks:oe(n.scale.getTicks(),function(e){return e.value})}}(this,e).ticks,function(r){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(r):r),tickValue:r}},this);return function(r,o,a,s){var l=o.length;if(r.onBand&&!a&&l){var u,h,c=r.getExtent();if(1===l)o[0].coord=c[0],u=o[1]={coord:c[0]};else{var f=(o[l-1].coord-o[0].coord)/(o[l-1].tickValue-o[0].tickValue);V(o,function(y){y.coord-=f/2}),h=1+r.scale.getExtent()[1]-o[l-1].tickValue,o.push(u={coord:o[l-1].coord+f*h})}var g=c[0]>c[1];m(o[0].coord,c[0])&&(s?o[0].coord=c[0]:o.shift()),s&&m(c[0],o[0].coord)&&o.unshift({coord:c[0]}),m(c[1],u.coord)&&(s?u.coord=c[1]:o.pop()),s&&m(u.coord,c[1])&&o.push({coord:c[1]})}function m(y,x){return y=an(y),x=an(x),g?y>x:y<x}}(this,i,e.get("alignWithLabel"),t.clamp),i},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),oe(this.scale.getMinorTicks(t),function(e){return oe(e,function(i){return{coord:this.dataToCoord(i),tickValue:i}},this)},this)},n.prototype.getViewLabels=function(){return function PP(n){return"category"===n.type?function(t){var e=t.getLabelModel(),i=Zw(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(n):function(t){var e=t.scale.getTicks(),i=zh(t);return{labels:oe(e,function(r,o){return{level:r.level,formattedLabel:i(r,o),rawLabel:t.scale.getLabel(r),tickValue:r.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/i},n.prototype.calculateCategoryInterval=function(){return function(t){var R,N,e=(N=(R=t).getLabelModel(),{axisRotate:R.getRotate?R.getRotate():R.isHorizontal&&!R.isHorizontal()?90:0,labelRotate:N.get("rotate")||0,font:N.getFont()}),i=zh(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,a=o.getExtent(),s=o.count();if(a[1]-a[0]<1)return 0;var l=1;s>40&&(l=Math.max(1,Math.floor(s/40)));for(var u=a[0],h=t.dataToCoord(u+1)-t.dataToCoord(u),c=Math.abs(h*Math.cos(r)),p=Math.abs(h*Math.sin(r)),f=0,g=0;u<=a[1];u+=l){var y,x=Be(i({value:u}),e.font,"center","top");y=1.3*x.height,f=Math.max(f,1.3*x.width,7),g=Math.max(g,y,7)}var b=f/c,S=g/p;isNaN(b)&&(b=1/0),isNaN(S)&&(S=1/0);var M=Math.max(0,Math.floor(Math.min(b,S))),C=Bh(t.model),T=t.getExtent(),D=C.lastAutoInterval,k=C.lastTickCount;return null!=D&&null!=k&&Math.abs(D-M)<=1&&Math.abs(k-s)<=1&&D>M&&C.axisExtent0===T[0]&&C.axisExtent1===T[1]?M=D:(C.lastTickCount=s,C.lastAutoInterval=M,C.axisExtent0=T[0],C.axisExtent1=T[1]),M}(this)},n}();function tS(n,t){var e=(n[1]-n[0])/t/2;n[0]+=e,n[1]-=e}var Vh=2*Math.PI,ks=Jr.CMD,RP=["top","right","bottom","left"];function NP(n,t,e,i,r){var o=e.width,a=e.height;switch(n){case"top":i.set(e.x+o/2,e.y-t),r.set(0,-1);break;case"bottom":i.set(e.x+o/2,e.y+a+t),r.set(0,1);break;case"left":i.set(e.x-t,e.y+a/2),r.set(-1,0);break;case"right":i.set(e.x+o+t,e.y+a/2),r.set(1,0)}}function EP(n,t,e,i,r,o,a,s,l){a-=n,s-=t;var u=Math.sqrt(a*a+s*s),h=(a/=u)*e+n,c=(s/=u)*e+t;if(Math.abs(i-r)%Vh<1e-4)return l[0]=h,l[1]=c,u-e;if(o){var p=i;i=aa(r),r=aa(p)}else i=aa(i),r=aa(r);i>r&&(r+=Vh);var f=Math.atan2(s,a);if(f<0&&(f+=Vh),f>=i&&f<=r||f+Vh>=i&&f+Vh<=r)return l[0]=h,l[1]=c,u-e;var g=e*Math.cos(i)+n,m=e*Math.sin(i)+t,y=e*Math.cos(r)+n,x=e*Math.sin(r)+t,b=(g-a)*(g-a)+(m-s)*(m-s),S=(y-a)*(y-a)+(x-s)*(x-s);return b<S?(l[0]=g,l[1]=m,Math.sqrt(b)):(l[0]=y,l[1]=x,Math.sqrt(S))}function up(n,t,e,i,r,o,a,s){var l=r-n,u=o-t,h=e-n,c=i-t,p=Math.sqrt(h*h+c*c),f=(l*(h/=p)+u*(c/=p))/p;s&&(f=Math.min(Math.max(f,0),1));var g=a[0]=n+(f*=p)*h,m=a[1]=t+f*c;return Math.sqrt((g-r)*(g-r)+(m-o)*(m-o))}function nS(n,t,e,i,r,o,a){e<0&&(n+=e,e=-e),i<0&&(t+=i,i=-i);var s=n+e,l=t+i,u=a[0]=Math.min(Math.max(r,n),s),h=a[1]=Math.min(Math.max(o,t),l);return Math.sqrt((u-r)*(u-r)+(h-o)*(h-o))}var Rr=[];function zP(n,t,e){var i=nS(t.x,t.y,t.width,t.height,n.x,n.y,Rr);return e.set(Rr[0],Rr[1]),i}function BP(n,t,e){for(var i,r,o=0,a=0,s=0,l=0,u=1/0,h=t.data,c=n.x,p=n.y,f=0;f<h.length;){var g=h[f++];1===f&&(s=o=h[f],l=a=h[f+1]);var m=u;switch(g){case ks.M:o=s=h[f++],a=l=h[f++];break;case ks.L:m=up(o,a,h[f],h[f+1],c,p,Rr,!0),o=h[f++],a=h[f++];break;case ks.C:m=Tu(o,a,h[f++],h[f++],h[f++],h[f++],h[f],h[f+1],c,p,Rr),o=h[f++],a=h[f++];break;case ks.Q:m=br(o,a,h[f++],h[f++],h[f],h[f+1],c,p,Rr),o=h[f++],a=h[f++];break;case ks.A:var y=h[f++],x=h[f++],b=h[f++],S=h[f++],M=h[f++],C=h[f++];f+=1;var T=!!(1-h[f++]);i=Math.cos(M)*b+y,r=Math.sin(M)*S+x,f<=1&&(s=i,l=r),m=EP(y,x,S,M,M+C,T,(c-y)*S/b+y,p,Rr),o=Math.cos(M+C)*b+y,a=Math.sin(M+C)*S+x;break;case ks.R:m=nS(s=o=h[f++],l=a=h[f++],h[f++],h[f++],c,p,Rr);break;case ks.Z:m=up(o,a,s,l,c,p,Rr,!0),o=s,a=l}m<u&&(u=m,e.set(Rr[0],Rr[1]))}return u}var Nr=new X,Xt=new X,fn=new X,io=new X,ro=new X;function iS(n,t){if(n){var e=n.getTextGuideLine(),i=n.getTextContent();if(i&&e){var r=n.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||RP,s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=1/0,u=r.anchor,h=n.getComputedTransform(),c=h&&wo([],h),p=t.get("length2")||0;u&&fn.copy(u);for(var f=0;f<a.length;f++){NP(a[f],0,s,Nr,io),X.scaleAndAdd(Xt,Nr,io,p),Xt.transform(c);var g=n.getBoundingRect(),m=u?u.distance(Xt):n instanceof at?BP(Xt,n.path,fn):zP(Xt,g,fn);m<l&&(l=m,Xt.transform(h),fn.transform(h),fn.toArray(o[0]),Xt.toArray(o[1]),Nr.toArray(o[2]))}rS(o,t.get("minTurnAngle")),e.setShape({points:o})}}}var hp=[],mi=new X;function rS(n,t){if(t<=180&&t>0){t=t/180*Math.PI,Nr.fromArray(n[0]),Xt.fromArray(n[1]),fn.fromArray(n[2]),X.sub(io,Nr,Xt),X.sub(ro,fn,Xt);var e=io.len(),i=ro.len();if(!(e<.001||i<.001)){io.scale(1/e),ro.scale(1/i);var r=io.dot(ro);if(Math.cos(t)<r){var o=up(Xt.x,Xt.y,fn.x,fn.y,Nr.x,Nr.y,hp,!1);mi.fromArray(hp),mi.scaleAndAdd(ro,o/Math.tan(Math.PI-t));var a=fn.x!==Xt.x?(mi.x-Xt.x)/(fn.x-Xt.x):(mi.y-Xt.y)/(fn.y-Xt.y);if(isNaN(a))return;a<0?X.copy(mi,Xt):a>1&&X.copy(mi,fn),mi.toArray(n[1])}}}}function VP(n,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Nr.fromArray(n[0]),Xt.fromArray(n[1]),fn.fromArray(n[2]),X.sub(io,Xt,Nr),X.sub(ro,fn,Xt);var i=io.len(),r=ro.len();if(!(i<.001||r<.001)&&(io.scale(1/i),ro.scale(1/r),io.dot(t)<Math.cos(e))){var o=up(Xt.x,Xt.y,fn.x,fn.y,Nr.x,Nr.y,hp,!1);mi.fromArray(hp);var a=Math.PI/2,s=a+Math.acos(ro.dot(t))-e;if(s>=a)X.copy(mi,fn);else{mi.scaleAndAdd(ro,o/Math.tan(Math.PI/2-s));var l=fn.x!==Xt.x?(mi.x-Xt.x)/(fn.x-Xt.x):(mi.y-Xt.y)/(fn.y-Xt.y);if(isNaN(l))return;l<0?X.copy(mi,Xt):l>1&&X.copy(mi,fn)}mi.toArray(n[1])}}}function oS(n,t,e,i){var r="normal"===e,o=r?n:n.ensureState(e);o.ignore=t;var a=i.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=i.getModel("lineStyle").getLineStyle();r?n.useStyle(s):o.style=s}function FP(n,t){var e=t.smooth,i=t.points;if(i)if(n.moveTo(i[0][0],i[0][1]),e>0&&i.length>=3){var r=Pn(i[0],i[1]),o=Pn(i[1],i[2]);if(!r||!o)return n.lineTo(i[1][0],i[1][1]),void n.lineTo(i[2][0],i[2][1]);var a=Math.min(r,o)*e,s=Na([],i[1],i[0],a/r),l=Na([],i[1],i[2],a/o),u=Na([],s,l,.5);n.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var h=1;h<i.length;h++)n.lineTo(i[h][0],i[h][1])}function Qm(n,t,e){var i=n.getTextGuideLine(),r=n.getTextContent();if(r){for(var o=t.normal,a=o.get("show"),s=r.ignore,l=0;l<$u.length;l++){var u=$u[l],h=t[u],c="normal"===u;if(h){var p=h.get("show");if((c?s:pe(r.states[u]&&r.states[u].ignore,s))||!pe(p,a)){var f=c?i:i&&i.states[u];f&&(f.ignore=!0);continue}i||(i=new ii,n.setTextGuideLine(i),c||!s&&a||oS(i,!0,"normal",t.normal),n.stateProxy&&(i.stateProxy=n.stateProxy)),oS(i,!1,u,h)}}if(i){Ee(i.style,e),i.style.fill=null;var g=o.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=g||!1,i.buildPath=FP}}else i&&n.removeTextGuideLine()}function ev(n,t){for(var e={normal:n.getModel(t=t||"labelLine")},i=0;i<fi.length;i++){var r=fi[i];e[r]=n.getModel([r,t])}return e}function aS(n){for(var t=[],e=0;e<n.length;e++){var i=n[e];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),a=r.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,u=a.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var h=s?new hd(a,o):null;t.push({label:r,labelLine:i.labelLine,rect:u,localRect:a,obb:h,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:s,transform:o})}}return t}function sS(n,t,e,i,r,o){var a=n.length;if(!(a<2)){n.sort(function(D,k){return D.rect[t]-k.rect[t]});for(var s,l=0,u=!1,h=0,c=0;c<a;c++){var p=n[c],f=p.rect;(s=f[t]-l)<0&&(f[t]-=s,p.label[t]-=s,u=!0),h+=Math.max(-s,0),l=f[t]+f[e]}h>0&&o&&M(-h/a,0,a);var g,m,y=n[0],x=n[a-1];return b(),g<0&&C(-g,.8),m<0&&C(m,.8),b(),S(g,m,1),S(m,g,-1),b(),g<0&&T(-g),m<0&&T(m),u}function b(){g=y.rect[t]-i,m=r-x.rect[t]-x.rect[e]}function S(D,k,R){if(D<0){var N=Math.min(k,-D);if(N>0){M(N*R,0,a);var E=N+D;E<0&&C(-E*R,1)}else C(-D*R,1)}}function M(D,k,R){0!==D&&(u=!0);for(var N=k;N<R;N++){var E=n[N];E.rect[t]+=D,E.label[t]+=D}}function C(D,k){for(var R=[],N=0,E=1;E<a;E++){var B=n[E-1].rect,G=Math.max(n[E].rect[t]-B[t]-B[e],0);R.push(G),N+=G}if(N){var H=Math.min(Math.abs(D)/N,k);if(D>0)for(E=0;E<a-1;E++)M(R[E]*H,0,E+1);else for(E=a-1;E>0;E--)M(-R[E-1]*H,E,a)}}function T(D){var k=D<0?-1:1;D=Math.abs(D);for(var R=Math.ceil(D/(a-1)),N=0;N<a-1;N++)if(k>0?M(R,0,N+1):M(-R,a-N-1,a),(D-=R)<=0)return}}function lS(n,t,e,i){return sS(n,"y","height",t,e,i)}function uS(n){var t=[];n.sort(function(m,y){return y.priority-m.priority});var e=new ue(0,0,0,0);function i(m){if(!m.ignore){var y=m.ensureState("emphasis");null==y.ignore&&(y.ignore=!1)}m.ignore=!0}for(var r=0;r<n.length;r++){var o=n[r],a=o.axisAligned,s=o.localRect,l=o.transform,u=o.label,h=o.labelLine;e.copy(o.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var c=o.obb,p=!1,f=0;f<t.length;f++){var g=t[f];if(e.intersect(g.rect)){if(a&&g.axisAligned){p=!0;break}if(g.obb||(g.obb=new hd(g.localRect,g.transform)),c||(c=new hd(s,l)),c.intersect(g.obb)){p=!0;break}}}p?(i(u),h&&i(h)):(u.attr("ignore",o.defaultAttr.ignore),h&&h.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}function WP(n){if(n){for(var t=[],e=0;e<n.length;e++)t.push(n[e].slice());return t}}function GP(n,t){var e=n.label,i=t&&t.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:WP(i&&i.shape.points)}}var hS=["align","verticalAlign","width","height","fontSize"],Vi=new z,tv=_t(),HP=_t();function cp(n,t,e){for(var i=0;i<e.length;i++){var r=e[i];null!=t[r]&&(n[r]=t[r])}}var dp=["x","y","rotation"],UP=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(t,e,i,r,o){var a=r.style,s=r.__hostTarget.textConfig||{},l=r.getComputedTransform(),u=r.getBoundingRect().plain();ue.applyTransform(u,u,l),l?Vi.setLocalTransform(l):(Vi.x=Vi.y=Vi.rotation=Vi.originX=Vi.originY=0,Vi.scaleX=Vi.scaleY=1);var h,c=r.__hostTarget;if(c){h=c.getBoundingRect().plain();var p=c.getComputedTransform();ue.applyTransform(h,h,p)}var f=h&&c.getTextGuideLine();this._labelList.push({label:r,labelLine:f,seriesModel:i,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:u,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:f&&f.ignore,x:Vi.x,y:Vi.y,scaleX:Vi.scaleX,scaleY:Vi.scaleY,rotation:Vi.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:s.position,attachedRot:s.rotation}})},n.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var i=t.__model,r=i.get("labelLayout");(ze(r)||tt(r).length)&&t.group.traverse(function(o){if(o.ignore)return!0;var a=o.getTextContent(),s=Ze(o);a&&!a.disableLabelLayout&&e._addLabel(s.dataIndex,s.dataType,i,a,r)})},n.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),i=t.getHeight();function r(x,b){return function(){iS(x,b)}}for(var o=0;o<this._labelList.length;o++){var a=this._labelList[o],s=a.label,l=s.__hostTarget,u=a.defaultAttr,h=void 0;h=(h=ze(a.layoutOption)?a.layoutOption(GP(a,l)):a.layoutOption)||{},a.computedLayoutOption=h;var c=Math.PI/180;l&&l.setTextConfig({local:!1,position:null!=h.x||null!=h.y?null:u.attachedPos,rotation:null!=h.rotate?h.rotate*c:u.attachedRot,offset:[h.dx||0,h.dy||0]});var p=!1;if(null!=h.x?(s.x=Te(h.x,e),s.setStyle("x",0),p=!0):(s.x=u.x,s.setStyle("x",u.style.x)),null!=h.y?(s.y=Te(h.y,i),s.setStyle("y",0),p=!0):(s.y=u.y,s.setStyle("y",u.style.y)),h.labelLinePoints){var f=l.getTextGuideLine();f&&(f.setShape({points:h.labelLinePoints}),p=!1)}tv(s).needsUpdateLabelLine=p,s.rotation=null!=h.rotate?h.rotate*c:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var g=0;g<hS.length;g++){var m=hS[g];s.setStyle(m,null!=h[m]?h[m]:u.style[m])}if(h.draggable){if(s.draggable=!0,s.cursor="move",l){var y=a.seriesModel;null!=a.dataIndex&&(y=a.seriesModel.getData(a.dataType).getItemModel(a.dataIndex)),s.on("drag",r(l,y.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},n.prototype.layout=function(t){var i=t.getWidth(),r=t.getHeight(),o=aS(this._labelList),a=dt(o,function(l){return"shiftX"===l.layoutOption.moveOverlap}),s=dt(o,function(l){return"shiftY"===l.layoutOption.moveOverlap});sS(a,"x","width",0,i,void 0),lS(s,0,r),uS(dt(o,function(l){return l.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var t=this;V(this._chartViewList,function(e){var i=e.__model,r=e.ignoreLabelLineUpdate,o=i.isAnimationEnabled();e.group.traverse(function(a){if(a.ignore&&!a.forceLabelAnimation)return!0;var s=!r,l=a.getTextContent();!s&&l&&(s=tv(l).needsUpdateLabelLine),s&&t._updateLabelLine(a,i),o&&t._animateLabels(a,i)})})},n.prototype._updateLabelLine=function(t,e){var i=t.getTextContent(),r=Ze(t),o=r.dataIndex;if(i&&null!=o){var a=e.getData(r.dataType),s=a.getItemModel(o),l={},u=a.getItemVisual(o,"style"),h=a.getVisual("drawType");l.stroke=u[h];var c=s.getModel("labelLine");Qm(t,ev(s),l),iS(t,c)}},n.prototype._animateLabels=function(t,e){var i=t.getTextContent(),r=t.getTextGuideLine();if(i&&(t.forceLabelAnimation||!i.ignore&&!i.invisible&&!t.disableLabelAnimation&&!_l(t))){var o=(g=tv(i)).oldLayout,a=Ze(t),s=a.dataIndex,l={x:i.x,y:i.y,rotation:i.rotation},u=e.getData(a.dataType);if(o){i.attr(o);var h=t.prevStates;h&&(je(h,"select")>=0&&i.attr(g.oldLayoutSelect),je(h,"emphasis")>=0&&i.attr(g.oldLayoutEmphasis)),vt(i,l,e,s)}else if(i.attr(l),!Sl(i).valueAnimation){var c=pe(i.style.opacity,1);i.style.opacity=0,Kt(i,{style:{opacity:c}},e,s)}if(g.oldLayout=l,i.states.select){var p=g.oldLayoutSelect={};cp(p,l,dp),cp(p,i.states.select,dp)}if(i.states.emphasis){var f=g.oldLayoutEmphasis={};cp(f,l,dp),cp(f,i.states.emphasis,dp)}Wx(i,s,u,e,e)}if(r&&!r.ignore&&!r.invisible){o=(g=HP(r)).oldLayout;var g,m={points:r.shape.points};o?(r.attr({shape:o}),vt(r,{shape:m},e)):(r.setShape(m),r.style.strokePercent=0,Kt(r,{style:{strokePercent:1}},e)),g.oldLayout=m}},n}(),nv=_t(),iv=Math.sin,rv=Math.cos,cS=Math.PI,Ls=2*Math.PI,YP=180/cS,dS=function(){function n(){}return n.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},n.prototype.moveTo=function(t,e){this._add("M",t,e)},n.prototype.lineTo=function(t,e){this._add("L",t,e)},n.prototype.bezierCurveTo=function(t,e,i,r,o,a){this._add("C",t,e,i,r,o,a)},n.prototype.quadraticCurveTo=function(t,e,i,r){this._add("Q",t,e,i,r)},n.prototype.arc=function(t,e,i,r,o,a){this.ellipse(t,e,i,i,0,r,o,a)},n.prototype.ellipse=function(t,e,i,r,o,a,s,l){var g,u=s-a,h=!l,c=Math.abs(u),p=Mr(c-Ls)||(h?u>=Ls:-u>=Ls),f=u>0?u%Ls:u%Ls+Ls;g=!!p||!Mr(c)&&f>=cS==!!h;var m=t+i*rv(a),y=e+r*iv(a);this._start&&this._add("M",m,y);var x=Math.round(o*YP);if(p){var b=1/this._p,S=(h?1:-1)*(Ls-b);this._add("A",i,r,x,1,+h,t+i*rv(a+S),e+r*iv(a+S)),b>.01&&this._add("A",i,r,x,0,+h,m,y)}else{var M=t+i*rv(s),C=e+r*iv(s);this._add("A",i,r,x,+g,+h,M,C)}},n.prototype.rect=function(t,e,i,r){this._add("M",t,e),this._add("l",i,0),this._add("l",0,r),this._add("l",-i,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(t,e,i,r,o,a,s,l,u){for(var h=[],c=this._p,p=1;p<arguments.length;p++){var f=arguments[p];if(isNaN(f))return void(this._invalid=!0);h.push(Math.round(f*c)/c)}this._d.push(t+h.join(" ")),this._start="Z"===t},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}(),Fh="none",XP=Math.round,ov=["lineCap","miterLimit","lineJoin"],jP=oe(ov,function(n){return"stroke-"+n.toLowerCase()}),pS="http://www.w3.org/2000/svg",fS="http://www.w3.org/1999/xlink";function gS(n){return document.createElementNS(pS,n)}function Vn(n,t,e,i,r){return{tag:n,attrs:e||{},children:i,text:r,key:t}}function av(n,t){var e=(t=t||{}).newline?"\n":"";return function i(r){var o=r.children,a=r.tag;return function(s,l){var u=[];if(l)for(var h in l){var c=l[h],p=h;!1!==c&&(!0!==c&&null!=c&&(p+='="'+c+'"'),u.push(p))}return"<"+s+" "+u.join(" ")+">"}(a,r.attrs)+(r.text||"")+(o?""+e+oe(o,function(s){return i(s)}).join(e)+e:"")+"</"+a+">"}(n)}function sv(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function mS(n,t,e,i){return Vn("svg","root",{width:n,height:t,xmlns:pS,"xmlns:xlink":fS,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+n+" "+t},e)}var vS={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Ps="transform-origin";function qP(n,t,e){var i=ae({},n.shape);ae(i,t),n.buildPath(e,i);var r=new dS;return r.reset(Nc(n)),e.rebuildPath(r,1),r.generateStr(),r.getStr()}function KP(n,t){var e=t.originX,i=t.originY;(e||i)&&(n[Ps]=e+"px "+i+"px")}var $P={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function yS(n,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=n,e}function xS(n){return De(n)?vS[n]?"cubic-bezier("+vS[n]+")":Xo(n)?n:"":""}function pp(n,t,e,i){var r=n.animators,o=r.length,a=[];if(n instanceof sd){if(y=function(b,S,M){var C,T,k={};if(V(b.shape.paths,function(N){var E=sv(M.zrId);E.animation=!0,pp(N,{},E,!0);var B=E.cssAnims,G=E.cssNodes,H=tt(B),Y=H.length;if(Y){var j=B[T=H[Y-1]];for(var Z in j){var q=j[Z];k[Z]=k[Z]||{d:""},k[Z].d+=q.d||""}for(var J in G){var te=G[J].animation;te.indexOf(T)>=0&&(C=te)}}}),C){S.d=!1;var R=yS(k,M);return C.replace(T,R)}}(n,t,e))a.push(y);else if(!o)return}else if(!o)return;for(var s={},l=0;l<o;l++){var u=r[l],h=[u.getMaxTime()/1e3+"s"],c=xS(u.getClip().easing),p=u.getDelay();h.push(c||"linear"),p&&h.push(p/1e3+"s"),u.getLoop()&&h.push("infinite");var f=h.join(" ");s[f]=s[f]||[f,[]],s[f][1].push(u)}function g(b){var S,M=b[1],C=M.length,T={},D={},k={};function R(xe,be,ge){for(var we=xe.getTracks(),me=xe.getMaxTime(),Ce=0;Ce<we.length;Ce++){var Pe=we[Ce];if(Pe.needsAnimate()){var Ye=Pe.keyframes,Ke=Pe.propName;if(ge&&(Ke=ge(Ke)),Ke)for(var At=0;At<Ye.length;At++){var nt=Ye[At],lt=Math.round(nt.time/me*100)+"%",Rt=xS(nt.easing),Vt=nt.rawValue;(De(Vt)||ot(Vt))&&(be[lt]=be[lt]||{},be[lt][Ke]=nt.rawValue,Rt&&(be[lt]["animation-timing-function"]=Rt))}}}}for(var N=0;N<C;N++)(te=(J=M[N]).targetName)?"shape"===te&&R(J,D):!i&&R(J,T);for(var E in T){var B={};U(B,n),ae(B,T[E]);var G=Ec(B),H=T[E]["animation-timing-function"];k[E]=G?{transform:G}:{},KP(k[E],B),H&&(k[E]["animation-timing-function"]=H)}var Y=!0;for(var E in D){k[E]=k[E]||{};var j=!S;H=D[E]["animation-timing-function"],j&&(S=new Jr);var Z=S.len();S.reset(),k[E].d=qP(n,D[E],S);var q=S.len();if(!j&&Z!==q){Y=!1;break}H&&(k[E]["animation-timing-function"]=H)}if(!Y)for(var E in k)delete k[E].d;if(!i)for(N=0;N<C;N++){var J,te;"style"===(te=(J=M[N]).targetName)&&R(J,k,function(xe){return $P[xe]})}var ne,le=tt(k),ye=!0;for(N=1;N<le.length;N++){var ie=le[N-1];if(k[ie][Ps]!==k[le[N]][Ps]){ye=!1;break}ne=k[ie][Ps]}if(ye&&ne){for(var E in k)k[E][Ps]&&delete k[E][Ps];t[Ps]=ne}if(dt(le,function(xe){return tt(k[xe]).length>0}).length)return yS(k,e)+" "+b[0]+" both"}for(var m in s){var y;(y=g(s[m]))&&a.push(y)}if(a.length){var x=e.zrId+"-cls-"+e.cssClassIdx++;e.cssNodes["."+x]={animation:a.join(",")},t.class=x}}var Wh=Math.round;function _S(n){return n&&De(n.src)}function bS(n){return n&&ze(n.toDataURL)}function lv(n,t,e,i){(function ZP(n,t,e,i){var S,r=t.opacity??1;if(e instanceof zn)n("opacity",r);else{if(null!=(S=t.fill)&&S!==Fh){var o=$o(t.fill);n("fill",o.color);var a=null!=t.fillOpacity?t.fillOpacity*o.opacity*r:o.opacity*r;(i||a<1)&&n("fill-opacity",a)}else n("fill",Fh);if(function(b){var S=b.stroke;return null!=S&&S!==Fh}(t)){var s=$o(t.stroke);n("stroke",s.color);var l=t.strokeNoScale?e.getLineScale():1,u=l?(t.lineWidth||0)/l:0,h=null!=t.strokeOpacity?t.strokeOpacity*s.opacity*r:s.opacity*r,c=t.strokeFirst;if((i||1!==u)&&n("stroke-width",u),(i||c)&&n("paint-order",c?"stroke":"fill"),(i||h<1)&&n("stroke-opacity",h),t.lineDash){var p=gm(e),f=p[0],g=p[1];f&&(g=XP(g||0),n("stroke-dasharray",f.join(",")),(g||i)&&n("stroke-dashoffset",g))}else i&&n("stroke-dasharray",Fh);for(var m=0;m<ov.length;m++){var y=ov[m];if(i||t[y]!==Qc[y]){var x=t[y]||Qc[y];x&&n(jP[m],x)}}}else i&&n("stroke",Fh)}})(function(r,o){var s,a="fill"===r||"stroke"===r;a&&(s=o)&&("linear"===s.type||"radial"===s.type)?function(s,l,u,h){var c,p=s[u],f={gradientUnits:p.global?"userSpaceOnUse":"objectBoundingBox"};if(Rc(p))c="linearGradient",f.x1=p.x,f.y1=p.y,f.x2=p.x2,f.y2=p.y2;else{if(!al(p))return;c="radialGradient",f.cx=pe(p.x,.5),f.cy=pe(p.y,.5),f.r=pe(p.r,.5)}for(var g=p.colorStops,m=[],y=0,x=g.length;y<x;++y){var b=100*Jo(g[y].offset)+"%",S=$o(g[y].color),C=S.opacity,T={offset:b};T["stop-color"]=S.color,C<1&&(T["stop-opacity"]=C),m.push(Vn("stop",y+"",T))}var D=av(Vn(c,"",f,m)),k=h.gradientCache,R=k[D];R||(R=h.zrId+"-g"+h.gradientIdx++,k[D]=R,f.id=R,h.defs[R]=Vn(c,R,f,m)),l[u]=Ka(R)}(t,n,r,i):a&&function(s){return Ru(s)||(l=s)&&!!l.svgElement;var l}(o)?function(s,l,u,h){var c,p=s.style[u],f={patternUnits:"userSpaceOnUse"};if(Ru(p)){var g=p.imageWidth,m=p.imageHeight,y=void 0,x=p.image;if(De(x)?y=x:_S(x)?y=x.src:bS(x)&&(y=x.toDataURL()),typeof Image>"u"){var b="Image width/height must been given explictly in svg-ssr renderer.";mt(g,b),mt(m,b)}else if(null==g||null==m){var S=function(R,N){if(R){var E=R.elm,B=R.attrs.width=g||N.width,G=R.attrs.height=m||N.height;E&&(E.setAttribute("width",B),E.setAttribute("height",G))}},M=Uf(y,null,s,function(R){S(C,R),S(c,R)});M&&M.width&&M.height&&(g=g||M.width,m=m||M.height)}c=Vn("image","img",{href:y,width:g,height:m}),f.width=g,f.height=m}else p.svgElement&&(c=Re(p.svgElement),f.width=p.svgWidth,f.height=p.svgHeight);if(c){f.patternTransform=Ec(p);var C=Vn("pattern","",f,[c]),T=av(C),D=h.patternCache,k=D[T];k||(k=h.zrId+"-p"+h.patternIdx++,D[T]=k,f.id=k,C=h.defs[k]=Vn("pattern",k,f,[c])),l[u]=Ka(k)}}(e,n,r,i):n[r]=o},t,e,!1),function(r,o,a){var C,s=r.style;if((C=s)&&(C.shadowBlur||C.shadowOffsetX||C.shadowOffsetY)){var l=function(C){var T=C.style,D=C.getGlobalScale();return[T.shadowColor,(T.shadowBlur||0).toFixed(2),(T.shadowOffsetX||0).toFixed(2),(T.shadowOffsetY||0).toFixed(2),D[0],D[1]].join(",")}(r),u=a.shadowCache,h=u[l];if(!h){var c=r.getGlobalScale(),p=c[0],f=c[1];if(!p||!f)return;var g=s.shadowOffsetX||0,m=s.shadowOffsetY||0,y=s.shadowBlur,x=$o(s.shadowColor),b=x.opacity,S=x.color,M=y/2/p+" "+y/2/f;h=a.zrId+"-s"+a.shadowIdx++,a.defs[h]=Vn("filter",h,{id:h,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Vn("feDropShadow","",{dx:g/p,dy:m/f,stdDeviation:M,"flood-color":S,"flood-opacity":b})]),u[l]=h}o.filter=Ka(h)}}(e,n,i)}function wS(n){return Mr(n[0]-1)&&Mr(n[1])&&Mr(n[2])&&Mr(n[3]-1)}function uv(n,t,e){if(t&&(!Mr((r=t)[4])||!Mr(r[5])||!wS(t))){var i=e?10:1e4;n.transform=wS(t)?"translate("+Wh(t[4]*i)/i+" "+Wh(t[5]*i)/i+")":function(r){return"matrix("+ol(r[0])+","+ol(r[1])+","+ol(r[2])+","+ol(r[3])+","+Jo(r[4])+","+Jo(r[5])+")"}(t)}var r}function SS(n,t,e){for(var i=n.points,r=[],o=0;o<i.length;o++)r.push(Wh(i[o][0]*e)/e),r.push(Wh(i[o][1]*e)/e);t.points=r.join(" ")}function MS(n){return!n.smooth}var IS,hv,JP={circle:[(IS=["cx","cy","r"],hv=oe(IS,function(n){return"string"==typeof n?[n,n]:n}),function(n,t,e){for(var i=0;i<hv.length;i++){var r=hv[i],o=n[r[0]];null!=o&&(t[r[1]]=Wh(o*e)/e)}})],polyline:[SS,MS],polygon:[SS,MS]};function CS(n,t){var e=n.style,i=n.shape,r=JP[n.type],o={},a=t.animation,s="path",l=n.style.strokePercent,u=t.compress&&Nc(n)||4;if(!r||t.willUpdate||r[1]&&!r[1](i)||a&&function(m){for(var y=m.animators,x=0;x<y.length;x++)if("shape"===y[x].targetName)return!0;return!1}(n)||l<1){n.path||n.createPathProxy();var h=n.path;n.shapeChanged()&&(h.beginPath(),n.buildPath(h,n.shape),n.pathUpdated());var c=h.getVersion(),p=n,f=p.__svgPathBuilder;p.__svgPathVersion===c&&f&&l===p.__svgPathStrokePercent||(f||(f=p.__svgPathBuilder=new dS),f.reset(u),h.rebuildPath(f,l),f.generateStr(),p.__svgPathVersion=c,p.__svgPathStrokePercent=l),o.d=f.getStr()}else{s=n.type;var g=Math.pow(10,u);r[0](i,o,g)}return uv(o,n.transform),lv(o,e,n,t),t.animation&&pp(n,o,t),Vn(s,n.id+"",o)}function TS(n,t){return n instanceof at?CS(n,t):n instanceof zn?function(e,i){var r=e.style,o=r.image;if(o&&!De(o)&&(_S(o)?o=o.src:bS(o)&&(o=o.toDataURL())),o){var a=r.x||0,s=r.y||0,l={href:o,width:r.width,height:r.height};return a&&(l.x=a),s&&(l.y=s),uv(l,e.transform),lv(l,r,e,i),i.animation&&pp(e,l,i),Vn("image",e.id+"",l)}}(n,t):n instanceof cl?function(e,i){var m,y,x,r=e.style,o=r.text;if(null!=o&&(o+=""),o&&!isNaN(r.x)&&!isNaN(r.y)){var a=r.font||Fe,s=r.x||0,l=(m=r.y||0,y=yt(a),"top"===(x=r.textBaseline)?m+=y/2:"bottom"===x&&(m-=y/2),m),u={"dominant-baseline":"central","text-anchor":Ou[r.textAlign]||r.textAlign};if(B1(r)){var h="",c=r.fontStyle,p=E1(r.fontSize);if(!parseFloat(p))return;var g=r.fontWeight;h+="font-size:"+p+";font-family:"+(r.fontFamily||"sans-serif")+";",c&&"normal"!==c&&(h+="font-style:"+c+";"),g&&"normal"!==g&&(h+="font-weight:"+g+";"),u.style=h}else u.style="font: "+a;return o.match(/\s/)&&(u["xml:space"]="preserve"),s&&(u.x=s),l&&(u.y=l),uv(u,e.transform),lv(u,r,e,i),i.animation&&pp(e,u,i),Vn("text",e.id+"",u,void 0,o)}}(n,t):void 0}function QP(n,t,e){var i=e.clipPathCache,r=e.defs,o=i[n.id];if(!o){var a={id:o=e.zrId+"-c"+e.clipPathIdx++};i[n.id]=o,r[o]=Vn("clipPath",o,a,[CS(n,e)])}t["clip-path"]=Ka(o)}function DS(n){return document.createTextNode(n)}function jl(n,t,e){n.insertBefore(t,e)}function AS(n,t){n.removeChild(t)}function kS(n,t){n.appendChild(t)}function LS(n){return n.parentNode}function PS(n){return n.nextSibling}function cv(n,t){n.textContent=t}var e5=Vn("","");function dv(n){return void 0===n}function oo(n){return void 0!==n}function t5(n,t,e){for(var i={},r=t;r<=e;++r){var o=n[r].key;void 0!==o&&(i[o]=r)}return i}function Gh(n,t){return n.tag===t.tag&&n.key===t.key}function fp(n){var t,e=n.children,i=n.tag;if(oo(i)){var r=n.elm=gS(i);if(pv(e5,n),ce(e))for(t=0;t<e.length;++t){var o=e[t];null!=o&&kS(r,fp(o))}else oo(n.text)&&!Oe(n.text)&&kS(r,DS(n.text))}else n.elm=DS(n.text);return n.elm}function OS(n,t,e,i,r){for(;i<=r;++i){var o=e[i];null!=o&&jl(n,fp(o),t)}}function gp(n,t,e,i){for(;e<=i;++e){var r=t[e];null!=r&&(oo(r.tag)?AS(LS(r.elm),r.elm):AS(n,r.elm))}}function pv(n,t){var e,i=t.elm,r=n&&n.attrs||{},o=t.attrs||{};if(r!==o){for(e in o){var a=o[e];r[e]!==a&&(!0===a?i.setAttribute(e,""):!1===a?i.removeAttribute(e):120!==e.charCodeAt(0)?i.setAttribute(e,a):"xmlns:xlink"===e||"xmlns"===e?i.setAttributeNS("http://www.w3.org/2000/xmlns/",e,a):58===e.charCodeAt(3)?i.setAttributeNS("http://www.w3.org/XML/1998/namespace",e,a):58===e.charCodeAt(5)?i.setAttributeNS(fS,e,a):i.setAttribute(e,a))}for(e in r)e in o||i.removeAttribute(e)}}function Zl(n,t){var e=t.elm=n.elm,i=n.children,r=t.children;n!==t&&(pv(n,t),dv(t.text)?oo(i)&&oo(r)?i!==r&&function(o,a,s){for(var l,u,h,c=0,p=0,f=a.length-1,g=a[0],m=a[f],y=s.length-1,x=s[0],b=s[y];c<=f&&p<=y;)null==g?g=a[++c]:null==m?m=a[--f]:null==x?x=s[++p]:null==b?b=s[--y]:Gh(g,x)?(Zl(g,x),g=a[++c],x=s[++p]):Gh(m,b)?(Zl(m,b),m=a[--f],b=s[--y]):Gh(g,b)?(Zl(g,b),jl(o,g.elm,PS(m.elm)),g=a[++c],b=s[--y]):Gh(m,x)?(Zl(m,x),jl(o,m.elm,g.elm),m=a[--f],x=s[++p]):(dv(l)&&(l=t5(a,c,f)),dv(u=l[x.key])||(h=a[u]).tag!==x.tag?jl(o,fp(x),g.elm):(Zl(h,x),a[u]=void 0,jl(o,h.elm,g.elm)),x=s[++p]);(c<=f||p<=y)&&(c>f?OS(o,null==s[y+1]?null:s[y+1].elm,s,p,y):gp(o,a,c,f))}(e,i,r):oo(r)?(oo(n.text)&&cv(e,""),OS(e,null,r,0,r.length-1)):oo(i)?gp(e,i,0,i.length-1):oo(n.text)&&cv(e,""):n.text!==t.text&&(oo(i)&&gp(e,i,0,i.length-1),cv(e,t.text)))}var n5=0,i5=function(){function n(t,e,i){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=e,this._opts=i=ae({},i),this.root=t,this._id="zr"+n5++,this._oldVNode=mS(i.width,i.height),t&&!i.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=gS("svg");pv(null,this._oldVNode),r.appendChild(o),t.appendChild(r)}this.resize(i.width,i.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function(e,i){if(Gh(e,i))Zl(e,i);else{var r=e.elm,o=LS(r);fp(i),null!==o&&(jl(o,i.elm,PS(r)),gp(o,[e],0,0))}}(this._oldVNode,t),this._oldVNode=t}},n.prototype.renderOneToVNode=function(t){return TS(t,sv(this._id))},n.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),i=this._backgroundColor,r=this._width,o=this._height,a=sv(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress;var s=[];if(i&&"none"!==i){var l=$o(i);this._bgVNode=Vn("rect","bg",{width:r,height:o,x:"0",y:"0",id:"0",fill:l.color,"fill-opacity":l.opacity}),s.push(this._bgVNode)}else this._bgVNode=null;var c=t.compress?null:this._mainVNode=Vn("g","main",{},[]);this._paintList(e,a,c?c.children:s),c&&s.push(c);var m,y,b,S,M,C,T,p=oe(tt(a.defs),function(m){return a.defs[m]});if(p.length&&s.push(Vn("defs","defs",{},p)),t.animation){var f=(y=a.cssAnims,S=" {"+(b=({newline:!0}||{}).newline?"\n":""),M=b+"}",C=oe(tt(m=a.cssNodes),function(D){return D+S+oe(tt(m[D]),function(k){return k+":"+m[D][k]+";"}).join(b)+M}).join(b),T=oe(tt(y),function(D){return"@keyframes "+D+S+oe(tt(y[D]),function(k){return k+S+oe(tt(y[D][k]),function(R){var N=y[D][k][R];return"d"===R&&(N='path("'+N+'")'),R+":"+N+";"}).join(b)+M}).join(b)+M}).join(b),C||T?["<![CDATA[",C,T,"]]>"].join(b):"");if(f){var g=Vn("style","stl",{},[],f);s.push(g)}}return mS(r,o,s,t.useViewBox)},n.prototype.renderToString=function(t){return av(this.renderToVNode({animation:pe((t=t||{}).cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:pe(t.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t;var e=this._bgVNode;if(e&&e.elm){var i=$o(t),o=i.opacity;e.elm.setAttribute("fill",i.color),o<1&&e.elm.setAttribute("fill-opacity",o)}},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(t,e,i){for(var r,o,a=t.length,s=[],l=0,u=0,h=0;h<a;h++){var c=t[h];if(!c.invisible){var p=c.__clipPaths,f=p&&p.length||0,g=o&&o.length||0,m=void 0;for(m=Math.max(f-1,g-1);m>=0&&(!p||!o||p[m]!==o[m]);m--);for(var y=g-1;y>m;y--)r=s[--l-1];for(var x=m+1;x<f;x++){var b={};QP(p[x],b,e);var S=Vn("g","clip-g-"+u++,b,[]);(r?r.children:i).push(S),s[l++]=S,r=S}o=p;var M=TS(c,e);M&&(r?r.children:i).push(M)}}},n.prototype.resize=function(t,e){var i=this._opts,r=this.root,o=this._viewport;if(null!=t&&(i.width=t),null!=e&&(i.height=e),r&&o&&(o.style.display="none",t=Wl(r,0,i),e=Wl(r,1,i),o.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,o){var a=o.style;a.width=t+"px",a.height=e+"px"}var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",e))}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(t){var e=encodeURIComponent(this.renderToString()),i="data:image/svg+xml;";return t?(e=If(e))&&i+"base64,"+e:i+"charset=UTF-8,"+e},n}();function NS(n,t,e){var i=Je.createCanvas(),r=t.getWidth(),o=t.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",n)),i.width=r*e,i.height=o*e,i}var fv=function(n){function t(e,i,r){var o,a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,r=r||Ja,"string"==typeof e?o=NS(e,i,r):Oe(e)&&(e=(o=e).id),a.id=e,a.dom=o;var s=o.style;return s&&(fo(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=i,a.dpr=r,a}return Q(t,n),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=NS("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,i,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a,s=[],l=this.maxRepaintRectCount,u=!1,h=new ue(0,0,0,0);function c(b){if(b.isFinite()&&!b.isZero())if(0===s.length)(S=new ue(0,0,0,0)).copy(b),s.push(S);else{for(var S,M=!1,C=1/0,T=0,D=0;D<s.length;++D){var k=s[D];if(k.intersect(b)){var R=new ue(0,0,0,0);R.copy(k),R.union(b),s[D]=R,M=!0;break}if(u){h.copy(b),h.union(k);var B=h.width*h.height-b.width*b.height-k.width*k.height;B<C&&(C=B,T=D)}}u&&(s[T].union(b),M=!0),!M&&((S=new ue(0,0,0,0)).copy(b),s.push(S)),u||(u=s.length>=l)}}for(var p=this.__startIndex;p<this.__endIndex;++p)if(m=e[p]){var f=m.shouldBePainted(r,o,!0,!0);(y=m.__isRendered&&(1&m.__dirty||!f)?m.getPrevPaintRect():null)&&c(y);var g=f&&(1&m.__dirty||!m.__isRendered)?m.getPaintRect():null;g&&c(g)}for(p=this.__prevStartIndex;p<this.__prevEndIndex;++p){var m,y;f=(m=i[p]).shouldBePainted(r,o,!0,!0),m&&(!f||!m.__zr)&&m.__isRendered&&(y=m.getPrevPaintRect())&&c(y)}do{for(a=!1,p=0;p<s.length;)if(s[p].isZero())s.splice(p,1);else{for(var x=p+1;x<s.length;)s[p].intersect(s[x])?(a=!0,s[p].union(s[x]),s.splice(x,1)):x++;p++}}while(a);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,i){var r=this.dpr,o=this.dom,a=o.style,s=this.domBack;a&&(a.width=e+"px",a.height=i+"px"),o.width=e*r,o.height=i*r,s&&(s.width=e*r,s.height=i*r,1!==r&&this.ctxBack.scale(r,r))},t.prototype.clear=function(e,i,r){var o=this.dom,a=this.ctx,s=o.width,l=o.height;i=i||this.clearColor;var u=this.motionBlur&&!e,h=this.lastFrameAlpha,c=this.dpr,p=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/c,l/c));var f=this.domBack;function g(m,y,x,b){if(a.clearRect(m,y,x,b),i&&"transparent"!==i){var S=void 0;ve(i)?(S=i.__canvasGradient||fm(a,i,{x:0,y:0,width:x,height:b}),i.__canvasGradient=S):se(i)&&(S=mm(a,i,{dirty:function(){p.setUnpainted(),p.__painter.refresh()}})),a.save(),a.fillStyle=S||i,a.fillRect(m,y,x,b),a.restore()}u&&(a.save(),a.globalAlpha=h,a.drawImage(f,m,y,x,b),a.restore())}!r||u?g(0,0,s,l):r.length&&V(r,function(m){g(m.x*c,m.y*c,m.width*c,m.height*c)})},t}(hi),Hh=314159,r5=function(){function n(t,e,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=ae({},i||{}),this.dpr=i.devicePixelRatio||Ja,this._singleCanvas=o,this.root=t,t.style&&(fo(t),t.innerHTML=""),this.storage=e;var a=this._zlevelList;this._prevDisplayList=[];var f,g,m,s=this._layers;if(o){var l=t,u=l.width,h=l.height;null!=i.width&&(u=i.width),null!=i.height&&(h=i.height),this.dpr=i.devicePixelRatio||1,l.width=u*this.dpr,l.height=h*this.dpr,this._width=u,this._height=h;var c=new fv(l,this,this.dpr);c.__builtin__=!0,c.initContext(),s[314159]=c,c.zlevel=Hh,a.push(Hh),this._domRoot=t}else{this._width=Wl(t,0,i),this._height=Wl(t,1,i);var p=this._domRoot=(f=this._width,g=this._height,(m=document.createElement("div")).style.cssText=["position:relative","width:"+f+"px","height:"+g+"px","padding:0","margin:0","border-width:0"].join(";")+";",m);t.appendChild(p)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,i,t,this._redrawId);for(var o=0;o<r.length;o++){var s=this._layers[r[o]];!s.__builtin__&&s.refresh&&s.refresh(0===o?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(t){var e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){for(var r,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<e;a++){var s=t[a];s.__inHover&&(i||(i=this._hoverlayer=this.getLayer(1e5)),r||(r=i.ctx).save(),Is(r,s,o,a===e-1))}r&&r.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(t,e){vm(t,e)},n.prototype._paintList=function(t,e,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,e,i),a=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),a)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;Cu(function(){l._paintList(t,e,i,r)})}}},n.prototype._compositeManually=function(){var t=this.getLayer(Hh).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,i)})},n.prototype._doPaintList=function(t,e,i){for(var r=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var u=this._layers[this._zlevelList[s]];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||i)&&o.push(u)}for(var h=!0,c=!1,p=function(m){var y,x=o[m],b=x.ctx,S=a&&x.createRepaintRects(t,e,f._width,f._height),M=i?x.__startIndex:x.__drawIndex,C=!i&&x.incremental&&Date.now,T=C&&Date.now(),D=x.zlevel===f._zlevelList[0]?f._backgroundColor:null;if(x.__startIndex===x.__endIndex)x.clear(!1,D,S);else if(M===x.__startIndex){var k=t[M];k.incremental&&k.notClear&&!i||x.clear(!1,D,S)}-1===M&&(console.error("For some unknown reason. drawIndex is -1"),M=x.__startIndex);var R=function(G){var H={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(y=M;y<x.__endIndex;y++){var Y=t[y];if(Y.__inHover&&(c=!0),r._doPaintEl(Y,x,a,G,H,y===x.__endIndex-1),C&&Date.now()-T>15)break}H.prevElClipPaths&&b.restore()};if(S)if(0===S.length)y=x.__endIndex;else for(var N=f.dpr,E=0;E<S.length;++E){var B=S[E];b.save(),b.beginPath(),b.rect(B.x*N,B.y*N,B.width*N,B.height*N),b.clip(),R(B),b.restore()}else b.save(),R(),b.restore();x.__drawIndex=y,x.__drawIndex<x.__endIndex&&(h=!1)},f=this,g=0;g<o.length;g++)p(g);return $e.wxa&&V(this._layers,function(m){m&&m.ctx&&m.ctx.draw&&m.ctx.draw()}),{finished:h,needsRefreshHover:c}},n.prototype._doPaintEl=function(t,e,i,r,o,a){var s=e.ctx;if(i){var l=t.getPaintRect();(!r||l&&l.intersect(r))&&(Is(s,t,o,a),t.setPrevPaintRect(l))}else Is(s,t,o,a)},n.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Hh);var i=this._layers[t];return i||((i=new fv("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]?qe(i,this._layerConfig[t],!0):this._layerConfig[t-.01]&&qe(i,this._layerConfig[t-.01],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},n.prototype.insertLayer=function(t,e){var h,i=this._layers,r=this._zlevelList,o=r.length,a=this._domRoot,s=null,l=-1;if(!i[t]&&(h=e)&&(h.__builtin__||"function"==typeof h.resize&&"function"==typeof h.refresh)){if(o>0&&t>r[0]){for(l=0;l<o-1&&!(r[l]<t&&r[l+1]>t);l++);s=i[r[l]]}if(r.splice(l+1,0,t),i[t]=e,!e.virtual)if(s){var u=s.dom;u.nextSibling?a.insertBefore(e.dom,u.nextSibling):a.appendChild(e.dom)}else a.firstChild?a.insertBefore(e.dom,a.firstChild):a.appendChild(e.dom);e.__painter=this}},n.prototype.eachLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r];t.call(e,this._layers[o],o)}},n.prototype.eachBuiltinLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__&&t.call(e,a,o)}},n.prototype.eachOtherLayer=function(t,e){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],a=this._layers[o];a.__builtin__||t.call(e,a,o)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(t){function e(c){a&&(a.__endIndex!==c&&(a.__dirty=!0),a.__endIndex=c)}if(this.eachBuiltinLayer(function(c,p){c.__dirty=c.__used=!1}),this._singleCanvas)for(var i=1;i<t.length;i++)if((l=t[i]).zlevel!==t[i-1].zlevel||l.incremental){this._needsManuallyCompositing=!0;break}var r,o,a=null,s=0;for(o=0;o<t.length;o++){var l,u=(l=t[o]).zlevel,h=void 0;r!==u&&(r=u,s=0),l.incremental?((h=this.getLayer(u+.001,this._needsManuallyCompositing)).incremental=!0,s=1):h=this.getLayer(u+(s>0?.01:0),this._needsManuallyCompositing),h.__builtin__||xn("ZLevel "+u+" has been used by unkown layer "+h.id),h!==a&&(h.__used=!0,h.__startIndex!==o&&(h.__dirty=!0),h.__startIndex=o,h.__drawIndex=h.incremental?-1:o,e(o),a=h),1&l.__dirty&&!l.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=o))}e(o),this.eachBuiltinLayer(function(c,p){!c.__used&&c.getElementCount()>0&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(t){t.clear()},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t,V(this._layers,function(e){e.setUnpainted()})},n.prototype.configLayer=function(t,e){if(e){var i=this._layerConfig;i[t]?qe(i[t],e,!0):i[t]=e;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];(o===t||o===t+.01)&&qe(this._layers[o],i[t],!0)}}},n.prototype.delLayer=function(t){var e=this._layers,i=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],i.splice(je(i,t),1))},n.prototype.resize=function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts,o=this.root;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=Wl(o,0,r),e=Wl(o,1,r),i.style.display="",this._width!==t||e!==this._height){for(var a in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(Hh).resize(t,e)}return this},n.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(t){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new fv("image",this,(t=t||{}).pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var i=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,o=e.dom.height;this.eachLayer(function(c){c.__builtin__?i.drawImage(c.dom,0,0,r,o):c.renderToCanvas&&(i.save(),c.renderToCanvas(i),i.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++)Is(i,s[l],a,l===u-1);return e.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}(),o5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return Q(t,n),t.prototype.getInitialData=function(e){return eo(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var i=new He,r=pn("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);i.add(r),r.setStyle(e.lineStyle);var o=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),s="none"===o?"circle":o,l=.8*e.itemHeight,u=pn(s,(e.itemWidth-l)/2,(e.itemHeight-l)/2,l,l,e.itemStyle.fill);return i.add(u),u.setStyle(e.itemStyle),u.rotation=("inherit"===e.iconRotate?a:e.iconRotate||0)*Math.PI/180,u.setOrigin([e.itemWidth/2,e.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),i},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Bt);function ql(n,t){var e=n.mapDimensionsAll("defaultedLabel"),i=e.length;if(1===i){var r=Nl(n,t,e[0]);return null!=r?r+"":null}if(i){for(var o=[],a=0;a<e.length;a++)o.push(Nl(n,t,e[a]));return o.join(" ")}}function zS(n,t){var e=n.mapDimensionsAll("defaultedLabel");if(!ce(t))return t+"";for(var i=[],r=0;r<e.length;r++){var o=n.getDimensionIndex(e[r]);o>=0&&i.push(t[o])}return i.join(" ")}var Uh=function(n){function t(e,i,r,o){var a=n.call(this)||this;return a.updateData(e,i,r,o),a}return Q(t,n),t.prototype._createSymbol=function(e,i,r,o,a){this.removeAll();var s=pn(e,-1,-1,2,2,null,a);s.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),s.drift=a5,this._symbolType=e,this.add(s)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Co(this.childAt(0))},t.prototype.downplay=function(){To(this.childAt(0))},t.prototype.setZ=function(e,i){var r=this.childAt(0);r.zlevel=e,r.z=i},t.prototype.setDraggable=function(e,i){var r=this.childAt(0);r.draggable=e,r.cursor=!i&&e?"move":r.cursor},t.prototype.updateData=function(e,i,r,o){this.silent=!1;var a=e.getItemVisual(i,"symbol")||"circle",s=e.hostModel,l=t.getSymbolSize(e,i),u=a!==this._symbolType,h=o&&o.disableAnimation;if(u){var c=e.getItemVisual(i,"symbolKeepAspect");this._createSymbol(a,e,i,l,c)}else{(f=this.childAt(0)).silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};h?f.attr(p):vt(f,p,s,i),Dr(f)}if(this._updateCommon(e,i,l,r,o),u){var f=this.childAt(0);h||(p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}},f.scaleX=f.scaleY=0,f.style.opacity=0,Kt(f,p,s,i))}h&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,i,r,o,a){var s,l,u,h,c,p,f,g,m,y=this.childAt(0),x=e.hostModel;if(o&&(s=o.emphasisItemStyle,l=o.blurItemStyle,u=o.selectItemStyle,h=o.focus,c=o.blurScope,f=o.labelStatesModels,g=o.hoverScale,m=o.cursorStyle,p=o.emphasisDisabled),!o||e.hasItemOption){var b=o&&o.itemModel?o.itemModel:e.getItemModel(i),S=b.getModel("emphasis");s=S.getModel("itemStyle").getItemStyle(),u=b.getModel(["select","itemStyle"]).getItemStyle(),l=b.getModel(["blur","itemStyle"]).getItemStyle(),h=S.get("focus"),c=S.get("blurScope"),p=S.get("disabled"),f=jn(b),g=S.getShallow("scale"),m=b.getShallow("cursor")}var M=e.getItemVisual(i,"symbolRotate");y.attr("rotation",(M||0)*Math.PI/180||0);var C=Fl(e.getItemVisual(i,"symbolOffset"),r);C&&(y.x=C[0],y.y=C[1]),m&&y.attr("cursor",m);var T=e.getItemVisual(i,"style"),D=T.fill;if(y instanceof zn){var k=y.style;y.useStyle(ae({image:k.image,x:k.x,y:k.y,width:k.width,height:k.height},T))}else y.useStyle(y.__isEmptyBrush?ae({},T):T),y.style.decal=null,y.setColor(D,a&&a.symbolInnerColor),y.style.strokeNoScale=!0;var R=e.getItemVisual(i,"liftZ"),N=this._z2;null!=R?null==N&&(this._z2=y.z2,y.z2+=R):null!=N&&(y.z2=N,this._z2=null);var E=a&&a.useNameLabel;ri(y,f,{labelFetcher:x,labelDataIndex:i,defaultText:function(H){return E?e.getName(H):ql(e,H)},inheritColor:D,defaultOpacity:T.opacity}),this._sizeX=r[0]/2,this._sizeY=r[1]/2;var B=y.ensureState("emphasis");if(B.style=s,y.ensureState("select").style=u,y.ensureState("blur").style=l,g){var G=Math.max(ot(g)?g:1.1,3/this._sizeY);B.scaleX=this._sizeX*G,B.scaleY=this._sizeY*G}this.setSymbolScale(1),un(this,h,c,p)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,i,r){var o=this.childAt(0),a=Ze(this).dataIndex,s=r&&r.animation;if(this.silent=o.silent=!0,r&&r.fadeLabel){var l=o.getTextContent();l&&ua(l,{style:{opacity:0}},i,{dataIndex:a,removeOpt:s,cb:function(){o.removeTextContent()}})}else o.removeTextContent();ua(o,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:a,cb:e,removeOpt:s})},t.getSymbolSize=function(e,i){return Ch(e.getItemVisual(i,"symbolSize"))},t}(He);function a5(n,t){this.parent.drift(n,t)}function gv(n,t,e,i){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(i.isIgnore&&i.isIgnore(e))&&!(i.clipShape&&!i.clipShape.contain(t[0],t[1]))&&"none"!==n.getItemVisual(e,"symbol")}function BS(n){return null==n||Oe(n)||(n={isIgnore:n}),n||{}}function VS(n){var t=n.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:jn(t),cursorStyle:t.get("cursor")}}var Yh=function(){function n(t){this.group=new He,this._SymbolCtor=t||Uh}return n.prototype.updateData=function(t,e){this._progressiveEls=null,e=BS(e);var i=this.group,r=t.hostModel,o=this._data,a=this._SymbolCtor,s=e.disableAnimation,l=VS(t),u={disableAnimation:s},h=e.getSymbolPoint||function(c){return t.getItemLayout(c)};o||i.removeAll(),t.diff(o).add(function(c){var p=h(c);if(gv(t,p,c,e)){var f=new a(t,c,l,u);f.setPosition(p),t.setItemGraphicEl(c,f),i.add(f)}}).update(function(c,p){var f=o.getItemGraphicEl(p),g=h(c);if(gv(t,g,c,e)){var m=t.getItemVisual(c,"symbol")||"circle",y=f&&f.getSymbolType&&f.getSymbolType();if(!f||y&&y!==m)i.remove(f),(f=new a(t,c,l,u)).setPosition(g);else{f.updateData(t,c,l,u);var x={x:g[0],y:g[1]};s?f.attr(x):vt(f,x,r)}i.add(f),t.setItemGraphicEl(c,f)}else i.remove(f)}).remove(function(c){var p=o.getItemGraphicEl(c);p&&p.fadeOut(function(){i.remove(p)},r)}).execute(),this._getSymbolPoint=h,this._data=t},n.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(i,r){var o=t._getSymbolPoint(r);i.setPosition(o),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=VS(t),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e,i){function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],i=BS(i);for(var o=t.start;o<t.end;o++){var a=e.getItemLayout(o);if(gv(e,a,o,i)){var s=new this._SymbolCtor(e,o,this._seriesScope);s.traverse(r),s.setPosition(a),this.group.add(s),e.setItemGraphicEl(o,s),this._progressiveEls.push(s)}}},n.prototype.eachRendered=function(t){ca(this._progressiveEls||this.group,t)},n.prototype.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(r){r.fadeOut(function(){e.remove(r)},i.hostModel)}):e.removeAll()},n}();function FS(n,t,e){var m,y,x,i=n.getBaseAxis(),r=n.getOtherAxis(i),o=(m=e,y=0,x=r.scale.getExtent(),"start"===m?y=x[0]:"end"===m?y=x[1]:ot(m)&&!isNaN(m)?y=m:x[0]>0?y=x[0]:x[1]<0&&(y=x[1]),y),a=i.dim,s=r.dim,l=t.mapDimension(s),u=t.mapDimension(a),h="x"===s||"radius"===s?1:0,c=oe(n.dimensions,function(g){return t.mapDimension(g)}),p=!1,f=t.getCalculationInfo("stackResultDimension");return Lo(t,c[0])&&(p=!0,c[0]=f),Lo(t,c[1])&&(p=!0,c[1]=f),{dataDimsForPoint:c,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!p,valueDim:l,baseDim:u,baseDataOffset:h,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function WS(n,t,e,i){var r=NaN;n.stacked&&(r=e.get(e.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=n.valueStart);var o=n.baseDataOffset,a=[];return a[o]=e.get(n.baseDim,i),a[1-o]=r,t.dataToPoint(a)}var ba=Math.min,wa=Math.max;function Os(n,t){return isNaN(n)||isNaN(t)}function mv(n,t,e,i,r,o,a,s,l){for(var u,h,c,p,f,g,m=e,y=0;y<i;y++){var x=t[2*m],b=t[2*m+1];if(m>=r||m<0)break;if(Os(x,b)){if(l){m+=o;continue}break}if(m===e)n[o>0?"moveTo":"lineTo"](x,b),c=x,p=b;else{var S=x-u,M=b-h;if(S*S+M*M<.5){m+=o;continue}if(a>0){for(var C=m+o,T=t[2*C],D=t[2*C+1];T===x&&D===b&&y<i;)y++,T=t[2*(C+=o)],D=t[2*C+1],S=(x=t[2*(m+=o)])-u,M=(b=t[2*m+1])-h;var k=y+1;if(l)for(;Os(T,D)&&k<i;)k++,T=t[2*(C+=o)],D=t[2*C+1];var R=.5,N=0,E=0,B=void 0,G=void 0;if(k>=i||Os(T,D))f=x,g=b;else{N=T-u,E=D-h;var H=x-u,Y=T-x,j=b-h,Z=D-b,q=void 0,J=void 0;if("x"===s){var te=N>0?1:-1;f=x-te*(q=Math.abs(H))*a,g=b,B=x+te*(J=Math.abs(Y))*a,G=b}else if("y"===s){var ne=E>0?1:-1;f=x,g=b-ne*(q=Math.abs(j))*a,B=x,G=b+ne*(J=Math.abs(Z))*a}else q=Math.sqrt(H*H+j*j),f=x-N*a*(1-(R=(J=Math.sqrt(Y*Y+Z*Z))/(J+q))),g=b-E*a*(1-R),G=b+E*a*R,B=ba(B=x+N*a*R,wa(T,x)),G=ba(G,wa(D,b)),B=wa(B,ba(T,x)),g=b-(E=(G=wa(G,ba(D,b)))-b)*q/J,f=ba(f=x-(N=B-x)*q/J,wa(u,x)),g=ba(g,wa(h,b)),B=x+(N=x-(f=wa(f,ba(u,x))))*J/q,G=b+(E=b-(g=wa(g,ba(h,b))))*J/q}n.bezierCurveTo(c,p,f,g,x,b),c=B,p=G}else n.lineTo(x,b)}u=x,h=b,m+=o}return y}var GS=function(){this.smooth=0,this.smoothConstraint=!0},s5=function(n){function t(e){var i=n.call(this,e)||this;return i.type="ec-polyline",i}return Q(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new GS},t.prototype.buildPath=function(e,i){var r=i.points,o=0,a=r.length/2;if(i.connectNulls){for(;a>0&&Os(r[2*a-2],r[2*a-1]);a--);for(;o<a&&Os(r[2*o],r[2*o+1]);o++);}for(;o<a;)o+=mv(e,r,o,a,a,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},t.prototype.getPointOn=function(e,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r,o,a=this.path.data,s=Jr.CMD,l="x"===i,u=[],h=0;h<a.length;){var c=void 0,p=void 0,f=void 0,g=void 0,m=void 0,y=void 0,x=void 0;switch(a[h++]){case s.M:r=a[h++],o=a[h++];break;case s.L:if(c=a[h++],p=a[h++],(x=l?(e-r)/(c-r):(e-o)/(p-o))<=1&&x>=0){var b=l?(p-o)*x+o:(c-r)*x+r;return l?[e,b]:[b,e]}r=c,o=p;break;case s.C:c=a[h++],p=a[h++],f=a[h++],g=a[h++],m=a[h++],y=a[h++];var S=l?Qs(r,c,f,m,e,u):Qs(o,p,g,y,e,u);if(S>0)for(var M=0;M<S;M++){var C=u[M];if(C<=1&&C>=0)return b=l?dn(o,p,g,y,C):dn(r,c,f,m,C),l?[e,b]:[b,e]}r=m,o=y}}},t}(at),l5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t}(GS),HS=function(n){function t(e){var i=n.call(this,e)||this;return i.type="ec-polygon",i}return Q(t,n),t.prototype.getDefaultShape=function(){return new l5},t.prototype.buildPath=function(e,i){var r=i.points,o=i.stackedOnPoints,a=0,s=r.length/2,l=i.smoothMonotone;if(i.connectNulls){for(;s>0&&Os(r[2*s-2],r[2*s-1]);s--);for(;a<s&&Os(r[2*a],r[2*a+1]);a++);}for(;a<s;){var u=mv(e,r,a,s,s,1,i.smooth,l,i.connectNulls);mv(e,o,a+u-1,u,s,-1,i.stackedOnSmooth,l,i.connectNulls),a+=u+1,e.closePath()}},t}(at);function US(n,t,e,i,r){var o=n.getArea(),a=o.x,s=o.y,l=o.width,u=o.height,h=e.get(["lineStyle","width"])||2;a-=h/2,s-=h/2,l+=h,u+=h,a=Math.floor(a),l=Math.round(l);var c=new ht({shape:{x:a,y:s,width:l,height:u}});if(t){var p=n.getBaseAxis(),f=p.isHorizontal(),g=p.inverse;f?(g&&(c.shape.x+=l),c.shape.width=0):(g||(c.shape.y+=u),c.shape.height=0);var m=ze(r)?function(y){r(y,c)}:null;Kt(c,{shape:{width:l,height:u,x:a,y:s}},e,null,i,m)}return c}function YS(n,t,e){var i=n.getArea(),r=an(i.r0,1),o=an(i.r,1),a=new ti({shape:{cx:an(n.cx,1),cy:an(n.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return t&&("angle"===n.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=r,Kt(a,{shape:{endAngle:i.endAngle,r:o}},e)),a}function vp(n,t,e,i,r){return n?"polar"===n.type?YS(n,t,e):"cartesian2d"===n.type?US(n,t,e,i,r):null:null}function Rs(n,t){return n.type===t}function XS(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return;return!0}}function jS(n){for(var t=1/0,e=1/0,i=-1/0,r=-1/0,o=0;o<n.length;){var a=n[o++],s=n[o++];isNaN(a)||(t=Math.min(a,t),i=Math.max(a,i)),isNaN(s)||(e=Math.min(s,e),r=Math.max(s,r))}return[[t,e],[i,r]]}function ZS(n,t){var e=jS(n),i=e[0],r=e[1],o=jS(t),a=o[0],s=o[1];return Math.max(Math.abs(i[0]-a[0]),Math.abs(i[1]-a[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function qS(n){return ot(n)?n:n?.5:0}function Sa(n,t,e,i){var r=t.getBaseAxis(),o="x"===r.dim||"radius"===r.dim?0:1,a=[],s=0,l=[],u=[],h=[],c=[];if(i){for(s=0;s<n.length;s+=2)isNaN(n[s])||isNaN(n[s+1])||c.push(n[s],n[s+1]);n=c}for(s=0;s<n.length-2;s+=2)switch(h[0]=n[s+2],h[1]=n[s+3],u[0]=n[s],u[1]=n[s+1],a.push(u[0],u[1]),e){case"end":l[o]=h[o],l[1-o]=u[1-o],a.push(l[0],l[1]);break;case"middle":var f=[];l[o]=f[o]=(u[o]+h[o])/2,l[1-o]=u[1-o],f[1-o]=h[1-o],a.push(l[0],l[1]),a.push(f[0],f[1]);break;default:l[o]=u[o],l[1-o]=h[1-o],a.push(l[0],l[1])}return a.push(n[s++],n[s++]),a}function KS(n,t){return[n[2*t],n[2*t+1]]}function $S(n){if(n.get(["endLabel","show"]))return!0;for(var t=0;t<fi.length;t++)if(n.get([fi[t],"endLabel","show"]))return!0;return!1}function vv(n,t,e,i){if(Rs(t,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),a=i.getData(),s={lastFrameIndex:0},l=$S(i)?function(f,g){n._endLabelOnDuring(f,g,a,s,o,r,t)}:null,u=t.getBaseAxis().isHorizontal(),h=US(t,e,i,function(){var f=n._endLabel;f&&e&&null!=s.originalX&&f.attr({x:s.originalX,y:s.originalY})},l);if(!i.get("clip",!0)){var c=h.shape,p=Math.max(c.width,c.height);u?(c.y-=p,c.height+=2*p):(c.x-=p,c.width+=2*p)}return l&&l(1,h),h}return YS(t,e,i)}var c5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.init=function(){var e=new He,i=new Yh;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=e},t.prototype.render=function(e,i,r){var o=this,a=e.coordinateSystem,s=this.group,l=e.getData(),u=e.getModel("lineStyle"),h=e.getModel("areaStyle"),c=l.getLayout("points")||[],p="polar"===a.type,f=this._coordSys,g=this._symbolDraw,m=this._polyline,y=this._polygon,x=this._lineGroup,b=e.get("animation"),S=!h.isEmpty(),M=h.get("origin"),C=FS(a,l,M),T=S&&function(ie,he,xe){if(!xe.valueDim)return[];for(var be=he.count(),ge=no(2*be),we=0;we<be;we++){var me=WS(xe,ie,he,we);ge[2*we]=me[0],ge[2*we+1]=me[1]}return ge}(a,l,C),D=e.get("showSymbol"),k=e.get("connectNulls"),R=D&&!p&&function h5(n,t,e){var i=n.get("showAllSymbol"),r="auto"===i;if(!i||r){var o=e.getAxesByScale("ordinal")[0];if(o&&(!r||!function(l,u){var h=l.getExtent(),c=Math.abs(h[1]-h[0])/l.scale.count();isNaN(c)&&(c=0);for(var p=u.count(),f=Math.max(1,Math.round(p/5)),g=0;g<p;g+=f)if(1.5*Uh.getSymbolSize(u,g)[l.isHorizontal()?1:0]>c)return!1;return!0}(o,t))){var a=t.mapDimension(o.dim),s={};return V(o.getViewLabels(),function(l){var u=o.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(a,l))}}}}(e,l,a),N=this._data;N&&N.eachItemGraphicEl(function(ie,he){ie.__temp&&(s.remove(ie),N.setItemGraphicEl(he,null))}),D||g.remove(),s.add(x);var E,B=!p&&e.get("step");a&&a.getArea&&e.get("clip",!0)&&(null!=(E=a.getArea()).width?(E.x-=.1,E.y-=.1,E.width+=.2,E.height+=.2):E.r0&&(E.r0-=.5,E.r+=.5)),this._clipShapeForSymbol=E;var G=function u5(n,t,e){var i=n.getVisual("visualMeta");if(i&&i.length&&n.count()&&"cartesian2d"===t.type){for(var r,o,a=i.length-1;a>=0;a--){var s=n.getDimensionInfo(i[a].dimension);if("x"===(r=s&&s.coordDim)||"y"===r){o=i[a];break}}if(o){var l=t.getAxis(r),u=oe(o.stops,function(b){return{coord:l.toGlobalCoord(l.dataToCoord(b.value)),color:b.color}}),h=u.length,c=o.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),c.reverse());var p=function(b,S){var M,C,T=[],D=b.length;function k(B,G,H){var Y=B.coord;return{coord:H,color:qo((H-Y)/(G.coord-Y),[B.color,G.color])}}for(var R=0;R<D;R++){var N=b[R],E=N.coord;if(E<0)M=N;else{if(E>S){C?T.push(k(C,N,S)):M&&T.push(k(M,N,0),k(M,N,S));break}M&&(T.push(k(M,N,0)),M=null),T.push(N),C=N}}return T}(u,"x"===r?e.getWidth():e.getHeight()),f=p.length;if(!f&&h)return u[0].coord<0?c[1]?c[1]:u[h-1].color:c[0]?c[0]:u[0].color;var g=p[0].coord-10,m=p[f-1].coord+10,y=m-g;if(y<.001)return"transparent";V(p,function(b){b.offset=(b.coord-g)/y}),p.push({offset:f?p[f-1].offset:.5,color:c[1]||"transparent"}),p.unshift({offset:f?p[0].offset:.5,color:c[0]||"transparent"});var x=new yl(0,0,0,0,p,!0);return x[r]=g,x[r+"2"]=m,x}}}(l,a,r)||l.getVisual("style")[l.getVisual("drawType")];if(m&&f.type===a.type&&B===this._step){S&&!y?y=this._newPolygon(c,T):y&&!S&&(x.remove(y),y=this._polygon=null),p||this._initOrUpdateEndLabel(e,a,_s(G));var H=x.getClipPath();H?Kt(H,{shape:vv(this,a,!1,e).shape},e):x.setClipPath(vv(this,a,!0,e)),D&&g.updateData(l,{isIgnore:R,clipShape:E,disableAnimation:!0,getSymbolPoint:function(ie){return[c[2*ie],c[2*ie+1]]}}),XS(this._stackedOnPoints,T)&&XS(this._points,c)||(b?this._doUpdateAnimation(l,T,a,r,B,M,k):(B&&(c=Sa(c,a,B,k),T&&(T=Sa(T,a,B,k))),m.setShape({points:c}),y&&y.setShape({points:c,stackedOnPoints:T})))}else D&&g.updateData(l,{isIgnore:R,clipShape:E,disableAnimation:!0,getSymbolPoint:function(ie){return[c[2*ie],c[2*ie+1]]}}),b&&this._initSymbolLabelAnimation(l,a,E),B&&(c=Sa(c,a,B,k),T&&(T=Sa(T,a,B,k))),m=this._newPolyline(c),S?y=this._newPolygon(c,T):y&&(x.remove(y),y=this._polygon=null),p||this._initOrUpdateEndLabel(e,a,_s(G)),x.setClipPath(vv(this,a,!0,e));var Y=e.getModel("emphasis"),j=Y.get("focus"),Z=Y.get("blurScope"),q=Y.get("disabled");m.useStyle(Ee(u.getLineStyle(),{fill:"none",stroke:G,lineJoin:"bevel"})),qn(m,e,"lineStyle"),m.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(m.getState("emphasis").style.lineWidth=+m.style.lineWidth+1),Ze(m).seriesIndex=e.seriesIndex,un(m,j,Z,q);var J=qS(e.get("smooth")),te=e.get("smoothMonotone");if(m.setShape({smooth:J,smoothMonotone:te,connectNulls:k}),y){var ne=l.getCalculationInfo("stackedOnSeries"),le=0;y.useStyle(Ee(h.getAreaStyle(),{fill:G,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),ne&&(le=qS(ne.get("smooth"))),y.setShape({smooth:J,stackedOnSmooth:le,smoothMonotone:te,connectNulls:k}),qn(y,e,"areaStyle"),Ze(y).seriesIndex=e.seriesIndex,un(y,j,Z,q)}var ye=function(ie){o._changePolyState(ie)};l.eachItemGraphicEl(function(ie){ie&&(ie.onHoverStateChange=ye)}),this._polyline.onHoverStateChange=ye,this._data=l,this._coordSys=a,this._stackedOnPoints=T,this._points=c,this._step=B,this._valueOrigin=M,e.get("triggerLineEvent")&&(this.packEventData(e,m),y&&this.packEventData(e,y))},t.prototype.packEventData=function(e,i){Ze(i).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,i,r,o){var a=e.getData(),s=ns(a,o);if(this._changePolyState("emphasis"),!(s instanceof Array)&&null!=s&&s>=0){var l=a.getLayout("points"),u=a.getItemGraphicEl(s);if(!u){var h=l[2*s],c=l[2*s+1];if(isNaN(h)||isNaN(c)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(h,c))return;var p=e.get("zlevel"),f=e.get("z");(u=new Uh(a,s)).x=h,u.y=c,u.setZ(p,f);var g=u.getSymbolPath().getTextContent();g&&(g.zlevel=p,g.z=f,g.z2=this._polyline.z2+1),u.__temp=!0,a.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Ot.prototype.highlight.call(this,e,i,r,o)},t.prototype.downplay=function(e,i,r,o){var a=e.getData(),s=ns(a,o);if(this._changePolyState("normal"),null!=s&&s>=0){var l=a.getItemGraphicEl(s);l&&(l.__temp?(a.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Ot.prototype.downplay.call(this,e,i,r,o)},t.prototype._changePolyState=function(e){var i=this._polygon;id(this._polyline,e),i&&id(i,e)},t.prototype._newPolyline=function(e){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new s5({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},t.prototype._newPolygon=function(e,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new HS({shape:{points:e,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},t.prototype._initSymbolLabelAnimation=function(e,i,r){var o,a,s=i.getBaseAxis(),l=s.inverse;"cartesian2d"===i.type?(o=s.isHorizontal(),a=!1):"polar"===i.type&&(o="angle"===s.dim,a=!0);var u=e.hostModel,h=u.get("animationDuration");ze(h)&&(h=h(null));var c=u.get("animationDelay")||0,p=ze(c)?c(null):c;e.eachItemGraphicEl(function(f,g){var m=f;if(m){var x=void 0,b=void 0,S=void 0;if(r)if(a){var M=r,C=i.pointToCoord([f.x,f.y]);o?(x=M.startAngle,b=M.endAngle,S=-C[1]/180*Math.PI):(x=M.r0,b=M.r,S=C[0])}else o?(x=r.x,b=r.x+r.width,S=f.x):(x=r.y+r.height,b=r.y,S=f.y);var D=b===x?0:(S-x)/(b-x);l&&(D=1-D);var k=ze(c)?c(g):h*D+p,R=m.getSymbolPath(),N=R.getTextContent();m.attr({scaleX:0,scaleY:0}),m.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:k}),N&&N.animateFrom({style:{opacity:0}},{duration:300,delay:k}),R.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,i,r){var c,f,g,m,y,x,o=e.getModel("endLabel");if($S(e)){var a=e.getData(),s=this._polyline,l=a.getLayout("points");if(!l)return s.removeTextContent(),void(this._endLabel=null);var u=this._endLabel;u||((u=this._endLabel=new gt({z2:200})).ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var h=function(c){for(var f,g=c.length/2;g>0&&(f=c[2*g-1],isNaN(c[2*g-2])||isNaN(f));g--);return g-1}(l);h>=0&&(ri(s,jn(e,"endLabel"),{inheritColor:r,labelFetcher:e,labelDataIndex:h,defaultText:function(c,p,f){return null!=f?zS(a,f):ql(a,c)},enableTextSetter:!0},(c=o,g=(f=i.getBaseAxis()).isHorizontal(),m=f.inverse,y=g?m?"right":"left":"center",x=g?"middle":m?"top":"bottom",{normal:{align:c.get("align")||y,verticalAlign:c.get("verticalAlign")||x}})),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,i,r,o,a,s,l){var u=this._endLabel,h=this._polyline;if(u){e<1&&null==o.originalX&&(o.originalX=u.x,o.originalY=u.y);var c=r.getLayout("points"),p=r.hostModel,f=p.get("connectNulls"),g=s.get("precision"),m=s.get("distance")||0,y=l.getBaseAxis(),x=y.isHorizontal(),b=y.inverse,S=i.shape,M=b?x?S.x:S.y+S.height:x?S.x+S.width:S.y,C=(x?m:0)*(b?-1:1),T=(x?0:-m)*(b?-1:1),D=x?"x":"y",k=function(j,Z,q){for(var J,te,ne=j.length/2,le="x"===q?0:1,ye=0,ie=-1,he=0;he<ne;he++)if(te=j[2*he+le],!isNaN(te)&&!isNaN(j[2*he+1-le]))if(0!==he){if(J<=Z&&te>=Z||J>=Z&&te<=Z){ie=he;break}ye=he,J=te}else J=te;return{range:[ye,ie],t:(Z-J)/(te-J)}}(c,M,D),R=k.range,N=R[1]-R[0],E=void 0;if(N>=1){if(N>1&&!f){var B=KS(c,R[0]);u.attr({x:B[0]+C,y:B[1]+T}),a&&(E=p.getRawValue(R[0]))}else{(B=h.getPointOn(M,D))&&u.attr({x:B[0]+C,y:B[1]+T});var G=p.getRawValue(R[0]),H=p.getRawValue(R[1]);a&&(E=g1(r,g,G,H,k.t))}o.lastFrameIndex=R[0]}else{var Y=1===e||o.lastFrameIndex>0?R[0]:0;B=KS(c,Y),a&&(E=p.getRawValue(Y)),u.attr({x:B[0]+C,y:B[1]+T})}a&&Sl(u).setLabelText(E)}},t.prototype._doUpdateAnimation=function(e,i,r,o,a,s,l){var u=this._polyline,h=this._polygon,c=e.hostModel,p=function(T,D,k,R,N,E,B,G){for(var H=function(Ht,en){var mn=[];return en.diff(Ht).add(function(vn){mn.push({cmd:"+",idx:vn})}).update(function(vn,yn){mn.push({cmd:"=",idx:yn,idx1:vn})}).remove(function(vn){mn.push({cmd:"-",idx:vn})}).execute(),mn}(T,D),Y=[],j=[],Z=[],q=[],J=[],te=[],ne=[],le=FS(N,D,B),ye=T.getLayout("points")||[],ie=D.getLayout("points")||[],he=0;he<H.length;he++){var xe=H[he],be=!0,ge=void 0,we=void 0;switch(xe.cmd){case"=":var me=ye[ge=2*xe.idx],Ce=ye[ge+1],Pe=ie[we=2*xe.idx1],Ye=ie[we+1];(isNaN(me)||isNaN(Ce))&&(me=Pe,Ce=Ye),Y.push(me,Ce),j.push(Pe,Ye),Z.push(k[ge],k[ge+1]),q.push(R[we],R[we+1]),ne.push(D.getRawIndex(xe.idx1));break;case"+":var Ke=xe.idx,At=le.dataDimsForPoint,nt=N.dataToPoint([D.get(At[0],Ke),D.get(At[1],Ke)]);we=2*Ke,Y.push(nt[0],nt[1]),j.push(ie[we],ie[we+1]);var lt=WS(le,N,D,Ke);Z.push(lt[0],lt[1]),q.push(R[we],R[we+1]),ne.push(D.getRawIndex(Ke));break;case"-":be=!1}be&&(J.push(xe),te.push(te.length))}te.sort(function(Ht,en){return ne[Ht]-ne[en]});var Rt=Y.length,Vt=no(Rt),gn=no(Rt),Tn=no(Rt),Ti=no(Rt),uo=[];for(he=0;he<te.length;he++){var bt=te[he],et=2*he,Xe=2*bt;Vt[et]=Y[Xe],Vt[et+1]=Y[Xe+1],gn[et]=j[Xe],gn[et+1]=j[Xe+1],Tn[et]=Z[Xe],Tn[et+1]=Z[Xe+1],Ti[et]=q[Xe],Ti[et+1]=q[Xe+1],uo[he]=J[bt]}return{current:Vt,next:gn,stackedOnCurrent:Tn,stackedOnNext:Ti,status:uo}}(this._data,e,this._stackedOnPoints,i,this._coordSys,0,this._valueOrigin),f=p.current,g=p.stackedOnCurrent,m=p.next,y=p.stackedOnNext;if(a&&(f=Sa(p.current,r,a,l),g=Sa(p.stackedOnCurrent,r,a,l),m=Sa(p.next,r,a,l),y=Sa(p.stackedOnNext,r,a,l)),ZS(f,m)>3e3||h&&ZS(g,y)>3e3)return u.stopAnimation(),u.setShape({points:m}),void(h&&(h.stopAnimation(),h.setShape({points:m,stackedOnPoints:y})));u.shape.__points=p.current,u.shape.points=f;var x={shape:{points:m}};p.current!==f&&(x.shape.__points=p.next),u.stopAnimation(),vt(u,x,c),h&&(h.setShape({points:f,stackedOnPoints:g}),h.stopAnimation(),vt(h,{shape:{stackedOnPoints:y}},c),u.shape.points!==h.shape.points&&(h.shape.points=u.shape.points));for(var b=[],S=p.status,M=0;M<S.length;M++)if("="===S[M].cmd){var C=e.getItemGraphicEl(S[M].idx1);C&&b.push({el:C,ptIdx:M})}u.animators&&u.animators.length&&u.animators[0].during(function(){h&&h.dirtyShape();for(var T=u.shape.__points,D=0;D<b.length;D++){var k=b[D].el,R=2*b[D].ptIdx;k.x=T[R],k.y=T[R+1],k.markRedraw()}})},t.prototype.remove=function(e){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,a){o.__temp&&(i.remove(o),r.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Ot);function Xh(n,t){return{seriesType:n,plan:El(),reset:function(e){var i=e.getData(),r=e.coordinateSystem,a=t||e.pipelineContext.large;if(r){var s=oe(r.dimensions,function(f){return i.mapDimension(f)}).slice(0,2),l=s.length,u=i.getCalculationInfo("stackResultDimension");Lo(i,s[0])&&(s[0]=u),Lo(i,s[1])&&(s[1]=u);var h=i.getStore(),c=i.getDimensionIndex(s[0]),p=i.getDimensionIndex(s[1]);return l&&{progress:function(f,g){for(var y=a&&no((f.end-f.start)*l),x=[],b=[],S=f.start,M=0;S<f.end;S++){var C=void 0;if(1===l){var T=h.get(c,S);C=r.dataToPoint(T,null,b)}else x[0]=h.get(c,S),x[1]=h.get(p,S),C=r.dataToPoint(x,null,b);a?(y[M++]=C[0],y[M++]=C[1]):g.setItemLayout(S,C.slice())}a&&g.setLayout("points",y)}}}}}}var d5={average:function(n){for(var t=0,e=0,i=0;i<n.length;i++)isNaN(n[i])||(t+=n[i],e++);return 0===e?NaN:t/e},sum:function(n){for(var t=0,e=0;e<n.length;e++)t+=n[e]||0;return t},max:function(n){for(var t=-1/0,e=0;e<n.length;e++)n[e]>t&&(t=n[e]);return isFinite(t)?t:NaN},min:function(n){for(var t=1/0,e=0;e<n.length;e++)n[e]<t&&(t=n[e]);return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},p5=function(n){return Math.round(n.length/2)};function JS(n){return{seriesType:n,reset:function(t,e,i){var r=t.getData(),o=t.get("sampling"),a=t.coordinateSystem,s=r.count();if(s>10&&"cartesian2d"===a.type&&o){var l=a.getBaseAxis(),u=a.getOtherAxis(l),h=l.getExtent(),c=i.getDevicePixelRatio(),p=Math.abs(h[1]-h[0])*(c||1),f=Math.round(s/p);if(isFinite(f)&&f>1){"lttb"===o&&t.setData(r.lttbDownSample(r.mapDimension(u.dim),1/f));var g=void 0;De(o)?g=d5[o]:ze(o)&&(g=o),g&&t.setData(r.downSample(r.mapDimension(u.dim),1/f,g,p5))}}}}}var jh=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.getInitialData=function(e,i){return eo(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e){var i=this.coordinateSystem;if(i&&i.clampData){var r=i.dataToPoint(i.clampData(e)),o=this.getData(),a=o.getLayout("offset"),s=o.getLayout("size");return r[i.getBaseAxis().isHorizontal()?0:1]+=a+s/2,r}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Bt);Bt.registerClass(jh);var f5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.getInitialData=function(){return eo(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>e&&(e=i),e},t.prototype.brushSelector=function(e,i,r){return r.rect(i.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=da(jh.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(jh),g5=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},yp=function(n){function t(e){var i=n.call(this,e)||this;return i.type="sausage",i}return Q(t,n),t.prototype.getDefaultShape=function(){return new g5},t.prototype.buildPath=function(e,i){var r=i.cx,o=i.cy,a=Math.max(i.r0||0,0),s=Math.max(i.r,0),l=.5*(s-a),u=a+l,h=i.startAngle,c=i.endAngle,p=i.clockwise,f=2*Math.PI,g=p?c-h<f:h-c<f;g||(h=c-(p?f:-f));var m=Math.cos(h),y=Math.sin(h),x=Math.cos(c),b=Math.sin(c);g?(e.moveTo(m*a+r,y*a+o),e.arc(m*u+r,y*u+o,l,-Math.PI+h,h,!p)):e.moveTo(m*s+r,y*s+o),e.arc(r,o,s,h,c,!p),e.arc(x*u+r,b*u+o,l,c-2*Math.PI,c-Math.PI,!p),0!==a&&e.arc(r,o,a,c,h,p)},t}(at);function xp(n,t,e){return t*Math.sin(n)*(e?-1:1)}function _p(n,t,e){return t*Math.cos(n)*(e?1:-1)}var yv=Math.max,xv=Math.min,m5=function(n){function t(){var e=n.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return Q(t,n),t.prototype.render=function(e,i,r,o){this._model=e,this._removeOnRenderedListener(r),this._updateDrawMode(e);var a=e.get("coordinateSystem");("cartesian2d"===a||"polar"===a)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,i,r):this._renderNormal(e,i,r,o))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,i){this._progressiveEls=[],this._incrementalRenderLarge(e,i)},t.prototype.eachRendered=function(e){ca(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var i=e.pipelineContext.large;null!=this._isLargeDraw&&i===this._isLargeDraw||(this._isLargeDraw=i,this._clear())},t.prototype._renderNormal=function(e,i,r,o){var a,s=this.group,l=e.getData(),u=this._data,h=e.coordinateSystem,c=h.getBaseAxis();"cartesian2d"===h.type?a=c.isHorizontal():"polar"===h.type&&(a="angle"===c.dim);var p=e.isAnimationEnabled()?e:null,f=function(E,B){var G=E.get("realtimeSort",!0),H=B.getBaseAxis();if(G&&"category"===H.type&&"cartesian2d"===B.type)return{baseAxis:H,otherAxis:B.getOtherAxis(H)}}(e,h);f&&this._enableRealtimeSort(f,l,r);var g=e.get("clip",!0)||f,m=function(E,B){var G=E.getArea&&E.getArea();if(Rs(E,"cartesian2d")){var H=E.getBaseAxis();if("category"!==H.type||!H.onBand){var Y=B.getLayout("bandWidth");H.isHorizontal()?(G.x-=Y,G.width+=2*Y):(G.y-=Y,G.height+=2*Y)}}return G}(h,l);s.removeClipPath();var y=e.get("roundCap",!0),x=e.get("showBackground",!0),b=e.getModel("backgroundStyle"),S=b.get("borderRadius")||0,M=[],C=this._backgroundEls,T=o&&o.isInitSort,D=o&&"changeAxisOrder"===o.type;function k(E){var H,B=bp[h.type](l,E),G=new("polar"===(H=h).type?ti:ht)({shape:uM(a,B,H),silent:!0,z2:0});return G.useStyle(b.getItemStyle()),"cartesian2d"===h.type&&G.setShape("r",S),M[E]=G,G}l.diff(u).add(function(E){var B=l.getItemModel(E),G=bp[h.type](l,E,B);if(x&&k(E),l.hasValue(E)&&iM[h.type](G)){var H=!1;g&&(H=QS[h.type](m,G));var Y=eM[h.type](e,l,E,G,a,p,c.model,!1,y);f&&(Y.forceLabelAnimation=!0),oM(Y,l,E,B,G,e,a,"polar"===h.type),T?Y.attr({shape:G}):f?tM(f,p,Y,G,E,a,!1,!1):Kt(Y,{shape:G},e,E),l.setItemGraphicEl(E,Y),s.add(Y),Y.ignore=H}}).update(function(E,B){var G=l.getItemModel(E),H=bp[h.type](l,E,G);if(x){var Y=void 0;0===C.length?Y=k(B):((Y=C[B]).useStyle(b.getItemStyle()),"cartesian2d"===h.type&&Y.setShape("r",S),M[E]=Y);var j=bp[h.type](l,E);vt(Y,{shape:uM(a,j,h)},p,E)}var Z=u.getItemGraphicEl(B);if(l.hasValue(E)&&iM[h.type](H)){var q=!1;if(g&&(q=QS[h.type](m,H))&&s.remove(Z),Z?Dr(Z):Z=eM[h.type](e,l,E,H,a,p,c.model,!!Z,y),f&&(Z.forceLabelAnimation=!0),D){var J=Z.getTextContent();if(J){var te=Sl(J);null!=te.prevValue&&(te.prevValue=te.value)}}else oM(Z,l,E,G,H,e,a,"polar"===h.type);T?Z.attr({shape:H}):f?tM(f,p,Z,H,E,a,!0,D):vt(Z,{shape:H},e,E,null),l.setItemGraphicEl(E,Z),Z.ignore=q,s.add(Z)}else s.remove(Z)}).remove(function(E){var B=u.getItemGraphicEl(E);B&&ah(B,e,E)}).execute();var R=this._backgroundGroup||(this._backgroundGroup=new He);R.removeAll();for(var N=0;N<M.length;++N)R.add(M[N]);s.add(R),this._backgroundEls=M,this._data=l},t.prototype._renderLarge=function(e,i,r){this._clear(),sM(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,i){this._removeBackground(),sM(i,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var i=e.get("clip",!0)&&vp(e.coordinateSystem,!1,e),r=this.group;i?r.setClipPath(i):r.removeClipPath()},t.prototype._enableRealtimeSort=function(e,i,r){var o=this;if(i.count()){var a=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,e,r),this._isFirstFrame=!1;else{var s=function(l){var u=i.getItemGraphicEl(l),h=u&&u.shape;return h&&Math.abs(a.isHorizontal()?h.height:h.width)||0};this._onRendered=function(){o._updateSortWithinSameData(i,s,a,r)},r.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,i,r){var o=[];return e.each(e.mapDimension(i.dim),function(a,s){var l=r(s);o.push({dataIndex:s,mappedValue:l=l??NaN,ordinalNumber:a})}),o.sort(function(a,s){return s.mappedValue-a.mappedValue}),{ordinalNumbers:oe(o,function(a){return a.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,i,r){for(var o=r.scale,a=e.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,u=o.getOrdinalMeta().categories.length;l<u;++l){var h=e.rawIndexOf(a,o.getRawOrdinalNumber(l)),c=h<0?Number.MIN_VALUE:i(e.indexOfRawIndex(h));if(c>s)return!0;s=c}return!1},t.prototype._isOrderDifferentInView=function(e,i){for(var r=i.scale,o=r.getExtent(),a=Math.max(0,o[0]),s=Math.min(o[1],r.getOrdinalMeta().categories.length-1);a<=s;++a)if(e.ordinalNumbers[a]!==r.getRawOrdinalNumber(a))return!0},t.prototype._updateSortWithinSameData=function(e,i,r,o){if(this._isOrderChangedWithinSameData(e,i,r)){var a=this._dataSort(e,r,i);this._isOrderDifferentInView(a,r)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:a}))}},t.prototype._dispatchInitSort=function(e,i,r){var o=i.baseAxis,a=this._dataSort(e,o,function(s){return e.get(e.mapDimension(i.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:a})},t.prototype.remove=function(e,i){this._clear(this._model),this._removeOnRenderedListener(i)},t.prototype.dispose=function(e,i){this._removeOnRenderedListener(i)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var i=this.group,r=this._data;e&&e.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(o){ah(o,e,Ze(o).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Ot),QS={cartesian2d:function(n,t){var e=t.width<0?-1:1,i=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height);var r=n.x+n.width,o=n.y+n.height,a=yv(t.x,n.x),s=xv(t.x+t.width,r),l=yv(t.y,n.y),u=xv(t.y+t.height,o),h=s<a,c=u<l;return t.x=h&&a>r?s:a,t.y=c&&l>o?u:l,t.width=h?0:s-a,t.height=c?0:u-l,e<0&&(t.x+=t.width,t.width=-t.width),i<0&&(t.y+=t.height,t.height=-t.height),h||c},polar:function(n,t){var e=t.r0<=t.r?1:-1;if(e<0){var i=t.r;t.r=t.r0,t.r0=i}var r=xv(t.r,n.r),o=yv(t.r0,n.r0);t.r=r,t.r0=o;var a=r-o<0;return e<0&&(i=t.r,t.r=t.r0,t.r0=i),a}},eM={cartesian2d:function(n,t,e,i,r,o,a,s,l){var u=new ht({shape:ae({},i),z2:1});return u.__dataIndex=e,u.name="item",o&&(u.shape[r?"height":"width"]=0),u},polar:function(n,t,e,i,r,o,a,s,l){var u=!r&&l?yp:ti,h=new u({shape:i,z2:1});h.name="item";var c,p,f=rM(r);if(h.calculateTextPosition=(c=f,p=u===yp,function(y,x,b){var S=x.position;if(!S||S instanceof Array)return xt(y,x,b);var M=c(S),C=null!=x.distance?x.distance:5,T=this.shape,D=T.cx,k=T.cy,R=T.r,N=T.r0,E=(R+N)/2,B=T.startAngle,G=T.endAngle,H=(B+G)/2,Y=p?Math.abs(R-N)/2:0,j=Math.cos,Z=Math.sin,q=D+R*j(B),J=k+R*Z(B),te="left",ne="top";switch(M){case"startArc":q=D+(N-C)*j(H),J=k+(N-C)*Z(H),te="center",ne="top";break;case"insideStartArc":q=D+(N+C)*j(H),J=k+(N+C)*Z(H),te="center",ne="bottom";break;case"startAngle":q=D+E*j(B)+xp(B,C+Y,!1),J=k+E*Z(B)+_p(B,C+Y,!1),te="right",ne="middle";break;case"insideStartAngle":q=D+E*j(B)+xp(B,-C+Y,!1),J=k+E*Z(B)+_p(B,-C+Y,!1),te="left",ne="middle";break;case"middle":q=D+E*j(H),J=k+E*Z(H),te="center",ne="middle";break;case"endArc":q=D+(R+C)*j(H),J=k+(R+C)*Z(H),te="center",ne="bottom";break;case"insideEndArc":q=D+(R-C)*j(H),J=k+(R-C)*Z(H),te="center",ne="top";break;case"endAngle":q=D+E*j(G)+xp(G,C+Y,!0),J=k+E*Z(G)+_p(G,C+Y,!0),te="left",ne="middle";break;case"insideEndAngle":q=D+E*j(G)+xp(G,-C+Y,!0),J=k+E*Z(G)+_p(G,-C+Y,!0),te="right",ne="middle";break;default:return xt(y,x,b)}return(y=y||{}).x=q,y.y=J,y.align=te,y.verticalAlign=ne,y}),o){var g=r?"r":"endAngle",m={};h.shape[g]=r?0:i.startAngle,m[g]=i[g],(s?vt:Kt)(h,{shape:m},o)}return h}};function tM(n,t,e,i,r,o,a,s){var l,u;o?(u={x:i.x,width:i.width},l={y:i.y,height:i.height}):(u={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(a?vt:Kt)(e,{shape:l},t,r,null),(a?vt:Kt)(e,{shape:u},t?n.baseAxis.model:null,r)}function nM(n,t){for(var e=0;e<t.length;e++)if(!isFinite(n[t[e]]))return!0;return!1}var v5=["x","y","width","height"],y5=["cx","cy","r","startAngle","endAngle"],iM={cartesian2d:function(n){return!nM(n,v5)},polar:function(n){return!nM(n,y5)}},bp={cartesian2d:function(n,t,e){var i=n.getItemLayout(t),r=e?function(s,l){var u=s.get(["itemStyle","borderColor"]);if(!u||"none"===u)return 0;var h=s.get(["itemStyle","borderWidth"])||0,c=isNaN(l.width)?Number.MAX_VALUE:Math.abs(l.width),p=isNaN(l.height)?Number.MAX_VALUE:Math.abs(l.height);return Math.min(h,c,p)}(e,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(n,t,e){var i=n.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function rM(n){return function(t){var e=t?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+e;default:return i}}}(n)}function oM(n,t,e,i,r,o,a,s){var l=t.getItemVisual(e,"style");s||n.setShape("r",i.get(["itemStyle","borderRadius"])||0),n.useStyle(l);var u=i.getShallow("cursor");u&&n.attr("cursor",u);var h=s?a?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":a?r.height>=0?"bottom":"top":r.width>=0?"right":"left",c=jn(i);ri(n,c,{labelFetcher:o,labelDataIndex:e,defaultText:ql(o.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var p=n.getTextContent();if(s&&p){var f=i.get(["label","position"]);n.textConfig.inside="middle"===f||null,function(m,y,x,b){if(ot(b))m.setTextConfig({rotation:b});else if(ce(y))m.setTextConfig({rotation:0});else{var S,M=m.shape,C=M.clockwise?M.startAngle:M.endAngle,T=M.clockwise?M.endAngle:M.startAngle,D=(C+T)/2,k=x(y);switch(k){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":S=D;break;case"startAngle":case"insideStartAngle":S=C;break;case"endAngle":case"insideEndAngle":S=T;break;default:return void m.setTextConfig({rotation:0})}var R=1.5*Math.PI-S;"middle"===k&&R>Math.PI/2&&R<1.5*Math.PI&&(R-=Math.PI),m.setTextConfig({rotation:R})}}(n,"outside"===f?h:f,rM(a),i.get(["label","rotate"]))}Fx(p,c,o.getRawValue(e),function(m){return zS(t,m)});var m,g=i.getModel(["emphasis"]);un(n,g.get("focus"),g.get("blurScope"),g.get("disabled")),qn(n,i),null!=(m=r).startAngle&&null!=m.endAngle&&m.startAngle===m.endAngle&&(n.style.fill="none",n.style.stroke="none",V(n.states,function(m){m.style&&(m.style.fill=m.style.stroke="none")}))}var x5=function(){},aM=function(n){function t(e){var i=n.call(this,e)||this;return i.type="largeBar",i}return Q(t,n),t.prototype.getDefaultShape=function(){return new x5},t.prototype.buildPath=function(e,i){for(var r=i.points,o=this.baseDimIdx,a=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,h=0;h<r.length;h+=3)l[o]=u,l[a]=r[h+2],s[o]=r[h+o],s[a]=r[h+a],e.rect(s[0],s[1],l[0],l[1])},t}(at);function sM(n,t,e,i){var r=n.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=n.getModel("backgroundStyle"),u=r.getLayout("largeBackgroundPoints");if(u){var h=new aM({shape:{points:u},incremental:!!i,silent:!0,z2:0});h.baseDimIdx=o,h.largeDataIndices=a,h.barWidth=s,h.useStyle(l.getItemStyle()),t.add(h),e&&e.push(h)}var c=new aM({shape:{points:r.getLayout("largePoints")},incremental:!!i,z2:1});c.baseDimIdx=o,c.largeDataIndices=a,c.barWidth=s,t.add(c),c.useStyle(r.getVisual("style")),Ze(c).seriesIndex=n.seriesIndex,n.get("silent")||(c.on("mousedown",lM),c.on("mousemove",lM)),e&&e.push(c)}var lM=Rd(function(n){var t=function(e,i,r){for(var o=e.baseDimIdx,a=1-o,s=e.shape.points,l=e.largeDataIndices,u=[],h=[],c=e.barWidth,p=0,f=s.length/3;p<f;p++){var g=3*p;if(h[o]=c,h[a]=s[g+2],u[o]=s[g+o],u[a]=s[g+a],h[a]<0&&(u[a]+=h[a],h[a]=-h[a]),i>=u[0]&&i<=u[0]+h[0]&&r>=u[1]&&r<=u[1]+h[1])return l[p]}return-1}(this,n.offsetX,n.offsetY);Ze(this).dataIndex=t>=0?t:null},30,!1);function uM(n,t,e){if(Rs(e,"cartesian2d")){var i=t,r=e.getArea();return{x:n?i.x:r.x,y:n?r.y:i.y,width:n?i.width:r.width,height:n?r.height:i.height}}var o=t;return{cx:(r=e.getArea()).cx,cy:r.cy,r0:n?r.r0:o.r0,r:n?r.r:o.r,startAngle:n?o.startAngle:0,endAngle:n?o.endAngle:2*Math.PI}}var wp=2*Math.PI,hM=Math.PI/180;function cM(n,t){return In(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function dM(n,t){var e=cM(n,t),i=n.get("center"),r=n.get("radius");ce(r)||(r=[0,r]),ce(i)||(i=[i,i]);var o=Te(e.width,t.getWidth()),a=Te(e.height,t.getHeight()),s=Math.min(o,a);return{cx:Te(i[0],o)+e.x,cy:Te(i[1],a)+e.y,r0:Te(r[0],s/2),r:Te(r[1],s/2)}}function _5(n,t,e){t.eachSeriesByType(n,function(i){var r=i.getData(),o=r.mapDimension("value"),a=cM(i,e),s=dM(i,e),l=s.cx,u=s.cy,h=s.r,c=s.r0,p=-i.get("startAngle")*hM,f=i.get("minAngle")*hM,g=0;r.each(o,function(N){!isNaN(N)&&g++});var m=r.getSum(o),y=Math.PI/(m||g)*2,x=i.get("clockwise"),b=i.get("roseType"),S=i.get("stillShowZeroSum"),M=r.getDataExtent(o);M[0]=0;var C=wp,T=0,D=p,k=x?1:-1;if(r.setLayout({viewRect:a,r:h}),r.each(o,function(N,E){var B;if(isNaN(N))r.setItemLayout(E,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:l,cy:u,r0:c,r:b?NaN:h});else{(B="area"!==b?0===m&&S?y:N*y:wp/g)<f?(B=f,C-=f):T+=N;var G=D+k*B;r.setItemLayout(E,{angle:B,startAngle:D,endAngle:G,clockwise:x,cx:l,cy:u,r0:c,r:b?kt(N,M,[c,h]):h}),D=G}}),C<wp&&g)if(C<=.001){var R=wp/g;r.each(o,function(N,E){if(!isNaN(N)){var B=r.getItemLayout(E);B.angle=R,B.startAngle=p+k*E*R,B.endAngle=p+k*(E+1)*R}})}else y=C/T,D=p,r.each(o,function(N,E){if(!isNaN(N)){var B=r.getItemLayout(E),G=B.angle===f?f:N*y;B.startAngle=D,B.endAngle=D+k*G,D+=k*G}})})}function Zh(n){return{seriesType:n,reset:function(t,e){var i=e.findComponents({mainType:"legend"});if(i&&i.length){var r=t.getData();r.filterSelf(function(o){for(var a=r.getName(o),s=0;s<i.length;s++)if(!i[s].isSelected(a))return!1;return!0})}}}}var b5=Math.PI/180;function pM(n,t,e,i,r,o,a,s,l,u){if(!(n.length<2)){for(var h=n.length,c=0;c<h;c++)"outer"===n[c].position&&"labelLine"===n[c].labelAlignTo&&(n[c].linePoints[1][0]+=n[c].label.x-u,n[c].label.x=u);lS(n,l,l+a)&&function(g){for(var m={list:[],maxY:0},y={list:[],maxY:0},x=0;x<g.length;x++)if("none"===g[x].labelAlignTo){var b=g[x],S=b.label.y>e?y:m,M=Math.abs(b.label.y-e);if(M>=S.maxY){var C=b.label.x-t-b.len2*r,T=i+b.len,D=Math.abs(C)<T?Math.sqrt(M*M/(1-C*C/T/T)):T;S.rB=D,S.maxY=M}S.list.push(b)}f(m),f(y)}(n)}function f(g){for(var m=g.rB,y=m*m,x=0;x<g.list.length;x++){var b=g.list[x],S=Math.abs(b.label.y-e),M=i+b.len,C=M*M,T=Math.sqrt((1-Math.abs(S*S/y))*C),D=t+(T+b.len2)*r;fM(b,b.targetTextWidth-(D-b.label.x)*r,!0),b.label.x=D}}}function fM(n,t,e){if(void 0===e&&(e=!1),null==n.labelStyleWidth){var i=n.label,r=i.style,o=n.rect,a=r.backgroundColor,s=r.padding,l=s?s[1]+s[3]:0,u=r.overflow,h=o.width+(a?0:l);if(t<h||e){var c=o.height;if(u&&u.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",t-l);var p=i.getBoundingRect();i.setStyle("width",Math.ceil(p.width)),i.setStyle("backgroundColor",a)}else{var f=t-l;i.setStyle("width",t<h?f:e?f>n.unconstrainedWidth?null:f:null)}var m=i.getBoundingRect();o.width=m.width,o.height=m.height+((i.style.margin||0)+2.1),o.y-=(o.height-c)/2}}}function _v(n){return"center"===n.position}function Kl(n,t,e){var i=n.get("borderRadius");if(null==i)return e?{cornerRadius:0}:null;ce(i)||(i=[i,i,i,i]);var r=Math.abs(t.r||0-t.r0||0);return{cornerRadius:oe(i,function(o){return Tt(o,r)})}}var S5=function(n){function t(e,i,r){var o=n.call(this)||this;o.z2=2;var a=new gt;return o.setTextContent(a),o.updateData(e,i,r,!0),o}return Q(t,n),t.prototype.updateData=function(e,i,r,o){var a=this,s=e.hostModel,l=e.getItemModel(i),u=l.getModel("emphasis"),h=e.getItemLayout(i),c=ae(Kl(l.getModel("itemStyle"),h,!0),h);if(isNaN(c.startAngle))a.setShape(c);else{if(o){a.setShape(c);var p=s.getShallow("animationType");s.ecModel.ssr?(Kt(a,{scaleX:0,scaleY:0},s,{dataIndex:i,isFrom:!0}),a.originX=c.cx,a.originY=c.cy):"scale"===p?(a.shape.r=h.r0,Kt(a,{shape:{r:h.r}},s,i)):null!=r?(a.setShape({startAngle:r,endAngle:r}),Kt(a,{shape:{startAngle:h.startAngle,endAngle:h.endAngle}},s,i)):(a.shape.endAngle=h.startAngle,vt(a,{shape:{endAngle:h.endAngle}},s,i))}else Dr(a),vt(a,{shape:c},s,i);a.useStyle(e.getItemVisual(i,"style")),qn(a,l);var f=(h.startAngle+h.endAngle)/2,g=s.get("selectedOffset"),m=Math.cos(f)*g,y=Math.sin(f)*g,x=l.getShallow("cursor");x&&a.attr("cursor",x),this._updateLabel(s,e,i),a.ensureState("emphasis").shape=ae({r:h.r+(u.get("scale")&&u.get("scaleSize")||0)},Kl(u.getModel("itemStyle"),h)),ae(a.ensureState("select"),{x:m,y,shape:Kl(l.getModel(["select","itemStyle"]),h)}),ae(a.ensureState("blur"),{shape:Kl(l.getModel(["blur","itemStyle"]),h)});var b=a.getTextGuideLine(),S=a.getTextContent();b&&ae(b.ensureState("select"),{x:m,y}),ae(S.ensureState("select"),{x:m,y}),un(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))}},t.prototype._updateLabel=function(e,i,r){var o=this,a=i.getItemModel(r),s=a.getModel("labelLine"),l=i.getItemVisual(r,"style"),u=l&&l.fill,h=l&&l.opacity;ri(o,jn(a),{labelFetcher:i.hostModel,labelDataIndex:r,inheritColor:u,defaultOpacity:h,defaultText:e.getFormattedLabel(r,"normal")||i.getName(r)});var c=o.getTextContent();o.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var p=e.get(["label","position"]);if("outside"!==p&&"outer"!==p)o.removeTextGuideLine();else{var f=this.getTextGuideLine();f||(f=new ii,this.setTextGuideLine(f)),Qm(this,ev(a),{stroke:u,opacity:it(s.get(["lineStyle","opacity"]),h,1)})}},t}(ti),M5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return Q(t,n),t.prototype.render=function(e,i,r,o){var a,s=e.getData(),l=this._data,u=this.group;if(!l&&s.count()>0){for(var h=s.getItemLayout(0),c=1;isNaN(h&&h.startAngle)&&c<s.count();++c)h=s.getItemLayout(c);h&&(a=h.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),0===s.count()&&e.get("showEmptyCircle")){var p=new ti({shape:dM(e,r)});p.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,u.add(p)}s.diff(l).add(function(f){var g=new S5(s,f,a);s.setItemGraphicEl(f,g),u.add(g)}).update(function(f,g){var m=l.getItemGraphicEl(g);m.updateData(s,f,a),m.off("click"),u.add(m),s.setItemGraphicEl(f,m)}).remove(function(f){ah(l.getItemGraphicEl(f),e,f)}).execute(),function w5(n){var t,e,i=n.getData(),r=[],o=!1,a=(n.get("minShowLabelAngle")||0)*b5,s=i.getLayout("viewRect"),l=i.getLayout("r"),u=s.width,h=s.x,c=s.y,p=s.height;function f(C){C.ignore=!0}i.each(function(C){var T=i.getItemGraphicEl(C),D=T.shape,k=T.getTextContent(),R=T.getTextGuideLine(),N=i.getItemModel(C),E=N.getModel("label"),B=E.get("position")||N.get(["emphasis","label","position"]),G=E.get("distanceToLabelLine"),H=E.get("alignTo"),Y=Te(E.get("edgeDistance"),u),j=E.get("bleedMargin"),Z=N.getModel("labelLine"),q=Z.get("length");q=Te(q,u);var J=Z.get("length2");if(J=Te(J,u),Math.abs(D.endAngle-D.startAngle)<a)return V(k.states,f),void(k.ignore=!0);if(function(gn){if(!gn.ignore)return!0;for(var Tn in gn.states)if(!1===gn.states[Tn].ignore)return!0;return!1}(k)){var te,ne,le,ye,ie=(D.startAngle+D.endAngle)/2,he=Math.cos(ie),xe=Math.sin(ie);t=D.cx,e=D.cy;var be="inside"===B||"inner"===B;if("center"===B)te=D.cx,ne=D.cy,ye="center";else{var ge=(be?(D.r+D.r0)/2*he:D.r*he)+t,we=(be?(D.r+D.r0)/2*xe:D.r*xe)+e;if(te=ge+3*he,ne=we+3*xe,!be){var me=ge+he*(q+l-D.r),Ce=we+xe*(q+l-D.r),Pe=me+(he<0?-1:1)*J;te="edge"===H?he<0?h+Y:h+u-Y:Pe+(he<0?-G:G),ne=Ce,le=[[ge,we],[me,Ce],[Pe,Ce]]}ye=be?"center":"edge"===H?he>0?"right":"left":he>0?"left":"right"}var Ye=Math.PI,Ke=0,At=E.get("rotate");if(ot(At))Ke=At*(Ye/180);else if("center"===B)Ke=0;else if("radial"===At||!0===At)Ke=he<0?-ie+Ye:-ie;else if("tangential"===At&&"outside"!==B&&"outer"!==B){var nt=Math.atan2(he,xe);nt<0&&(nt=2*Ye+nt),xe>0&&(nt=Ye+nt),Ke=nt-Ye}if(o=!!Ke,k.x=te,k.y=ne,k.rotation=Ke,k.setStyle({verticalAlign:"middle"}),be){k.setStyle({align:ye});var lt=k.states.select;lt&&(lt.x+=k.x,lt.y+=k.y)}else{var Rt=k.getBoundingRect().clone();Rt.applyTransform(k.getComputedTransform());var Vt=(k.style.margin||0)+2.1;Rt.y-=Vt/2,Rt.height+=Vt,r.push({label:k,labelLine:R,position:B,len:q,len2:J,minTurnAngle:Z.get("minTurnAngle"),maxSurfaceAngle:Z.get("maxSurfaceAngle"),surfaceNormal:new X(he,xe),linePoints:le,textAlign:ye,labelDistance:G,labelAlignTo:H,edgeDistance:Y,bleedMargin:j,rect:Rt,unconstrainedWidth:Rt.width,labelStyleWidth:k.style.width})}T.setTextConfig({inside:be})}}),!o&&n.get("avoidLabelOverlap")&&function(C,T,D,k,R,N,E,B){for(var G=[],H=[],Y=Number.MAX_VALUE,j=-Number.MAX_VALUE,Z=0;Z<C.length;Z++){var q=C[Z].label;_v(C[Z])||(q.x<T?(Y=Math.min(Y,q.x),G.push(C[Z])):(j=Math.max(j,q.x),H.push(C[Z])))}for(Z=0;Z<C.length;Z++)if(!_v(ne=C[Z])&&ne.linePoints){if(null!=ne.labelStyleWidth)continue;q=ne.label;var te,J=ne.linePoints;ne.targetTextWidth=te="edge"===ne.labelAlignTo?q.x<T?J[2][0]-ne.labelDistance-E-ne.edgeDistance:E+R-ne.edgeDistance-J[2][0]-ne.labelDistance:"labelLine"===ne.labelAlignTo?q.x<T?Y-E-ne.bleedMargin:E+R-j-ne.bleedMargin:q.x<T?q.x-E-ne.bleedMargin:E+R-q.x-ne.bleedMargin,fM(ne,te)}for(pM(H,T,D,k,1,0,N,0,B,j),pM(G,T,D,k,-1,0,N,0,B,Y),Z=0;Z<C.length;Z++){var ne;if(!_v(ne=C[Z])&&ne.linePoints){var ye=(q=ne.label).style.padding,xe=ne.rect.width+(q.style.backgroundColor?0:ye?ye[1]+ye[3]:0),be=(J=ne.linePoints)[1][0]-J[2][0];"edge"===ne.labelAlignTo?J[2][0]=q.x<T?E+ne.edgeDistance+xe+ne.labelDistance:E+R-ne.edgeDistance-xe-ne.labelDistance:(J[2][0]=q.x<T?q.x+ne.labelDistance:q.x-ne.labelDistance,J[1][0]=J[2][0]+be),J[1][1]=J[2][1]=q.y}}}(r,t,e,l,u,p,h,c);for(var g=0;g<r.length;g++){var m=r[g],y=m.label,x=m.labelLine,b=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:m.textAlign}),b&&(V(y.states,f),y.ignore=!0);var S=y.states.select;S&&(S.x+=y.x,S.y+=y.y)}if(x){var M=m.linePoints;b||!M?(V(x.states,f),x.ignore=!0):(rS(M,m.minTurnAngle),VP(M,m.surfaceNormal,m.maxSurfaceAngle),x.setShape({points:M}),y.__hostTarget.textGuideLineConfig={anchor:new X(M[0][0],M[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=s)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,i){var r=i.getData().getItemLayout(0);if(r){var o=e[0]-r.cx,a=e[1]-r.cy,s=Math.sqrt(o*o+a*a);return s<=r.r&&s>=r.r0}},t.type="pie",t}(Ot);function $l(n,t,e){t=ce(t)&&{coordDimensions:t}||ae({encodeDefine:n.getEncode()},t);var i=n.getSource(),r=Ul(i,t).dimensions,o=new ai(r,n);return o.initData(i,e),o}var qh=function(){function n(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return n.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},n.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},n.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},n.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},n}(),I5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new qh(F(this.getData,this),F(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return $l(this,{coordDimensions:["value"],encodeDefaulter:We(Ug,this)})},t.prototype.getDataParams=function(e){var i=this.getData(),r=n.prototype.getDataParams.call(this,e),o=[];return i.each(i.mapDimension("value"),function(a){o.push(a)}),r.percent=i1(o,e,i.hostModel.get("percentPrecision")),r.$vars.push("percent"),r},t.prototype._defaultLabelLine=function(e){ts(e,"labelLine",["show"]);var i=e.labelLine,r=e.emphasis.labelLine;i.show=i.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Bt),C5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return Q(t,n),t.prototype.getInitialData=function(e,i){return eo(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,i,r){return r.point(i.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Bt),T5=function(){},D5=function(n){function t(e){var i=n.call(this,e)||this;return i._off=0,i.hoverDataIdx=-1,i}return Q(t,n),t.prototype.getDefaultShape=function(){return new T5},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,i){var r,o=i.points,a=i.size,s=this.symbolProxy,l=s.shape,u=e.getContext?e.getContext():e,c=this.softClipShape;if(u&&a[0]<4)this._ctx=u;else{for(this._ctx=null,r=this._off;r<o.length;){var p=o[r++],f=o[r++];isNaN(p)||isNaN(f)||c&&!c.contain(p,f)||(l.x=p-a[0]/2,l.y=f-a[1]/2,l.width=a[0],l.height=a[1],s.buildPath(e,l,!0))}this.incremental&&(this._off=r,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,i=this.shape,r=i.points,o=i.size,a=this._ctx,s=this.softClipShape;if(a){for(e=this._off;e<r.length;){var l=r[e++],u=r[e++];isNaN(l)||isNaN(u)||s&&!s.contain(l,u)||a.fillRect(l-o[0]/2,u-o[1]/2,o[0],o[1])}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,i){for(var r=this.shape,o=r.points,a=r.size,s=Math.max(a[0],4),l=Math.max(a[1],4),u=o.length/2-1;u>=0;u--){var h=2*u,c=o[h]-s/2,p=o[h+1]-l/2;if(e>=c&&i>=p&&e<=c+s&&i<=p+l)return u}return-1},t.prototype.contain=function(e,i){var r=this.transformCoordToLocal(e,i);return this.getBoundingRect().contain(e=r[0],i=r[1])?(this.hoverDataIdx=this.findDataIndex(e,i))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var i=this.shape,r=i.points,o=i.size,a=o[0],s=o[1],l=1/0,u=1/0,h=-1/0,c=-1/0,p=0;p<r.length;){var f=r[p++],g=r[p++];l=Math.min(f,l),h=Math.max(f,h),u=Math.min(g,u),c=Math.max(g,c)}e=this._rect=new ue(l-a/2,u-s/2,h-l+a,c-u+s)}return e},t}(at),A5=function(){function n(){this.group=new He}return n.prototype.updateData=function(t,e){this._clear();var i=this._create();i.setShape({points:t.getLayout("points")}),this._setCommon(i,t,e)},n.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(i){null!=i.startIndex&&(e=new Float32Array(e.buffer,4*i.startIndex*2,2*(i.endIndex-i.startIndex))),i.setShape("points",e),i.reset()})},n.prototype.incrementalPrepareUpdate=function(t){this._clear()},n.prototype.incrementalUpdate=function(t,e,i){var r=this._newAdded[0],o=e.getLayout("points"),a=r&&r.shape.points;if(a&&a.length<2e4){var s=a.length,l=new Float32Array(s+o.length);l.set(a),l.set(o,s),r.endIndex=t.end,r.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:o}),this._setCommon(u,e,i)}},n.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},n.prototype._create=function(){var t=new D5({cursor:"default"});return this.group.add(t),this._newAdded.push(t),t},n.prototype._setCommon=function(t,e,i){var r=e.hostModel;i=i||{};var o=e.getVisual("symbolSize");t.setShape("size",o instanceof Array?o:[o,o]),t.softClipShape=i.clipShape||null,t.symbolProxy=pn(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var a=t.shape.size[0]<4;t.useStyle(r.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var s=e.getVisual("style"),l=s&&s.fill;l&&t.setColor(l);var u=Ze(t);u.seriesIndex=r.seriesIndex,t.on("mousemove",function(h){u.dataIndex=null;var c=t.hoverDataIdx;c>=0&&(u.dataIndex=c+(t.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),k5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r){var o=e.getData();this._updateSymbolDraw(o,e).updateData(o,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,i,r){var o=e.getData();this._updateSymbolDraw(o,e).incrementalPrepareUpdate(o),this._finished=!1},t.prototype.incrementalRender=function(e,i,r){this._symbolDraw.incrementalUpdate(e,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=e.end===i.getData().count()},t.prototype.updateTransform=function(e,i,r){var o=e.getData();if(this.group.dirty(),!this._finished||o.count()>1e4)return{update:!0};var a=Xh("").reset(e,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var i=e.coordinateSystem,r=i&&i.getArea&&i.getArea();return e.get("clip",!0)?r:null},t.prototype._updateSymbolDraw=function(e,i){var r=this._symbolDraw,o=i.pipelineContext.large;return r&&o===this._isLargeDraw||(r&&r.remove(),r=this._symbolDraw=o?new A5:new Yh,this._isLargeDraw=o,this.group.removeAll()),this.group.add(r.group),r},t.prototype.remove=function(e,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(Ot),L5=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(st),bv=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Mn).models[0]},t.type="cartesian2dAxis",t}(st);Nt(bv,Xl);var gM={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},P5=qe({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},gM),wv=qe({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},gM),mM={category:P5,value:wv,time:qe({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},wv),log:Ee({logBase:10},wv)},O5={value:1,category:1,time:1,log:1};function Jl(n,t,e,i){V(O5,function(r,o){var a=qe(qe({},mM[o],!0),i,!0),s=function(l){function u(){var h=null!==l&&l.apply(this,arguments)||this;return h.type=t+"Axis."+o,h}return Q(u,l),u.prototype.mergeDefaultAndTheme=function(h,c){var p=gh(this),f=p?Tl(h):{};qe(h,c.getTheme().get(o+"Axis")),qe(h,this.getDefaultOption()),h.type=vM(h),p&&pa(h,f,p)},u.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Wm.createByAxisModel(this))},u.prototype.getCategories=function(h){var c=this.option;if("category"===c.type)return h?c.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+o,u.defaultOption=a,u}(e);n.registerComponentModel(s)}),n.registerSubTypeDefaulter(t+"Axis",vM)}function vM(n){return n.type||(n.data?"category":"value")}var R5=function(){function n(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return n.prototype.getAxis=function(t){return this._axes[t]},n.prototype.getAxes=function(){return oe(this._dimList,function(t){return this._axes[t]},this)},n.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),dt(this.getAxes(),function(e){return e.scale.type===t})},n.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},n}(),Sv=["x","y"];function yM(n){return"interval"===n.type||"time"===n.type}var N5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=Sv,e}return Q(t,n),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,i=this.getAxis("y").scale;if(yM(e)&&yM(i)){var r=e.getExtent(),o=i.getExtent(),a=this.dataToPoint([r[0],o[0]]),s=this.dataToPoint([r[1],o[1]]),l=r[1]-r[0],u=o[1]-o[0];if(l&&u){var h=(s[0]-a[0])/l,c=(s[1]-a[1])/u,g=this._transform=[h,0,0,c,a[0]-r[0]*h,a[1]-o[0]*c];this._invTransform=wo([],g)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(e[0]))&&r.contain(r.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,i){var r=this.dataToPoint(e),o=this.dataToPoint(i),a=this.getArea(),s=new ue(r[0],r[1],o[0]-r[0],o[1]-r[1]);return a.intersect(s)},t.prototype.dataToPoint=function(e,i,r){r=r||[];var o=e[0],a=e[1];if(this._transform&&null!=o&&isFinite(o)&&null!=a&&isFinite(a))return Zt(r,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(o,i)),r[1]=l.toGlobalCoord(l.dataToCoord(a,i)),r},t.prototype.clampData=function(e,i){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,a=r.getExtent(),s=o.getExtent(),l=r.parse(e[0]),u=o.parse(e[1]);return(i=i||[])[0]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),i[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),i},t.prototype.pointToData=function(e,i){var r=[];if(this._invTransform)return Zt(r,e,this._invTransform);var o=this.getAxis("x"),a=this.getAxis("y");return r[0]=o.coordToData(o.toLocalCoord(e[0]),i),r[1]=a.coordToData(a.toLocalCoord(e[1]),i),r},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),r=Math.min(e[0],e[1]),o=Math.min(i[0],i[1]),a=Math.max(e[0],e[1])-r,s=Math.max(i[0],i[1])-o;return new ue(r,o,a,s)},t}(R5),E5=function(n){function t(e,i,r,o,a){var s=n.call(this,e,i,r)||this;return s.index=0,s.type=o||"value",s.position=a||"bottom",s}return Q(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),e&&i[0]>i[1]&&i.reverse(),i},t.prototype.pointToData=function(e,i){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),i)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(sr);function Mv(n,t,e){e=e||{};var i=n.coordinateSystem,r=t.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,u=r.dim,h=i.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],p={left:0,right:1,top:0,bottom:1,onZero:2},f=t.get("offset")||0,g="x"===u?[c[2]-f,c[3]+f]:[c[0]-f,c[1]+f];if(a){var m=a.toGlobalCoord(a.dataToCoord(0));g[p.onZero]=Math.max(Math.min(m,g[1]),g[0])}o.position=["y"===u?g[p[l]]:c[0],"x"===u?g[p[l]]:c[3]],o.rotation=Math.PI/2*("x"===u?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?g[p[s]]-g[p.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),_e(e.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var y=t.get(["axisLabel","rotate"]);return o.labelRotate="top"===l?-y:y,o.z2=1,o}function xM(n){return"cartesian2d"===n.get("coordinateSystem")}function _M(n){var t={xAxisModel:null,yAxisModel:null};return V(t,function(e,i){var r=i.replace(/Model$/,""),o=n.getReferringComponents(r,Mn).models[0];t[i]=o}),t}var Iv=Math.log;function bM(n,t,e){var i=Po.prototype,r=i.getTicks.call(e),o=i.getTicks.call(e,!0),a=r.length-1,s=i.getInterval.call(e),l=Bw(n,t),u=l.extent,h=l.fixMin,c=l.fixMax;if("log"===n.type){var p=Iv(n.base);u=[Iv(u[0])/p,Iv(u[1])/p]}n.setExtent(u[0],u[1]),n.calcNiceExtent({splitNumber:a,fixMin:h,fixMax:c});var f=i.getExtent.call(n);h&&(u[0]=f[0]),c&&(u[1]=f[1]);var g=i.getInterval.call(n),m=u[0],y=u[1];if(h&&c)g=(y-m)/a;else if(h)for(y=u[0]+g*a;y<u[1]&&isFinite(y)&&isFinite(u[1]);)g=Hm(g),y=u[0]+g*a;else if(c)for(m=u[1]-g*a;m>u[0]&&isFinite(m)&&isFinite(u[0]);)g=Hm(g),m=u[1]-g*a;else{n.getTicks().length-1>a&&(g=Hm(g));var x=g*a;(m=an((y=Math.ceil(u[1]/g)*g)-x))<0&&u[0]>=0?(m=0,y=an(x)):y>0&&u[1]<=0&&(y=0,m=-an(x))}var b=(r[0].value-o[0].value)/s,S=(r[a].value-o[a].value)/s;i.setExtent.call(n,m+g*b,y+g*S),i.setInterval.call(n,g),(b||S)&&i.setNiceExtent.call(n,m+g,y-g)}var z5=function(){function n(t,e,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Sv,this._initCartesian(t,e,i),this.model=t}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(t,e){var i=this._axesMap;function r(a){var s,l=tt(a),u=l.length;if(u){for(var h=[],c=u-1;c>=0;c--){var p=a[+l[c]],f=p.model,g=p.scale;Gm(g)&&f.get("alignTicks")&&null==f.get("interval")?h.push(p):(Ds(g,f),Gm(g)&&(s=p))}h.length&&(s||Ds((s=h.pop()).scale,s.model),V(h,function(m){bM(m.scale,m.model,s.scale)}))}}this._updateScale(t,this.model),r(i.x),r(i.y);var o={};V(i.x,function(a){wM(i,"y",a,o)}),V(i.y,function(a){wM(i,"x",a,o)}),this.resize(this.model,e)},n.prototype.resize=function(t,e,i){var r=t.getBoxLayoutParams(),o=!i&&t.get("containLabel"),a=In(r,{width:e.getWidth(),height:e.getHeight()});this._rect=a;var s=this._axesList;function l(){V(s,function(u){var f,g,m,y,h=u.isHorizontal(),c=h?[0,a.width]:[0,a.height],p=u.inverse?1:0;u.setExtent(c[p],c[1-p]),g=h?a.x:a.y,m=(f=u).getExtent(),y=m[0]+m[1],f.toGlobalCoord="x"===f.dim?function(x){return x+g}:function(x){return y-x+g},f.toLocalCoord="x"===f.dim?function(x){return x-g}:function(x){return y-x+g}})}l(),o&&(V(s,function(u){if(!u.model.get(["axisLabel","inside"])){var h=function(f){var m=f.scale;if(f.model.get(["axisLabel","show"])&&!m.isBlank()){var y,x,b=m.getExtent();x=m instanceof ip?m.count():(y=m.getTicks()).length;var S,M=f.getLabelModel(),C=zh(f),T=1;x>40&&(T=Math.ceil(x/40));for(var D=0;D<x;D+=T){var k=C(y?y[D]:{value:b[0]+D},D),R=wP(M.getTextRect(k),M.get("rotate")||0);S?S.union(R):S=R}return S}}(u);if(h){var c=u.isHorizontal()?"height":"width",p=u.model.get(["axisLabel","margin"]);a[c]-=h[c]+p,"top"===u.position?a.y+=h.height+p:"left"===u.position&&(a.x+=h.width+p)}}}),l()),V(this._coordsList,function(u){u.calcAffineTransform()})},n.prototype.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i)return i[e||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];Oe(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===t||o[r].getAxis("y").index===e)return o[r]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(t,e,i){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(t,e,i){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(t){var e,i,r=t.seriesModel,o=t.xAxisModel||r&&r.getReferringComponents("xAxis",Mn).models[0],a=t.yAxisModel||r&&r.getReferringComponents("yAxis",Mn).models[0],s=t.gridModel;return r?je(this._coordsList,e=r.coordinateSystem)<0&&(e=null):o&&a?e=this.getCartesian(o.componentIndex,a.componentIndex):o?i=this.getAxis("x",o.componentIndex):a?i=this.getAxis("y",a.componentIndex):s&&s.coordinateSystem===this&&(e=this._coordsList[0]),{cartesian:e,axis:i}},n.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},n.prototype._initCartesian=function(t,e,i){var r=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function u(h){return function(c,p){if(Cv(c,t)){var f=c.get("position");"x"===h?"top"!==f&&"bottom"!==f&&(f=a.bottom?"top":"bottom"):"left"!==f&&"right"!==f&&(f=a.left?"right":"left"),a[f]=!0;var g=new E5(h,Eh(c),[0,0],c.get("type"),f);g.onBand="category"===g.type&&c.get("boundaryGap"),g.inverse=c.get("inverse"),c.axis=g,g.model=c,g.grid=o,g.index=p,o._axesList.push(g),s[h][p]=g,l[h]++}}}this._axesMap=s,V(s.x,function(h,c){V(s.y,function(p,f){var g="x"+c+"y"+f,m=new N5(g);m.master=r,m.model=t,r._coordsMap[g]=m,r._coordsList.push(m),m.addAxis(h),m.addAxis(p)})})},n.prototype._updateScale=function(t,e){function i(r,o){V(lp(r,o.dim),function(a){o.scale.unionExtentFromData(r,a)})}V(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),"category"===r.type){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),t.eachSeries(function(r){if(xM(r)){var o=_M(r),a=o.xAxisModel,s=o.yAxisModel;if(!Cv(a,e)||!Cv(s,e))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),u=r.getData(),h=l.getAxis("x"),c=l.getAxis("y");i(u,h),i(u,c)}},this)},n.prototype.getTooltipAxes=function(t){var e=[],i=[];return V(this.getCartesians(),function(r){var o=null!=t&&"auto"!==t?r.getAxis(t):r.getBaseAxis(),a=r.getOtherAxis(o);je(e,o)<0&&e.push(o),je(i,a)<0&&i.push(a)}),{baseAxes:e,otherAxes:i}},n.create=function(t,e){var i=[];return t.eachComponent("grid",function(r,o){var a=new n(r,t,e);a.name="grid_"+o,a.resize(r,e,!0),r.coordinateSystem=a,i.push(a)}),t.eachSeries(function(r){if(xM(r)){var o=_M(r),a=o.xAxisModel,s=o.yAxisModel,l=a.getCoordSysModel();r.coordinateSystem=l.coordinateSystem.getCartesian(a.componentIndex,s.componentIndex)}}),i},n.dimensions=Sv,n}();function Cv(n,t){return n.getCoordSysModel()===t}function wM(n,t,e,i){e.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=n[t],a=e.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)SM(o[l])&&(r=o[l]);else for(var u in o)if(o.hasOwnProperty(u)&&SM(o[u])&&!i[h(o[u])]){r=o[u];break}r&&(i[h(r)]=!0)}function h(c){return c.dim+"_"+c.index}}function SM(n){return n&&"category"!==n.type&&"time"!==n.type&&function(t){var e=t.scale.getExtent(),i=e[0],r=e[1];return!(i>0&&r>0||i<0&&r<0)}(n)}var Ma=Math.PI,vi=function(){function n(t,e){this.group=new He,this.opt=e,this.axisModel=t,Ee(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new He({x:e.position[0],y:e.position[1],rotation:e.rotation});i.updateTransform(),this._transformGroup=i}return n.prototype.hasBuilder=function(t){return!!MM[t]},n.prototype.add=function(t){MM[t](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(t,e,i){var r,o,a=Nf(e-t);return Uu(a)?(o=i>0?"top":"bottom",r="center"):Uu(a-Ma)?(o=i>0?"bottom":"top",r="center"):(o="middle",r=a>0&&a<Ma?i>0?"right":"left":i>0?"left":"right"),{rotation:a,textAlign:r,textVerticalAlign:o}},n.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},n.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},n}(),MM={axisLine:function(n,t,e,i){var r=t.get(["axisLine","show"]);if("auto"===r&&n.handleAutoShown&&(r=n.handleAutoShown("axisLine")),r){var o=t.axis.getExtent(),a=i.transform,s=[o[0],0],l=[o[1],0];a&&(Zt(s,s,a),Zt(l,l,a));var u=ae({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new kn({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});h.anid="line",e.add(h);var c=t.get(["axisLine","symbol"]);if(null!=c){var p=t.get(["axisLine","symbolSize"]);De(c)&&(c=[c,c]),(De(p)||ot(p))&&(p=[p,p]);var f=Fl(t.get(["axisLine","symbolOffset"])||0,p),g=p[0],m=p[1];V([{rotate:n.rotation+Math.PI/2,offset:f[0],r:0},{rotate:n.rotation-Math.PI/2,offset:f[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(y,x){if("none"!==c[x]&&null!=c[x]){var b=pn(c[x],-g/2,-m/2,g,m,u.stroke,!0),S=y.r+y.offset;b.attr({rotation:y.rotate,x:s[0]+S*Math.cos(n.rotation),y:s[1]-S*Math.sin(n.rotation),silent:!0,z2:11}),e.add(b)}})}}},axisTickLabel:function(n,t,e,i){var r=function(a,s,l,u){var h=l.axis,c=l.getModel("axisTick"),p=c.get("show");if("auto"===p&&u.handleAutoShown&&(p=u.handleAutoShown("axisTick")),p&&!h.scale.isBlank()){for(var f=c.getModel("lineStyle"),g=u.tickDirection*c.get("length"),m=TM(h.getTicksCoords(),s.transform,g,Ee(f.getLineStyle(),{stroke:l.get(["axisLine","lineStyle","color"])}),"ticks"),y=0;y<m.length;y++)a.add(m[y]);return m}}(e,i,t,n),o=function(a,s,l,u){var h=l.axis;if(_e(u.axisLabelShow,l.get(["axisLabel","show"]))&&!h.scale.isBlank()){var c=l.getModel("axisLabel"),p=c.get("margin"),f=h.getViewLabels(),g=(_e(u.labelRotate,c.get("rotate"))||0)*Ma/180,m=vi.innerTextLayout(u.rotation,g,u.labelDirection),y=l.getCategories&&l.getCategories(!0),x=[],b=vi.isLabelSilent(l),S=l.get("triggerEvent");return V(f,function(M,C){var T="ordinal"===h.scale.type?h.scale.getRawOrdinalNumber(M.tickValue):M.tickValue,D=M.formattedLabel,k=M.rawLabel,R=c;if(y&&y[T]){var N=y[T];Oe(N)&&N.textStyle&&(R=new Ct(N.textStyle,c,l.ecModel))}var E=R.getTextColor()||l.get(["axisLine","lineStyle","color"]),B=h.dataToCoord(T),G=new gt({x:B,y:u.labelOffset+u.labelDirection*p,rotation:m.rotation,silent:b,z2:10+(M.level||0),style:$t(R,{text:D,align:R.getShallow("align",!0)||m.textAlign,verticalAlign:R.getShallow("verticalAlign",!0)||R.getShallow("baseline",!0)||m.textVerticalAlign,fill:ze(E)?E("category"===h.type?k:"value"===h.type?T+"":T,C):E})});if(G.anid="label_"+T,S){var H=vi.makeAxisEventDataBase(l);H.targetType="axisLabel",H.value=k,H.tickIndex=C,"category"===h.type&&(H.dataIndex=T),Ze(G).eventData=H}s.add(G),G.updateTransform(),x.push(G),a.add(G),G.decomposeTransform()}),x}}(e,i,t,n);(function(a,s,l){if(!Vw(a.axis)){var u=a.get(["axisLabel","showMinLabel"]),h=a.get(["axisLabel","showMaxLabel"]),c=(s=s||[])[0],p=s[1],f=s[s.length-1],g=s[s.length-2],m=(l=l||[])[0],y=l[1],x=l[l.length-1],b=l[l.length-2];!1===u?(lr(c),lr(m)):IM(c,p)&&(u?(lr(p),lr(y)):(lr(c),lr(m))),!1===h?(lr(f),lr(x)):IM(g,f)&&(h?(lr(g),lr(b)):(lr(f),lr(x)))}})(t,o,r),function(a,s,l,u){var h=l.axis,c=l.getModel("minorTick");if(c.get("show")&&!h.scale.isBlank()){var p=h.getMinorTicksCoords();if(p.length)for(var f=c.getModel("lineStyle"),g=u*c.get("length"),m=Ee(f.getLineStyle(),Ee(l.getModel("axisTick").getLineStyle(),{stroke:l.get(["axisLine","lineStyle","color"])})),y=0;y<p.length;y++)for(var x=TM(p[y],s.transform,g,m,"minorticks_"+y),b=0;b<x.length;b++)a.add(x[b])}}(e,i,t,n.tickDirection),t.get(["axisLabel","hideOverlap"])&&uS(aS(oe(o,function(a){return{label:a,priority:a.z2,defaultAttr:{ignore:a.ignore}}})))},axisName:function(n,t,e,i){var T,k,R,N,E,B,G,r=_e(n.axisName,t.get("name"));if(r){var o,a,s=t.get("nameLocation"),l=n.nameDirection,u=t.getModel("nameTextStyle"),h=t.get("nameGap")||0,c=t.axis.getExtent(),p=c[0]>c[1]?-1:1,f=["start"===s?c[0]-p*h:"end"===s?c[1]+p*h:(c[0]+c[1])/2,CM(s)?n.labelOffset+l*h:0],g=t.get("nameRotate");null!=g&&(g=g*Ma/180),CM(s)?o=vi.innerTextLayout(n.rotation,g??n.rotation,l):(T=s,k=c,E=Nf((g||0)-n.rotation),B=k[0]>k[1],G="start"===T&&!B||"start"!==T&&B,Uu(E-Ma/2)?(N=G?"bottom":"top",R="center"):Uu(E-1.5*Ma)?(N=G?"top":"bottom",R="center"):(N="middle",R=E<1.5*Ma&&E>Ma/2?G?"left":"right":G?"right":"left"),o={rotation:E,textAlign:R,textVerticalAlign:N},null!=(a=n.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var m=u.getFont(),y=t.get("nameTruncate",!0)||{},x=y.ellipsis,b=_e(n.nameTruncateMaxWidth,y.maxWidth,a),S=new gt({x:f[0],y:f[1],rotation:o.rotation,silent:vi.isLabelSilent(t),style:$t(u,{text:r,font:m,overflow:"truncate",width:b,ellipsis:x,fill:u.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:u.get("align")||o.textAlign,verticalAlign:u.get("verticalAlign")||o.textVerticalAlign}),z2:1});if(wl({el:S,componentModel:t,itemName:r}),S.__fullText=r,S.anid="name",t.get("triggerEvent")){var M=vi.makeAxisEventDataBase(t);M.targetType="axisName",M.name=r,Ze(S).eventData=M}i.add(S),S.updateTransform(),e.add(S),S.decomposeTransform()}}};function lr(n){n&&(n.ignore=!0)}function IM(n,t){var e=n&&n.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(e&&i){var r=na([]);return Xr(r,r,-n.rotation),e.applyTransform(Ji([],r,n.getLocalTransform())),i.applyTransform(Ji([],r,t.getLocalTransform())),e.intersect(i)}}function CM(n){return"middle"===n||"center"===n}function TM(n,t,e,i,r){for(var o=[],a=[],s=[],l=0;l<n.length;l++){var u=n[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=e,t&&(Zt(a,a,t),Zt(s,s,t));var h=new kn({subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});h.anid=r+"_"+n[l].tickValue,o.push(h)}return o}function Tv(n,t){return"all"===n||ce(n)&&je(n,t)>=0||n===t}function V5(n){var t=Dv(n);if(t){var e=t.axisPointerModel,i=t.axis.scale,r=e.option,o=e.get("status"),a=e.get("value");null!=a&&(a=i.parse(a));var s=Av(e);null==o&&(r.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=t.axis.scale.isBlank()?"hide":"show")}}function Dv(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[Kh(n)]}function Av(n){return!!n.get(["handle","show"])}function Kh(n){return n.type+"||"+n.id}var DM={},Ns=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r,o){this.axisPointerClass&&V5(e),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,r,!0)},t.prototype.updateAxisPointer=function(e,i,r,o){this._doUpdateAxisPointerClass(e,r,!1)},t.prototype.remove=function(e,i){var r=this._axisPointer;r&&r.remove(i)},t.prototype.dispose=function(e,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,i,r){var l,o=t.getAxisPointerClass(this.axisPointerClass);if(o){var a=(l=Dv(e))&&l.axisPointerModel;a?(this._axisPointer||(this._axisPointer=new o)).render(e,a,i,r):this._disposeAxisPointer(i)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,i){DM[e]=i},t.getAxisPointerClass=function(e){return e&&DM[e]},t.type="axis",t}(Yt),kv=_t();function AM(n,t,e,i){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=i.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var h=s.length,c=kv(n).splitAreaColors,p=Ne(),f=0;if(c)for(var g=0;g<u.length;g++){var m=c.get(u[g].tickValue);if(null!=m){f=(m+(h-1)*g)%h;break}}var y=r.toGlobalCoord(u[0].coord),x=a.getAreaStyle();for(s=ce(s)?s:[s],g=1;g<u.length;g++){var b=r.toGlobalCoord(u[g].coord),S=void 0,M=void 0,C=void 0,T=void 0;r.isHorizontal()?(M=l.y,T=l.height,y=(S=y)+(C=b-S)):(S=l.x,C=l.width,y=(M=y)+(T=b-M));var D=u[g-1].tickValue;null!=D&&p.set(D,f),t.add(new ht({anid:null!=D?"area_"+D:null,shape:{x:S,y:M,width:C,height:T},style:Ee({fill:s[f]},x),autoBatch:!0,silent:!0})),f=(f+1)%h}kv(n).splitAreaColors=p}}}function kM(n){kv(n).splitAreaColors=null}var F5=["axisLine","axisTickLabel","axisName"],W5=["splitArea","splitLine","minorSplitLine"],LM=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return Q(t,n),t.prototype.render=function(e,i,r,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new He,this.group.add(this._axisGroup),e.get("show")){var s=e.getCoordSysModel(),l=Mv(s,e),u=new vi(e,ae({handleAutoShown:function(h){for(var c=s.coordinateSystem.getCartesians(),p=0;p<c.length;p++)if(Gm(c[p].getOtherAxis(e.axis).scale))return!0;return!1}},l));V(F5,u.add,u),this._axisGroup.add(u.getGroup()),V(W5,function(h){e.get([h,"show"])&&G5[h](this,this._axisGroup,e,s)},this),o&&"changeAxisOrder"===o.type&&o.isInitSort||lh(a,this._axisGroup,e),n.prototype.render.call(this,e,i,r,o)}},t.prototype.remove=function(){kM(this)},t.type="cartesianAxis",t}(Ns),G5={splitLine:function(n,t,e,i){var r=e.axis;if(!r.scale.isBlank()){var o=e.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=ce(s)?s:[s];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),h=0,c=r.getTicksCoords({tickModel:o}),p=[],f=[],g=a.getLineStyle(),m=0;m<c.length;m++){var y=r.toGlobalCoord(c[m].coord);u?(p[0]=y,p[1]=l.y,f[0]=y,f[1]=l.y+l.height):(p[0]=l.x,p[1]=y,f[0]=l.x+l.width,f[1]=y);var x=h++%s.length;t.add(new kn({anid:null!=c[m].tickValue?"line_"+c[m].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:f[0],y2:f[1]},style:Ee({stroke:s[x]},g),silent:!0}))}}},minorSplitLine:function(n,t,e,i){var r=e.axis,o=e.getModel("minorSplitLine").getModel("lineStyle"),a=i.coordinateSystem.getRect(),s=r.isHorizontal(),l=r.getMinorTicksCoords();if(l.length)for(var u=[],h=[],c=o.getLineStyle(),p=0;p<l.length;p++)for(var f=0;f<l[p].length;f++){var g=r.toGlobalCoord(l[p][f].coord);s?(u[0]=g,u[1]=a.y,h[0]=g,h[1]=a.y+a.height):(u[0]=a.x,u[1]=g,h[0]=a.x+a.width,h[1]=g),t.add(new kn({anid:"minor_line_"+l[p][f].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:c,silent:!0}))}},splitArea:function(n,t,e,i){AM(n,t,e,i)}},PM=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.type="xAxis",t}(LM),H5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=PM.type,e}return Q(t,n),t.type="yAxis",t}(LM),U5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="grid",e}return Q(t,n),t.prototype.render=function(e,i){this.group.removeAll(),e.get("show")&&this.group.add(new ht({shape:e.coordinateSystem.getRect(),style:Ee({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Yt),OM={offset:0};function RM(n){n.registerComponentView(U5),n.registerComponentModel(L5),n.registerCoordinateSystem("cartesian2d",z5),Jl(n,"x",bv,OM),Jl(n,"y",bv,OM),n.registerComponentView(PM),n.registerComponentView(H5),n.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function Y5(n){n.eachSeriesByType("radar",function(t){var e=t.getData(),i=[],r=t.coordinateSystem;if(r){var o=r.getIndicatorAxes();V(o,function(a,s){e.each(e.mapDimension(o[s].dim),function(l,u){i[u]=i[u]||[];var h=r.dataToPoint(l,s);i[u][s]=NM(h)?h:EM(r)})}),e.each(function(a){var s=zr(i[a],function(l){return NM(l)})||EM(r);i[a].push(s.slice()),e.setItemLayout(a,i[a])})}})}function NM(n){return!isNaN(n[0])&&!isNaN(n[1])}function EM(n){return[n.cx,n.cy]}function X5(n){var t=n.polar;if(t){ce(t)||(t=[t]);var e=[];V(t,function(i,r){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),n.radar=n.radar||[],ce(n.radar)||(n.radar=[n.radar]),n.radar.push(i)):e.push(i)}),n.polar=e}V(n.series,function(i){i&&"radar"===i.type&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var j5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r){var o=e.coordinateSystem,a=this.group,s=e.getData(),l=this._data;function u(p,f){var g=p.getItemVisual(f,"symbol")||"circle";if("none"!==g){var m=Ch(p.getItemVisual(f,"symbolSize")),y=pn(g,-1,-1,2,2),x=p.getItemVisual(f,"symbolRotate")||0;return y.attr({style:{strokeNoScale:!0},z2:100,scaleX:m[0]/2,scaleY:m[1]/2,rotation:x*Math.PI/180||0}),y}}function h(p,f,g,m,y,x){g.removeAll();for(var b=0;b<f.length-1;b++){var S=u(m,y);S&&(S.__dimIdx=b,p[b]?(S.setPosition(p[b]),hh[x?"initProps":"updateProps"](S,{x:f[b][0],y:f[b][1]},e,y)):S.setPosition(f[b]),g.add(S))}}function c(p){return oe(p,function(f){return[o.cx,o.cy]})}s.diff(l).add(function(p){var f=s.getItemLayout(p);if(f){var g=new ni,m=new ii,y={shape:{points:f}};g.shape.points=c(f),m.shape.points=c(f),Kt(g,y,e,p),Kt(m,y,e,p);var x=new He,b=new He;x.add(m),x.add(g),x.add(b),h(m.shape.points,f,b,s,p,!0),s.setItemGraphicEl(p,x)}}).update(function(p,f){var g=l.getItemGraphicEl(f),m=g.childAt(0),y=g.childAt(1),x=g.childAt(2),b={shape:{points:s.getItemLayout(p)}};b.shape.points&&(h(m.shape.points,b.shape.points,x,s,p,!1),Dr(y),Dr(m),vt(m,b,e),vt(y,b,e),s.setItemGraphicEl(p,g))}).remove(function(p){a.remove(l.getItemGraphicEl(p))}).execute(),s.eachItemGraphicEl(function(p,f){var g=s.getItemModel(f),m=p.childAt(0),y=p.childAt(1),x=p.childAt(2),b=s.getItemVisual(f,"style"),S=b.fill;a.add(p),m.useStyle(Ee(g.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:S})),qn(m,g,"lineStyle"),qn(y,g,"areaStyle");var M=g.getModel("areaStyle"),C=M.isEmpty()&&M.parentModel.isEmpty();y.ignore=C,V(["emphasis","select","blur"],function(k){var R=g.getModel([k,"areaStyle"]),N=R.isEmpty()&&R.parentModel.isEmpty();y.ensureState(k).ignore=N&&C}),y.useStyle(Ee(M.getAreaStyle(),{fill:S,opacity:.7,decal:b.decal}));var T=g.getModel("emphasis"),D=T.getModel("itemStyle").getItemStyle();x.eachChild(function(k){if(k instanceof zn){var R=k.style;k.useStyle(ae({image:R.image,x:R.x,y:R.y,width:R.width,height:R.height},b))}else k.useStyle(b),k.setColor(S),k.style.strokeNoScale=!0;k.ensureState("emphasis").style=Re(D);var N=s.getStore().get(s.getDimensionIndex(k.__dimIdx),f);(null==N||isNaN(N))&&(N=""),ri(k,jn(g),{labelFetcher:s.hostModel,labelDataIndex:f,labelDimIndex:k.__dimIdx,defaultText:N,inheritColor:S,defaultOpacity:b.opacity})}),un(p,T.get("focus"),T.get("blurScope"),T.get("disabled"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(Ot),Z5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return Q(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new qh(F(this.getData,this),F(this.getRawData,this))},t.prototype.getInitialData=function(e,i){return $l(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,i,r){var o=this.getData(),a=this.coordinateSystem.getIndicatorAxes(),s=this.getData().getName(e),l=""===s?this.name:s,u=sb(this,e);return Bn("section",{header:l,sortBlocks:!0,blocks:oe(a,function(h){var c=o.get(o.mapDimension(h.dim),e);return Bn("nameValue",{markerType:"subItem",markerColor:u,name:h.name,value:c,sortParam:c})})})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var i=this.getData(),r=this.coordinateSystem,o=i.getValues(oe(r.dimensions,function(u){return i.mapDimension(u)}),e),a=0,s=o.length;a<s;a++)if(!isNaN(o[a])){var l=r.getIndicatorAxes();return r.coordToPoint(l[a].dataToCoord(o[a]),a)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Bt),$h=mM.value;function Sp(n,t){return Ee({show:t},n)}var q5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),i=this.get("splitNumber"),r=this.get("scale"),o=this.get("axisLine"),a=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),h=this.get(["axisName","formatter"]),c=this.get("axisNameGap"),p=this.get("triggerEvent"),f=oe(this.get("indicator")||[],function(g){null!=g.max&&g.max>0&&!g.min?g.min=0:null!=g.min&&g.min<0&&!g.max&&(g.max=0);var m=l;null!=g.color&&(m=Ee({color:g.color},l));var y=qe(Re(g),{boundaryGap:e,splitNumber:i,scale:r,axisLine:o,axisTick:a,axisLabel:s,name:g.text,showName:u,nameLocation:"end",nameGap:c,nameTextStyle:m,triggerEvent:p},!1);De(h)?y.name=h.replace("{value}",y.name??""):ze(h)&&(y.name=h(y.name,y));var b=new Ct(y,null,this.ecModel);return Nt(b,Xl.prototype),b.mainType="radar",b.componentIndex=this.componentIndex,b},this);this._indicatorModels=f},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:qe({lineStyle:{color:"#bbb"}},$h.axisLine),axisLabel:Sp($h.axisLabel,!1),axisTick:Sp($h.axisTick,!1),splitLine:Sp($h.splitLine,!0),splitArea:Sp($h.splitArea,!0),indicator:[]},t}(st),K5=["axisLine","axisTickLabel","axisName"],$5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var i=e.coordinateSystem;V(oe(i.getIndicatorAxes(),function(r){var o=r.model.get("showName")?r.name:"";return new vi(r.model,{axisName:o,position:[i.cx,i.cy],rotation:r.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(r){V(K5,r.add,r),this.group.add(r.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var i=e.coordinateSystem,r=i.getIndicatorAxes();if(r.length){var o=e.get("shape"),a=e.getModel("splitLine"),s=e.getModel("splitArea"),l=a.getModel("lineStyle"),u=s.getModel("areaStyle"),h=a.get("show"),c=s.get("show"),p=l.get("color"),f=u.get("color"),g=ce(p)?p:[p],m=ce(f)?f:[f],y=[],x=[];if("circle"===o)for(var b=r[0].getTicksCoords(),S=i.cx,M=i.cy,C=0;C<b.length;C++)h&&y[G(y,g,C)].push(new nr({shape:{cx:S,cy:M,r:b[C].coord}})),c&&C<b.length-1&&x[G(x,m,C)].push(new ml({shape:{cx:S,cy:M,r0:b[C].coord,r:b[C+1].coord}}));else{var T,D=oe(r,function(H,Y){var j=H.getTicksCoords();return T=null==T?j.length-1:Math.min(j.length-1,T),oe(j,function(Z){return i.coordToPoint(Z.coord,Y)})}),k=[];for(C=0;C<=T;C++){for(var R=[],N=0;N<r.length;N++)R.push(D[N][C]);R[0]&&R.push(R[0].slice()),h&&y[G(y,g,C)].push(new ii({shape:{points:R}})),c&&k&&x[G(x,m,C-1)].push(new ni({shape:{points:R.concat(k)}})),k=R.slice().reverse()}}var E=l.getLineStyle(),B=u.getAreaStyle();V(x,function(H,Y){this.group.add(Bi(H,{style:Ee({stroke:"none",fill:m[Y%m.length]},B),silent:!0}))},this),V(y,function(H,Y){this.group.add(Bi(H,{style:Ee({fill:"none",stroke:g[Y%g.length]},E),silent:!0}))},this)}function G(H,Y,j){var Z=j%Y.length;return H[Z]=H[Z]||[],Z}},t.type="radar",t}(Yt),J5=function(n){function t(e,i,r){var o=n.call(this,e,i,r)||this;return o.type="value",o.angle=0,o.name="",o}return Q(t,n),t}(sr),Q5=function(){function n(t,e,i){this.dimensions=[],this._model=t,this._indicatorAxes=oe(t.getIndicatorModels(),function(r,o){var a="indicator_"+o,s=new J5(a,new Po);return s.name=r.get("name"),s.model=r,r.axis=s,this.dimensions.push(a),s},this),this.resize(t,i)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(t,e){return this.coordToPoint(this._indicatorAxes[e].dataToCoord(t),e)},n.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},n.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,r=Math.sqrt(e*e+i*i);e/=r,i/=r;for(var o,a=Math.atan2(-i,e),s=1/0,l=-1,u=0;u<this._indicatorAxes.length;u++){var h=this._indicatorAxes[u],c=Math.abs(a-h.angle);c<s&&(o=h,l=u,s=c)}return[l,+(o&&o.coordToData(r))]},n.prototype.resize=function(t,e){var i=t.get("center"),r=e.getWidth(),o=e.getHeight(),a=Math.min(r,o)/2;this.cx=Te(i[0],r),this.cy=Te(i[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");(De(s)||ot(s))&&(s=[0,s]),this.r0=Te(s[0],a),this.r=Te(s[1],a),V(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var h=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;h=Math.atan2(Math.sin(h),Math.cos(h)),l.angle=h},this)},n.prototype.update=function(t,e){var i=this._indicatorAxes,r=this._model;V(i,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if("radar"===s.get("coordinateSystem")&&t.getComponent("radar",s.get("radarIndex"))===r){var u=s.getData();V(i,function(h){h.scale.unionExtentFromData(u,u.mapDimension(h.dim))})}},this);var o=r.get("splitNumber"),a=new Po;a.setExtent(0,o),a.setInterval(1),V(i,function(s,l){bM(s.scale,s.model,a)})},n.prototype.convertToPixel=function(t,e,i){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(t,e,i){return console.warn("Not implemented."),null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.create=function(t,e){var i=[];return t.eachComponent("radar",function(r){var o=new n(r,t,e);i.push(o),r.coordinateSystem=o}),t.eachSeriesByType("radar",function(r){"radar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("radarIndex")||0])}),i},n.dimensions=[],n}();function eO(n){n.registerCoordinateSystem("radar",Q5),n.registerComponentModel(q5),n.registerComponentView($5),n.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(i){e.setItemVisual(i,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var zM="\0_ec_interaction_mutex";function BM(n,t){return!!Lv(n)[t]}function Lv(n){return n[zM]||(n[zM]={})}Or({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},rn);var Jh=function(n){function t(e){var i=n.call(this)||this;i._zr=e;var r=F(i._mousedownHandler,i),o=F(i._mousemoveHandler,i),a=F(i._mouseupHandler,i),s=F(i._mousewheelHandler,i),l=F(i._pinchHandler,i);return i.enable=function(u,h){this.disable(),this._opt=Ee(Re(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==u&&(u=!0),!0!==u&&"move"!==u&&"pan"!==u||(e.on("mousedown",r),e.on("mousemove",o),e.on("mouseup",a)),!0!==u&&"scale"!==u&&"zoom"!==u||(e.on("mousewheel",s),e.on("pinch",l))},i.disable=function(){e.off("mousedown",r),e.off("mousemove",o),e.off("mouseup",a),e.off("mousewheel",s),e.off("pinch",l)},i}return Q(t,n),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!(Va(e)||e.target&&e.target.draggable)){var i=e.offsetX,r=e.offsetY;this.pointerChecker&&this.pointerChecker(e,i,r)&&(this._x=i,this._y=r,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&Mp("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!BM(this._zr,"globalPan")){var i=e.offsetX,r=e.offsetY,o=this._x,a=this._y,s=i-o,l=r-a;this._x=i,this._y=r,this._opt.preventDefaultMouseMove&&ci(e.event),VM(this,"pan","moveOnMouseMove",e,{dx:s,dy:l,oldX:o,oldY:a,newX:i,newY:r,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){Va(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var i=Mp("zoomOnMouseWheel",e,this._opt),r=Mp("moveOnMouseWheel",e,this._opt),o=e.wheelDelta,a=Math.abs(o),s=e.offsetX,l=e.offsetY;if(0!==o&&(i||r)){if(i){var u=a>3?1.4:a>1?1.2:1.1;Pv(this,"zoom","zoomOnMouseWheel",e,{scale:o>0?u:1/u,originX:s,originY:l,isAvailableBehavior:null})}if(r){var h=Math.abs(o);Pv(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(o>0?1:-1)*(h>3?.4:h>1?.15:.05),originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){BM(this._zr,"globalPan")||Pv(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(hi);function Pv(n,t,e,i,r){n.pointerChecker&&n.pointerChecker(i,r.originX,r.originY)&&(ci(i.event),VM(n,t,e,i,r))}function VM(n,t,e,i,r){r.isAvailableBehavior=F(Mp,null,e,i),n.trigger(t,r)}function Mp(n,t,e){var i=e[n];return!n||i&&(!De(i)||t.event[i+"Key"])}function Ov(n,t,e){var i=n.target;i.x+=t,i.y+=e,i.dirty()}function Rv(n,t,e,i){var r=n.target,o=n.zoomLimit,a=n.zoom=n.zoom||1;if(a*=t,o){var s=o.min||0;a=Math.max(Math.min(o.max||1/0,a),s)}var u=a/n.zoom;n.zoom=a,r.x-=(e-r.x)*(u-1),r.y-=(i-r.y)*(u-1),r.scaleX*=u,r.scaleY*=u,r.dirty()}var Nv,tO={axisPointer:1,tooltip:1,brush:1};function Ip(n,t,e){var i=t.getComponentByElement(n.topTarget),r=i&&i.coordinateSystem;return i&&i!==e&&!tO.hasOwnProperty(i.mainType)&&r&&r.model!==e}function FM(n){De(n)&&(n=(new DOMParser).parseFromString(n,"text/xml"));var t=n;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var Cp={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},WM=tt(Cp),Tp={"alignment-baseline":"textBaseline","stop-color":"stopColor"},GM=tt(Tp),nO=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(t,e){e=e||{};var i=FM(t);this._defsUsePending=[];var r=new He;this._root=r;var o=[],a=i.getAttribute("viewBox")||"",s=parseFloat(i.getAttribute("width")||e.width),l=parseFloat(i.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),Fi(i,r,null,!0,!1);for(var u,h,c=i.firstChild;c;)this._parseNode(c,r,o,null,!1,!1),c=c.nextSibling;if(function(g,m){for(var y=0;y<m.length;y++){var x=m[y];x[0].style[x[1]]=g[x[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],a){var p=Dp(a);p.length>=4&&(u={x:parseFloat(p[0]||0),y:parseFloat(p[1]||0),width:parseFloat(p[2]),height:parseFloat(p[3])})}if(u&&null!=s&&null!=l&&(h=KM(u,{x:0,y:0,width:s,height:l}),!e.ignoreViewBox)){var f=r;(r=new He).add(f),f.scaleX=f.scaleY=h.scale,f.x=h.x,f.y=h.y}return e.ignoreRootClip||null==s||null==l||r.setClipPath(new ht({shape:{x:0,y:0,width:s,height:l}})),{root:r,width:s,height:l,viewBoxRect:u,viewBoxTransform:h,named:o}},n.prototype._parseNode=function(t,e,i,r,o,a){var s,l=t.nodeName.toLowerCase(),u=r;if("defs"===l&&(o=!0),"text"===l&&(a=!0),"defs"===l||"switch"===l)s=e;else{if(!o){var h=Nv[l];if(h&&Le(Nv,l)){s=h.call(this,t,e);var c=t.getAttribute("name");if(c){var p={name:c,namedFrom:null,svgNodeTagLower:l,el:s};i.push(p),"g"===l&&(u=p)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:l,el:s});e.add(s)}}var f=HM[l];if(f&&Le(HM,l)){var g=f.call(this,t),m=t.getAttribute("id");m&&(this._defs[m]=g)}}if(s&&s.isGroup)for(var y=t.firstChild;y;)1===y.nodeType?this._parseNode(y,s,i,u,o,a):3===y.nodeType&&a&&this._parseText(y,s),y=y.nextSibling},n.prototype._parseText=function(t,e){var i=new cl({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});ur(e,i),Fi(t,i,this._defsUsePending,!1,!1),function(l,u){var h=u.__selfStyle;if(h){var c=h.textBaseline,p=c;c&&"auto"!==c?"baseline"===c?p="alphabetic":"before-edge"===c||"text-before-edge"===c?p="top":"after-edge"===c||"text-after-edge"===c?p="bottom":"central"!==c&&"mathematical"!==c||(p="middle"):p="alphabetic",l.style.textBaseline=p}var f=u.__inheritedStyle;if(f){var g=f.textAlign,m=g;g&&("middle"===g&&(m="center"),l.style.textAlign=m)}}(i,e);var r=i.style,o=r.fontSize;o&&o<9&&(r.fontSize=9,i.scaleX*=o/9,i.scaleY*=o/9);var a=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=a;var s=i.getBoundingRect();return this._textX+=s.width,e.add(i),i},n.internalField=void(Nv={g:function(t,e){var i=new He;return ur(e,i),Fi(t,i,this._defsUsePending,!1,!1),i},rect:function(t,e){var i=new ht;return ur(e,i),Fi(t,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(t,e){var i=new nr;return ur(e,i),Fi(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),i.silent=!0,i},line:function(t,e){var i=new kn;return ur(e,i),Fi(t,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(t,e){var i=new nh;return ur(e,i),Fi(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(t,e){var i,r=t.getAttribute("points");r&&(i=XM(r));var o=new ni({shape:{points:i||[]},silent:!0});return ur(e,o),Fi(t,o,this._defsUsePending,!1,!1),o},polyline:function(t,e){var i,r=t.getAttribute("points");r&&(i=XM(r));var o=new ii({shape:{points:i||[]},silent:!0});return ur(e,o),Fi(t,o,this._defsUsePending,!1,!1),o},image:function(t,e){var i=new zn;return ur(e,i),Fi(t,i,this._defsUsePending,!1,!1),i.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),i.silent=!0,i},text:function(t,e){var i=t.getAttribute("x")||"0",r=t.getAttribute("y")||"0",o=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(a);var s=new He;return ur(e,s),Fi(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,e){var i=t.getAttribute("x"),r=t.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=r&&(this._textY=parseFloat(r));var o=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0",s=new He;return ur(e,s),Fi(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(a),s},path:function(t,e){var i=vx(t.getAttribute("d")||"");return ur(e,i),Fi(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}),n}(),HM={lineargradient:function(n){var t=parseInt(n.getAttribute("x1")||"0",10),e=parseInt(n.getAttribute("y1")||"0",10),i=parseInt(n.getAttribute("x2")||"10",10),r=parseInt(n.getAttribute("y2")||"0",10),o=new yl(t,e,i,r);return UM(n,o),YM(n,o),o},radialgradient:function(n){var t=parseInt(n.getAttribute("cx")||"0",10),e=parseInt(n.getAttribute("cy")||"0",10),i=parseInt(n.getAttribute("r")||"0",10),r=new xg(t,e,i);return UM(n,r),YM(n,r),r}};function UM(n,t){"userSpaceOnUse"===n.getAttribute("gradientUnits")&&(t.global=!0)}function YM(n,t){for(var e=n.firstChild;e;){if(1===e.nodeType&&"stop"===e.nodeName.toLocaleLowerCase()){var r,i=e.getAttribute("offset");r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};qM(e,o,o);var a=o.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:r,color:a})}e=e.nextSibling}}function ur(n,t){n&&n.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),Ee(t.__inheritedStyle,n.__inheritedStyle))}function XM(n){for(var t=Dp(n),e=[],i=0;i<t.length;i+=2){var r=parseFloat(t[i]),o=parseFloat(t[i+1]);e.push([r,o])}return e}function Fi(n,t,e,i,r){var o=t,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};1===n.nodeType&&(function(l,u){var h=l.getAttribute("transform");if(h){h=h.replace(/,/g," ");var c=[],p=null;h.replace(oO,function(x,b,S){return c.push(b,S),""});for(var f=c.length-1;f>0;f-=2){var m=c[f-1],y=Dp(c[f]);switch(p=p||[1,0,0,1,0,0],m){case"translate":Ni(p,p,[parseFloat(y[0]),parseFloat(y[1]||"0")]);break;case"scale":Qa(p,p,[parseFloat(y[0]),parseFloat(y[1]||y[0])]);break;case"rotate":Xr(p,p,-parseFloat(y[0])*Ev);break;case"skewX":Ji(p,[1,0,Math.tan(parseFloat(y[0])*Ev),1,0,0],p);break;case"skewY":Ji(p,[1,Math.tan(parseFloat(y[0])*Ev),0,1,0,0],p);break;case"matrix":p[0]=parseFloat(y[0]),p[1]=parseFloat(y[1]),p[2]=parseFloat(y[2]),p[3]=parseFloat(y[3]),p[4]=parseFloat(y[4]),p[5]=parseFloat(y[5])}}u.setLocalTransform(p)}}(n,t),qM(n,a,s),i||function(l,u,h){for(var c=0;c<WM.length;c++){var p=WM[c];null!=(f=l.getAttribute(p))&&(u[Cp[p]]=f)}for(c=0;c<GM.length;c++){var f;null!=(f=l.getAttribute(p=GM[c]))&&(h[Tp[p]]=f)}}(n,a,s)),o.style=o.style||{},null!=a.fill&&(o.style.fill=jM(o,"fill",a.fill,e)),null!=a.stroke&&(o.style.stroke=jM(o,"stroke",a.stroke,e)),V(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){null!=a[l]&&(o.style[l]=parseFloat(a[l]))}),V(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){null!=a[l]&&(o.style[l]=a[l])}),r&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=oe(Dp(a.lineDash),function(l){return parseFloat(l)})),"hidden"!==a.visibility&&"collapse"!==a.visibility||(o.invisible=!0),"none"===a.display&&(o.ignore=!0)}var iO=/^url\(\s*#(.*?)\)/;function jM(n,t,e,i){var r=e&&e.match(iO);if(!r)return"none"===e&&(e=null),e;var o=wn(r[1]);i.push([n,t,o])}var rO=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Dp(n){return n.match(rO)||[]}var oO=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Ev=Math.PI/180,ZM=/([^\s:;]+)\s*:\s*([^:;]+)/g;function qM(n,t,e){var i,r=n.getAttribute("style");if(r)for(ZM.lastIndex=0;null!=(i=ZM.exec(r));){var o=i[1],a=Le(Cp,o)?Cp[o]:null;a&&(t[a]=i[2]);var s=Le(Tp,o)?Tp[o]:null;s&&(e[s]=i[2])}}function KM(n,t){var r=Math.min(t.width/n.width,t.height/n.height);return{scale:r,x:-(n.x+n.width/2)*r+(t.x+t.width/2),y:-(n.y+n.height/2)*r+(t.y+t.height/2)}}for(var aO=Ne(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),sO=function(){function n(t,e){this.type="geoSVG",this._usedGraphicMap=Ne(),this._freedGraphics=[],this._mapName=t,this._parsedXML=FM(e)}return n.prototype.load=function(){var o,a,s,t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=(o=t.named,a=[],s=Ne(),V(o,function(l){if(null==l.namedFrom){var u=new CP(l.name,l.el);a.push(u),s.set(l.name,u)}}),{regions:a,regionsMap:s}),r=e.regionsMap;this._regions=e.regions,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(t){var e,i,r,o;try{mt(null!=(i=(e=t&&(r=t,o={ignoreViewBox:!0,ignoreRootClip:!0},(new nO).parse(r,o))||{}).root))}catch(b){throw new Error("Invalid svg format\n"+b.message)}var a=new He;a.add(i),a.isGeoSVGGraphicRoot=!0;var s=e.width,l=e.height,u=e.viewBoxRect,h=this._boundingRect;if(!h){var c=void 0,p=void 0,f=void 0,g=void 0;if(null!=s?(c=0,f=s):u&&(c=u.x,f=u.width),null!=l?(p=0,g=l):u&&(p=u.y,g=u.height),null==c||null==p){var m=i.getBoundingRect();null==c&&(c=m.x,f=m.width),null==p&&(p=m.y,g=m.height)}h=this._boundingRect=new ue(c,p,f,g)}if(u){var y=KM(u,h);i.scaleX=i.scaleY=y.scale,i.x=y.x,i.y=y.y}a.setClipPath(new ht({shape:h.plain()}));var x=[];return V(e.named,function(b){var S;null!=aO.get(b.svgNodeTagLower)&&(x.push(b),(S=b.el).silent=!1,S.isGroup&&S.traverse(function(M){M.silent=!1}))}),{root:a,boundingRect:h,named:x}},n.prototype.useGraphic=function(t){var e=this._usedGraphicMap,i=e.get(t);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,i),i)},n.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,i=e.get(t);i&&(e.removeKey(t),this._freedGraphics.push(i))},n}(),zv=[126,25],Es=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],zs=0;zs<Es.length;zs++)for(var Ql=0;Ql<Es[zs].length;Ql++)Es[zs][Ql][0]/=10.5,Es[zs][Ql][1]/=-14,Es[zs][Ql][0]+=zv[0],Es[zs][Ql][1]+=zv[1];var lO={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},uO=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],hO=function(){function n(t,e,i){var r;this.type="geoJSON",this._parsedMap=Ne(),this._mapName=t,this._specialAreas=i,this._geoJSON=De(r=e)?typeof JSON<"u"&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}return n.prototype.load=function(t,e){var i=this._parsedMap.get(e=e||"name");if(!i){var r=this._parseToRegions(e);i=this._parsedMap.set(e,{regions:r,boundingRect:cO(r)})}var o=Ne(),a=[];return V(i.regions,function(s){var l=s.name;t&&Le(t,l)&&(s=s.cloneShallow(l=t[l])),a.push(s),o.set(l,s)}),{regions:a,boundingRect:i.boundingRect||new ue(0,0,0,0),regionsMap:o}},n.prototype._parseToRegions=function(t){var e,i=this._mapName,r=this._geoJSON;try{e=r?Jm(r,t):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return function(o,a){if("china"===o){for(var s=0;s<a.length;s++)if("\u5357\u6d77\u8bf8\u5c9b"===a[s].name)return;a.push(new Yw("\u5357\u6d77\u8bf8\u5c9b",oe(Es,function(l){return{type:"polygon",exterior:l}}),zv))}}(i,e),V(e,function(o){var u,a=o.name;(function(l,u){if("china"===l){var h=lO[u.name];if(h){var c=u.getCenter();c[0]+=h[0]/10.5,c[1]+=-h[1]/14,u.setCenter(c)}}})(i,o),u=o,"china"===i&&"\u53f0\u6e7e"===u.name&&u.geometries.push({type:"polygon",exterior:uO[0]});var s=this._specialAreas&&this._specialAreas[a];s&&o.transformTo(s.left,s.top,s.width,s.height)},this),e},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function cO(n){for(var t,e=0;e<n.length;e++){var i=n[e].getBoundingRect();(t=t||i.clone()).union(i)}return t}var Qh=Ne(),Ap=function(n){return Qh.get(n)},Bv=function(n,t,e){var i=Qh.get(n);if(i)return i.load(t,e)},Vv=["rect","circle","line","ellipse","polygon","polyline","path"],fO=Ne(Vv),gO=Ne(Vv.concat(["g"])),mO=Ne(Vv.concat(["g"])),JM=_t();function kp(n){var t=n.getItemStyle(),e=n.get("areaColor");return null!=e&&(t.fill=e),t}function QM(n){var t=n.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var e2=function(){function n(t){var e=new He;this.uid=Ml("ec_map_draw"),this._controller=new Jh(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new He),e.add(this._svgGroup=new He)}return n.prototype.draw=function(t,e,i,r,o){var a="geo"===t.mainType,s=t.getData&&t.getData();a&&e.eachComponent({mainType:"series",subType:"map"},function(y){s||y.getHostGeoModel()!==t||(s=y.getData())});var l=t.coordinateSystem,u=this._regionsGroup,h=this.group,c=l.getTransformInfo(),p=c.raw,f=c.roam;!u.childAt(0)||o?(h.x=f.x,h.y=f.y,h.scaleX=f.scaleX,h.scaleY=f.scaleY,h.dirty()):vt(h,f,t);var g=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,m={api:i,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:g,isGeo:a,transformInfoRaw:p};"geoJSON"===l.resourceType?this._buildGeoJSON(m):"geoSVG"===l.resourceType&&this._buildSVG(m),this._updateController(t,e,i),this._updateMapSelectHandler(t,u,i,r)},n.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=Ne(),i=Ne(),r=this._regionsGroup,o=t.transformInfoRaw,a=t.mapOrGeoModel,s=t.data,l=t.geo.projection,u=l&&l.stream;function h(f,g){return g&&(f=g(f)),f&&[f[0]*o.scaleX+o.x,f[1]*o.scaleY+o.y]}function c(f){for(var g=[],m=!u&&l&&l.project,y=0;y<f.length;++y){var x=h(f[y],m);x&&g.push(x)}return g}function p(f){return{shape:{points:c(f)}}}r.removeAll(),V(t.geo.regions,function(f){var g=f.name,m=e.get(g),y=i.get(g)||{},x=y.dataIdx,b=y.regionModel;m||(m=e.set(g,new He),r.add(m),x=s?s.indexOfName(g):null,b=t.isGeo?a.getRegionModel(g):s?s.getItemModel(x):null,i.set(g,{dataIdx:x,regionModel:b}));var S=[],M=[];V(f.geometries,function(D){if("polygon"===D.type){var k=[D.exterior].concat(D.interiors||[]);u&&(k=a2(k,u)),V(k,function(N){S.push(new ni(p(N)))})}else{var R=D.points;u&&(R=a2(R,u,!0)),V(R,function(N){M.push(new ii(p(N)))})}});var C=h(f.getCenter(),l&&l.project);function T(D,k){if(D.length){var R=new sd({culling:!0,segmentIgnoreThreshold:1,shape:{paths:D}});m.add(R),t2(t,R,x,b),n2(t,R,g,b,a,x,C),k&&(QM(R),V(R.states,QM))}}T(S),T(M,!0)}),e.each(function(f,g){var m=i.get(g),x=m.regionModel;i2(t,f,g,x,a,m.dataIdx),r2(t,f,g,x,a),o2(t,f,g,x,a)},this)},n.prototype._buildSVG=function(t){var e=t.geo.map,i=t.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var r=this._svgDispatcherMap=Ne(),o=!1;V(this._svgGraphicRecord.named,function(a){var s=a.name,l=t.mapOrGeoModel,u=t.data,h=a.svgNodeTagLower,c=a.el,p=u?u.indexOfName(s):null,f=l.getRegionModel(s);null!=fO.get(h)&&c instanceof er&&t2(t,c,p,f),c instanceof er&&(c.culling=!0),c.z2EmphasisLift=0,a.namedFrom||(null!=mO.get(h)&&n2(t,c,s,f,l,p,null),i2(t,c,s,f,l,p),r2(t,c,s,f,l),null!=gO.get(h)&&("self"===o2(t,c,s,f,l)&&(o=!0),(r.get(s)||r.set(s,[])).push(c)))},this),this._enableBlurEntireSVG(o,t)},n.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var i=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(r){if(!r.isGroup){fs(r);var o=r.ensureState("blur").style||{};null==o.opacity&&null!=i&&(o.opacity=i),r.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var i=e.coordinateSystem;if("geoJSON"===i.resourceType){var r=this._regionsGroupByName;if(r){var o=r.get(t);return o?[o]:[]}}else if("geoSVG"===i.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},n.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},n.prototype._useSVG=function(t){var e=Ap(t);if(e&&"geoSVG"===e.type){var i=e.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=t}},n.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=Ap(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(t,e,i){var r=t.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=t.get("scaleLimit"),a.zoom=r.getZoom(),o.enable(t.get("roam")||!1);var s=t.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=t.id,u}o.off("pan").on("pan",function(u){this._mouseDownFlag=!1,Ov(a,u.dx,u.dy),i.dispatchAction(ae(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,Rv(a,u.scale,u.originX,u.originY),i.dispatchAction(ae(l(),{zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),o.setPointerChecker(function(u,h,c){return r.containPoint([h,c])&&!Ip(u,i,t)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=JM(e).ignore)})},n.prototype._updateMapSelectHandler=function(t,e,i,r){var o=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){o._mouseDownFlag=!0}),e.on("click",function(a){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},n}();function t2(n,t,e,i){var r=i.getModel("itemStyle"),o=i.getModel(["emphasis","itemStyle"]),a=i.getModel(["blur","itemStyle"]),s=i.getModel(["select","itemStyle"]),l=kp(r),u=kp(o),h=kp(s),c=kp(a),p=n.data;if(p){var f=p.getItemVisual(e,"style"),g=p.getItemVisual(e,"decal");n.isVisualEncodedByVisualMap&&f.fill&&(l.fill=f.fill),g&&(l.decal=Gl(g,n.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=h,t.ensureState("blur").style=c,fs(t)}function n2(n,t,e,i,r,o,a){var s=n.data,l=n.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),o)),h=s&&s.getItemLayout(o);if(l||u||h&&h.showLabel){var c=l?e:o,p=void 0;(!s||o>=0)&&(p=r);var f=a?{normal:{align:"center",verticalAlign:"middle"}}:null;ri(t,jn(i),{labelFetcher:p,labelDataIndex:c,defaultText:e},f);var g=t.getTextContent();if(g&&(JM(g).ignore=g.ignore,t.textConfig&&a)){var m=t.getBoundingRect().clone();t.textConfig.layoutRect=m,t.textConfig.position=[(a[0]-m.x)/m.width*100+"%",(a[1]-m.y)/m.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function i2(n,t,e,i,r,o){n.data?n.data.setItemGraphicEl(o,t):Ze(t).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:e,region:i&&i.option||{}}}function r2(n,t,e,i,r){n.data||wl({el:t,componentModel:r,itemName:e,itemTooltipOption:i.get("tooltip")})}function o2(n,t,e,i,r){t.highDownSilentOnTouch=!!r.get("selectedMode");var l,u,h,o=i.getModel("emphasis"),a=o.get("focus");return un(t,a,o.get("blurScope"),o.get("disabled")),n.isGeo&&(l=r,u=e,(h=Ze(t)).componentMainType=l.mainType,h.componentIndex=l.componentIndex,h.componentHighDownName=u),a}function a2(n,t,e){var i,r=[];function o(){i=[]}function a(){i.length&&(r.push(i),i=[])}var s=t({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!e&&s.polygonStart(),V(n,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!e&&s.polygonEnd(),r}var vO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r,o){if(!o||"mapToggleSelect"!==o.type||o.from!==this.uid){var a=this.group;if(a.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&o&&"geoRoam"===o.type&&this._mapDraw.resetForLabelLayout(),o&&"geoRoam"===o.type&&"series"===o.componentType&&o.seriesId===e.id)(s=this._mapDraw)&&a.add(s.group);else if(e.needsDrawMap){var s=this._mapDraw||new e2(r);a.add(s.group),s.draw(e,i,r,this,o),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(e,i,r)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,i,r){var o=e.originalData,a=this.group;o.each(o.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=o.getItemLayout(l);if(u&&u.point){var h=u.point,c=u.offset,p=new nr({style:{fill:e.getData().getVisual("style").fill},shape:{cx:h[0]+9*c,cy:h[1],r:3},silent:!0,z2:8+(c?0:11)});if(!c){var f=e.mainSeries.getData(),g=o.getName(l),m=f.indexOfName(g),y=o.getItemModel(l),x=y.getModel("label"),b=f.getItemGraphicEl(m);ri(p,jn(y),{labelFetcher:{getFormattedLabel:function(S,M){return e.getFormattedLabel(m,M)}},defaultText:g}),p.disableLabelAnimation=!0,x.get("position")||p.setTextConfig({position:"bottom"}),b.onHoverStateChange=function(S){id(p,S)}}a.add(p)}}})},t.type="map",t}(Ot),yO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(i){if(null!=i){var r=this.getData().getName(i),o=this.coordinateSystem,a=o.getRegion(r);return a&&o.dataToPoint(a.getCenter())}},e}return Q(t,n),t.prototype.getInitialData=function(e){for(var i=$l(this,{coordDimensions:["value"],encodeDefaulter:We(Ug,this)}),r=Ne(),o=[],a=0,s=i.count();a<s;a++){var l=i.getName(a);r.set(l,!0)}return V(Bv(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(u){var h=u.name;r.get(h)||o.push(h)}),i.appendValues([],o),i},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var i=this.getData();return i.get(i.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var i=this.getData();return i.getItemModel(i.indexOfName(e))},t.prototype.formatTooltip=function(e,i,r){for(var o=this.getData(),a=this.getRawValue(e),s=o.getName(e),l=this.seriesGroup,u=[],h=0;h<l.length;h++){var c=l[h].originalData.indexOfName(s),p=o.mapDimension("value");isNaN(l[h].originalData.get(p,c))||u.push(l[h].name)}return Bn("section",{header:u.join(", "),noHeader:!u.length,blocks:[Bn("nameValue",{name:s,value:a})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var i=e.icon||"roundRect",r=pn(i,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return r.setStyle(e.itemStyle),r.style.stroke="none",i.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Bt);function xO(n){var t={};n.eachSeriesByType("map",function(e){var i=e.getHostGeoModel(),r=i?"o"+i.id:"i"+e.getMapType();(t[r]=t[r]||[]).push(e)}),V(t,function(e,i){for(var r,o,a,s=(r=oe(e,function(u){return u.getData()}),o=e[0].get("mapValueCalculation"),a={},V(r,function(u){u.each(u.mapDimension("value"),function(h,c){var p="ec-"+u.getName(c);a[p]=a[p]||[],isNaN(h)||a[p].push(h)})}),r[0].map(r[0].mapDimension("value"),function(u,h){for(var c="ec-"+r[0].getName(h),p=0,f=1/0,g=-1/0,m=a[c].length,y=0;y<m;y++)f=Math.min(f,a[c][y]),g=Math.max(g,a[c][y]),p+=a[c][y];return 0===m?NaN:"min"===o?f:"max"===o?g:"average"===o?p/m:p})),l=0;l<e.length;l++)e[l].originalData=e[l].getData();for(l=0;l<e.length;l++)e[l].seriesGroup=e,e[l].needsDrawMap=0===l&&!e[l].getHostGeoModel(),e[l].setData(s.cloneShallow()),e[l].mainSeries=e[0]})}function _O(n){var t={};n.eachSeriesByType("map",function(e){var i=e.getMapType();if(!e.getHostGeoModel()&&!t[i]){var r={};V(e.seriesGroup,function(a){var s=a.coordinateSystem,l=a.originalData;a.get("showLegendSymbol")&&n.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,h){var c=l.getName(h),p=s.getRegion(c);if(p&&!isNaN(u)){var f=r[c]||0,g=s.dataToPoint(p.getCenter());r[c]=f+1,l.setItemLayout(h,{point:g,offset:f})}})});var o=e.getData();o.each(function(a){var s=o.getName(a),l=o.getItemLayout(a)||{};l.showLabel=!r[s],o.setItemLayout(a,l)}),t[i]=!0}})}var s2=Zt,ec=function(n){function t(e){var i=n.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new z,i._rawTransformable=new z,i.name=e,i}return Q(t,n),t.prototype.setBoundingRect=function(e,i,r,o){return this._rect=new ue(e,i,r,o),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,i,r,o){this._transformTo(e,i,r,o),this._viewRect=new ue(e,i,r,o)},t.prototype._transformTo=function(e,i,r,o){var a=this.getBoundingRect(),s=this._rawTransformable;s.transform=a.calculateTransform(new ue(e,i,r,o));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(e,i){e&&(this._center=[Te(e[0],i.getWidth()),Te(e[1],i.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var i=this.zoomLimit;i&&(null!=i.max&&(e=Math.min(i.max,e)),null!=i.min&&(e=Math.max(i.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,r=this.getDefaultCenter(),o=this.getCenter(),a=this.getZoom();o=Zt([],o,e),r=Zt([],r,e),i.originX=o[0],i.originY=o[1],i.x=r[0]-o[0],i.y=r[1]-o[1],i.scaleX=i.scaleY=a,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,i=this._rawTransformable;i.parent=e,e.updateTransform(),i.updateTransform(),Ri(this.transform||(this.transform=[]),i.transform||[1,0,0,1,0,0]),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],wo(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,i=this._roamTransformable,r=new z;return r.transform=i.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,i,r){var o=i?this._rawTransform:this.transform;return r=r||[],o?s2(r,e,o):Hn(r,e)},t.prototype.pointToData=function(e){var i=this.invTransform;return i?s2([],e,i):[e[0],e[1]]},t.prototype.convertToPixel=function(e,i,r){var o=l2(i);return o===this?o.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,i,r){var o=l2(i);return o===this?o.pointToData(r):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(z);function l2(n){var t=n.seriesModel;return t?t.coordinateSystem:null}var bO={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},u2=["lng","lat"],Fv=function(n){function t(e,i,r){var o=n.call(this,e)||this;o.dimensions=u2,o.type="geo",o._nameCoordMap=Ne(),o.map=i;var a,s=r.projection,l=Bv(i,r.nameMap,r.nameProperty),u=Ap(i),h=(o.resourceType=u?u.type:null,o.regions=l.regions),c=bO[u.type];if(o._regionsMap=l.regionsMap,o.regions=l.regions,o.projection=s,s)for(var p=0;p<h.length;p++){var f=h[p].getBoundingRect(s);(a=a||f.clone()).union(f)}else a=l.boundingRect;return o.setBoundingRect(a.x,a.y,a.width,a.height),o.aspectScale=s?1:pe(r.aspectScale,c.aspectScale),o._invertLongitute=!s&&c.invertLongitute,o}return Q(t,n),t.prototype._transformTo=function(e,i,r,o){var a=this.getBoundingRect(),s=this._invertLongitute;a=a.clone(),s&&(a.y=-a.y-a.height);var l=this._rawTransformable;l.transform=a.calculateTransform(new ue(e,i,r,o));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var i=this.regions,r=0;r<i.length;r++){var o=i[r];if("geoJSON"===o.type&&o.contain(e))return i[r]}},t.prototype.addGeoCoord=function(e,i){this._nameCoordMap.set(e,i)},t.prototype.getGeoCoord=function(e){var i=this._regionsMap.get(e);return this._nameCoordMap.get(e)||i&&i.getCenter()},t.prototype.dataToPoint=function(e,i,r){if(De(e)&&(e=this.getGeoCoord(e)),e){var o=this.projection;return o&&(e=o.project(e)),e&&this.projectedToPoint(e,i,r)}},t.prototype.pointToData=function(e){var i=this.projection;return i&&(e=i.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(e){return n.prototype.pointToData.call(this,e)},t.prototype.projectedToPoint=function(e,i,r){return n.prototype.dataToPoint.call(this,e,i,r)},t.prototype.convertToPixel=function(e,i,r){var o=h2(i);return o===this?o.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,i,r){var o=h2(i);return o===this?o.pointToData(r):null},t}(ec);function h2(n){var t=n.geoModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",Mn).models[0]||{}).coordinateSystem:null}function c2(n,t){var e=n.get("boundingCoords");if(null!=e){var i=e[0],r=e[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var o=this.projection;if(o){var a=i[0],s=i[1],l=r[0],u=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var h=function(T,D,k,R){for(var N=k-T,E=R-D,B=0;B<=100;B++){var G=B/100,H=o.project([T+N*G,D+E*G]);yr(i,i,H),Li(r,r,H)}};h(a,s,l,s),h(l,s,l,u),h(l,u,a,u),h(a,u,l,s)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}}var c,p,f,g=this.getBoundingRect(),m=n.get("layoutCenter"),y=n.get("layoutSize"),x=t.getWidth(),b=t.getHeight(),S=g.width/g.height*this.aspectScale,M=!1;if(m&&y&&(c=[Te(m[0],x),Te(m[1],b)],p=Te(y,Math.min(x,b)),isNaN(c[0])||isNaN(c[1])||isNaN(p)||(M=!0)),M)f={},S>1?(f.width=p,f.height=p/S):(f.height=p,f.width=p*S),f.y=c[1]-f.height/2,f.x=c[0]-f.width/2;else{var C=n.getBoxLayoutParams();C.aspect=S,f=In(C,{width:x,height:b})}this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(n.get("center"),t),this.setZoom(n.get("zoom"))}Nt(Fv,ec);var d2=new(function(){function n(){this.dimensions=u2}return n.prototype.create=function(t,e){var i=[];function r(a){return{nameProperty:a.get("nameProperty"),aspectScale:a.get("aspectScale"),projection:a.get("projection")}}t.eachComponent("geo",function(a,s){var l=a.get("map"),u=new Fv(l+s,l,ae({nameMap:a.get("nameMap")},r(a)));u.zoomLimit=a.get("scaleLimit"),i.push(u),a.coordinateSystem=u,u.model=a,u.resize=c2,u.resize(a,e)}),t.eachSeries(function(a){if("geo"===a.get("coordinateSystem")){var s=a.get("geoIndex")||0;a.coordinateSystem=i[s]}});var o={};return t.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var s=a.getMapType();o[s]=o[s]||[],o[s].push(a)}}),V(o,function(a,s){var l=oe(a,function(h){return h.get("nameMap")}),u=new Fv(s,s,ae({nameMap:Ut(l)},r(a[0])));u.zoomLimit=_e.apply(null,oe(a,function(h){return h.get("scaleLimit")})),i.push(u),u.resize=c2,u.resize(a[0],e),V(a,function(h){var c;h.coordinateSystem=u,c=u,V(h.get("geoCoord"),function(f,g){c.addGeoCoord(g,f)})})}),i},n.prototype.getFilledRegions=function(t,e,i,r){for(var o=(t||[]).slice(),a=Ne(),s=0;s<o.length;s++)a.set(o[s].name,o[s]);return V(Bv(e,i,r).regions,function(l){var u=l.name;!a.get(u)&&o.push({name:u})}),o},n}()),wO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.init=function(e,i,r){var o=Ap(e.map);if(o&&"geoJSON"===o.type){var a=e.itemStyle=e.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(e,r),ts(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,i=this.option;i.regions=d2.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var r={};this._optionModelMap=_n(i.regions||[],function(o,a){var s=a.name;return s&&(o.set(s,new Ct(a,e,e.ecModel)),a.selected&&(r[s]=!0)),o},Ne()),i.selectedMap||(i.selectedMap=r)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Ct(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,i){var o=this.getRegionModel(e).get("normal"===i?["label","formatter"]:["emphasis","label","formatter"]),a={name:e};return ze(o)?(a.status=i,o(a)):De(o)?o.replace("{a}",e??""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var i=this.option,r=i.selectedMode;r&&("multiple"!==r&&(i.selectedMap=null),(i.selectedMap||(i.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var i=this.option.selectedMap;i&&(i[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var i=this.option.selectedMap;return!(!i||!i[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(st);function p2(n,t){return n.pointToProjected?n.pointToProjected(t):n.pointToData(t)}function Wv(n,t,e,i){var r=n.getZoom(),o=n.getCenter(),a=t.zoom,s=n.projectedToPoint?n.projectedToPoint(o):n.dataToPoint(o);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,n.setCenter(p2(n,s),i)),null!=a){if(e){var l=e.min||0;a=Math.max(Math.min(r*a,e.max||1/0),l)/r}n.scaleX*=a,n.scaleY*=a;var c=(t.originY-n.y)*(a-1);n.x-=(t.originX-n.x)*(a-1),n.y-=c,n.updateTransform(),n.setCenter(p2(n,s),i),n.setZoom(a*r)}return{center:n.getCenter(),zoom:n.getZoom()}}var SO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return Q(t,n),t.prototype.init=function(e,i){this._api=i},t.prototype.render=function(e,i,r,o){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new e2(r));var a=this._mapDraw;a.draw(e,i,r,this,o),a.group.on("click",this._handleRegionClick,this),a.group.silent=e.get("silent"),this.group.add(a.group),this.updateSelectStatus(e,i,r)},t.prototype._handleRegionClick=function(e){var i;Vl(e.target,function(r){return null!=(i=Ze(r).eventData)},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},t.prototype.updateSelectStatus=function(e,i,r){var o=this;this._mapDraw.group.traverse(function(a){var s=Ze(a).eventData;if(s)return o._model.isSelected(s.name)?r.enterSelect(a):r.leaveSelect(a),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Yt);function MO(n,t,e){!function(n,t,e){if(t.svg){var i=new sO(n,t.svg);Qh.set(n,i)}else{var r=t.geoJson||t.geoJSON;r&&!t.features?e=t.specialAreas:r=t,i=new hO(n,r,e),Qh.set(n,i)}}(n,t,e)}function f2(n){function t(e,i){i.update="geo:updateSelectStatus",n.registerAction(i,function(r,o){var a={},s=[];return o.eachComponent({mainType:"geo",query:r},function(l){l[e](r.name),V(l.coordinateSystem.regions,function(h){a[h.name]=l.isSelected(h.name)||!1});var u=[];V(a,function(h,c){a[c]&&u.push(c)}),s.push({geoIndex:l.componentIndex,name:u})}),{selected:a,allSelected:s,name:r.name}})}n.registerCoordinateSystem("geo",d2),n.registerComponentModel(wO),n.registerComponentView(SO),n.registerImpl("registerMap",MO),n.registerImpl("getMap",function(e){return function(n){var t=Qh.get(n);return t&&"geoJSON"===t.type&&t.getMapForUser()}(e)}),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,i,r){var o=e.componentType||"series";i.eachComponent({mainType:o,query:e},function(a){var s=a.coordinateSystem;if("geo"===s.type){var l=Wv(s,e,a.get("scaleLimit"),r);a.setCenter&&a.setCenter(l.center),a.setZoom&&a.setZoom(l.zoom),"series"===o&&V(a.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function IO(n,t){var e=n.isExpand?n.children:[],i=n.parentNode.children,r=n.hierNode.i?i[n.hierNode.i-1]:null;if(e.length){!function(a){for(var s=a.children,l=s.length,u=0,h=0;--l>=0;){var c=s[l];c.hierNode.prelim+=u,c.hierNode.modifier+=u,u+=c.hierNode.shift+(h+=c.hierNode.change)}}(n);var o=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;r?(n.hierNode.prelim=r.hierNode.prelim+t(n,r),n.hierNode.modifier=n.hierNode.prelim-o):n.hierNode.prelim=o}else r&&(n.hierNode.prelim=r.hierNode.prelim+t(n,r));n.parentNode.hierNode.defaultAncestor=function(a,s,l,u){if(s){for(var h=a,c=a,p=c.parentNode.children[0],f=s,g=h.hierNode.modifier,m=c.hierNode.modifier,y=p.hierNode.modifier,x=f.hierNode.modifier;f=Gv(f),c=Hv(c),f&&c;){h=Gv(h),p=Hv(p),h.hierNode.ancestor=a;var b=f.hierNode.prelim+x-c.hierNode.prelim-m+u(f,c);b>0&&(DO(TO(f,a,l),a,b),m+=b,g+=b),x+=f.hierNode.modifier,m+=c.hierNode.modifier,g+=h.hierNode.modifier,y+=p.hierNode.modifier}f&&!Gv(h)&&(h.hierNode.thread=f,h.hierNode.modifier+=x-g),c&&!Hv(p)&&(p.hierNode.thread=c,p.hierNode.modifier+=m-y,l=a)}return l}(n,r,n.parentNode.hierNode.defaultAncestor||i[0],t)}function CO(n){n.setLayout({x:n.hierNode.prelim+n.parentNode.hierNode.modifier},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function g2(n){return arguments.length?n:AO}function tc(n,t){return n-=Math.PI/2,{x:t*Math.cos(n),y:t*Math.sin(n)}}function Gv(n){var t=n.children;return t.length&&n.isExpand?t[t.length-1]:n.hierNode.thread}function Hv(n){var t=n.children;return t.length&&n.isExpand?t[0]:n.hierNode.thread}function TO(n,t,e){return n.hierNode.ancestor.parentNode===t.parentNode?n.hierNode.ancestor:e}function DO(n,t,e){var i=e/(t.hierNode.i-n.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,n.hierNode.change+=i}function AO(n,t){return n.parentNode===t.parentNode?1:2}var kO=function(){this.parentPoint=[],this.childPoints=[]},LO=function(n){function t(e){return n.call(this,e)||this}return Q(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new kO},t.prototype.buildPath=function(e,i){var r=i.childPoints,o=r.length,a=i.parentPoint,s=r[0],l=r[o-1];if(1===o)return e.moveTo(a[0],a[1]),void e.lineTo(s[0],s[1]);var u=i.orient,h="TB"===u||"BT"===u?0:1,c=1-h,p=Te(i.forkPosition,1),f=[];f[h]=a[h],f[c]=a[c]+(l[c]-a[c])*p,e.moveTo(a[0],a[1]),e.lineTo(f[0],f[1]),e.moveTo(s[0],s[1]),f[h]=s[h],e.lineTo(f[0],f[1]),f[h]=l[h],e.lineTo(f[0],f[1]),e.lineTo(l[0],l[1]);for(var g=1;g<o-1;g++){var m=r[g];e.moveTo(m[0],m[1]),f[h]=m[h],e.lineTo(f[0],f[1])}},t}(at),PO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new He,e}return Q(t,n),t.prototype.init=function(e,i){this._controller=new Jh(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,i,r){var o=e.getData(),a=e.layoutInfo,s=this._mainGroup;"radial"===e.get("layout")?(s.x=a.x+a.width/2,s.y=a.y+a.height/2):(s.x=a.x,s.y=a.y),this._updateViewCoordSys(e,r),this._updateController(e,i,r);var l=this._data;o.diff(l).add(function(u){m2(o,u)&&v2(o,u,null,s,e)}).update(function(u,h){var c=l.getItemGraphicEl(h);m2(o,u)?v2(o,u,c,s,e):c&&_2(l,h,c,s,e)}).remove(function(u){var h=l.getItemGraphicEl(u);h&&_2(l,u,h,s,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&o.eachItemGraphicEl(function(u,h){u.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:h})})}),this._data=o},t.prototype._updateViewCoordSys=function(e,i){var r=e.getData(),o=[];r.each(function(c){var p=r.getItemLayout(c);!p||isNaN(p.x)||isNaN(p.y)||o.push([+p.x,+p.y])});var a=[],s=[];Jc(o,a,s);var l=this._min,u=this._max;s[0]-a[0]==0&&(a[0]=l?l[0]:a[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-a[1]==0&&(a[1]=l?l[1]:a[1]-1,s[1]=u?u[1]:s[1]+1);var h=e.coordinateSystem=new ec;h.zoomLimit=e.get("scaleLimit"),h.setBoundingRect(a[0],a[1],s[0]-a[0],s[1]-a[1]),h.setCenter(e.get("center"),i),h.setZoom(e.get("zoom")),this.group.attr({x:h.x,y:h.y,scaleX:h.scaleX,scaleY:h.scaleY}),this._min=a,this._max=s},t.prototype._updateController=function(e,i,r){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(u,h,c){var p=l.getBoundingRect();return p.applyTransform(l.transform),p.contain(h,c)&&!Ip(u,r,e)}),a.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){Ov(s,u.dx,u.dy),r.dispatchAction({seriesId:e.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Rv(s,u.scale,u.originX,u.originY),r.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(e),r.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var i=e.getData(),r=this._getNodeGlobalScale(e);i.eachItemGraphicEl(function(o,a){o.setSymbolScale(r)})},t.prototype._getNodeGlobalScale=function(e){var i=e.coordinateSystem;if("view"!==i.type)return 1;var r=this._nodeScaleRatio,o=i.scaleX||1;return((i.getZoom()-1)*r+1)/o},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(Ot);function m2(n,t){var e=n.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function v2(n,t,e,i,r){var o=!e,a=n.tree.getNodeByDataIndex(t),s=a.getModel(),l=a.getVisual("style").fill,u=!1===a.isExpand&&0!==a.children.length?l:"#fff",h=n.tree.root,c=a.parentNode===h?a:a.parentNode||a,p=n.getItemGraphicEl(c.dataIndex),f=c.getLayout(),g=p?{x:p.__oldX,y:p.__oldY,rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:f,m=a.getLayout();o?((e=new Uh(n,t,null,{symbolInnerColor:u,useNameLabel:!0})).x=g.x,e.y=g.y):e.updateData(n,t,null,{symbolInnerColor:u,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=m.rawX,e.__radialRawY=m.rawY,i.add(e),n.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,vt(e,{x:m.x,y:m.y},r);var y=e.getSymbolPath();if("radial"===r.get("layout")){var x=h.children[0],b=x.getLayout(),S=x.children.length,M=void 0,C=void 0;if(m.x===b.x&&!0===a.isExpand&&x.children.length){var T={x:(x.children[0].getLayout().x+x.children[S-1].getLayout().x)/2,y:(x.children[0].getLayout().y+x.children[S-1].getLayout().y)/2};(M=Math.atan2(T.y-b.y,T.x-b.x))<0&&(M=2*Math.PI+M),(C=T.x<b.x)&&(M-=Math.PI)}else(M=Math.atan2(m.y-b.y,m.x-b.x))<0&&(M=2*Math.PI+M),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(C=m.x<b.x)&&(M-=Math.PI):(C=m.x>b.x)||(M-=Math.PI);var D=C?"left":"right",k=s.getModel("label"),R=k.get("rotate"),N=R*(Math.PI/180),E=y.getTextContent();E&&(y.setTextConfig({position:k.get("position")||D,rotation:null==R?-M:N,origin:"center"}),E.setStyle("verticalAlign","middle"))}var B=s.get(["emphasis","focus"]),G="relative"===B?fr(a.getAncestorsIndices(),a.getDescendantIndices()):"ancestor"===B?a.getAncestorsIndices():"descendant"===B?a.getDescendantIndices():null;G&&(Ze(e).focus=G),function(H,Y,j,Z,q,J,te,ne){var le=Y.getModel(),ye=H.get("edgeShape"),ie=H.get("layout"),he=H.getOrient(),xe=H.get(["lineStyle","curveness"]),be=H.get("edgeForkPosition"),ge=le.getModel("lineStyle").getLineStyle(),we=Z.__edge;if("curve"===ye)Y.parentNode&&Y.parentNode!==j&&(we||(we=Z.__edge=new vl({shape:Uv(ie,he,xe,q,q)})),vt(we,{shape:Uv(ie,he,xe,J,te)},H));else if("polyline"===ye&&"orthogonal"===ie&&Y!==j&&Y.children&&0!==Y.children.length&&!0===Y.isExpand){for(var me=Y.children,Ce=[],Pe=0;Pe<me.length;Pe++){var Ye=me[Pe].getLayout();Ce.push([Ye.x,Ye.y])}we||(we=Z.__edge=new LO({shape:{parentPoint:[te.x,te.y],childPoints:[[te.x,te.y]],orient:he,forkPosition:be}})),vt(we,{shape:{parentPoint:[te.x,te.y],childPoints:Ce}},H)}we&&("polyline"!==ye||Y.isExpand)&&(we.useStyle(Ee({strokeNoScale:!0,fill:null},ge)),qn(we,le,"lineStyle"),fs(we),ne.add(we))}(r,a,h,e,g,f,m,i),e.__edge&&(e.onHoverStateChange=function(H){if("blur"!==H){var Y=a.parentNode&&n.getItemGraphicEl(a.parentNode.dataIndex);Y&&1===Y.hoverState||id(e.__edge,H)}})}function y2(n,t,e,i,r){var o=x2(t.tree.root,n),a=o.source,s=o.sourceLayout,l=t.getItemGraphicEl(n.dataIndex);if(l){var u=t.getItemGraphicEl(a.dataIndex).__edge,h=l.__edge||(!1===a.isExpand||1===a.children.length?u:void 0),c=i.get("edgeShape"),p=i.get("layout"),f=i.get("orient"),g=i.get(["lineStyle","curveness"]);h&&("curve"===c?ua(h,{shape:Uv(p,f,g,s,s),style:{opacity:0}},i,{cb:function(){e.remove(h)},removeOpt:r}):"polyline"===c&&"orthogonal"===i.get("layout")&&ua(h,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},i,{cb:function(){e.remove(h)},removeOpt:r}))}}function x2(n,t){for(var e,i=t.parentNode===n?t:t.parentNode||t;null==(e=i.getLayout());)i=i.parentNode===n?i:i.parentNode||i;return{source:i,sourceLayout:e}}function _2(n,t,e,i,r){var o=n.tree.getNodeByDataIndex(t),a=x2(n.tree.root,o).sourceLayout,s={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};ua(e,{x:a.x+1,y:a.y+1},r,{cb:function(){i.remove(e),n.setItemGraphicEl(t,null)},removeOpt:s}),e.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:s}),o.children.forEach(function(l){y2(l,n,i,r,s)}),y2(o,n,i,r,s)}function Uv(n,t,e,i,r){var o,a,s,l,u,h,c,p;if("radial"===n){h=r.rawX,p=r.rawY;var f=tc(u=i.rawX,c=i.rawY),g=tc(u,c+(p-c)*e),m=tc(h,p+(c-p)*e),y=tc(h,p);return{x1:f.x||0,y1:f.y||0,x2:y.x||0,y2:y.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:m.x||0,cpy2:m.y||0}}return u=i.x,c=i.y,h=r.x,p=r.y,"LR"!==t&&"RL"!==t||(o=u+(h-u)*e,a=c,s=h+(u-h)*e,l=p),"TB"!==t&&"BT"!==t||(o=u,a=c+(p-c)*e,s=h,l=p+(c-p)*e),{x1:u,y1:c,x2:h,y2:p,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}var hr=_t();function b2(n){var t=n.mainData,e=n.datas;e||(e={main:t},n.datasAttr={main:"data"}),n.datas=n.mainData=null,w2(t,e,n),V(e,function(i){V(t.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,We(OO,n))})}),t.wrapMethod("cloneShallow",We(NO,n)),V(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,We(RO,n))}),mt(e[t.dataType]===t)}function OO(n,t){if(hr(this).mainData===this){var e=ae({},hr(this).datas);e[this.dataType]=t,w2(t,e,n)}else Yv(t,this.dataType,hr(this).mainData,n);return t}function RO(n,t){return n.struct&&n.struct.update(),t}function NO(n,t){return V(hr(t).datas,function(e,i){e!==t&&Yv(e.cloneShallow(),i,t,n)}),t}function EO(n){var t=hr(this).mainData;return null==n||null==t?t:hr(t).datas[n]}function zO(){var n=hr(this).mainData;return null==n?[{data:n}]:oe(tt(hr(n).datas),function(t){return{type:t,data:hr(n).datas[t]}})}function w2(n,t,e){hr(n).datas={},V(t,function(i,r){Yv(i,r,n,e)})}function Yv(n,t,e,i){hr(e).datas[t]=n,hr(n).mainData=e,n.dataType=t,i.struct&&(n[i.structAttr]=i.struct,i.struct[i.datasAttr[t]]=n),n.getLinkedData=EO,n.getLinkedDataAll=zO}var BO=function(){function n(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(t,e,i){ze(t)&&(i=e,e=t,t=null),De(t=t||{})&&(t={order:t});var r,o=t.order||"preorder",a=this[t.attr||"children"];"preorder"===o&&(r=e.call(i,this));for(var s=0;!r&&s<a.length;s++)a[s].eachNode(t,e,i);"postorder"===o&&e.call(i,this)},n.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var r=this.children[i];r.updateDepthAndHeight(t+1),r.height>e&&(e=r.height)}this.height=e+1},n.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,r=i.length;e<r;e++){var o=i[e].getNodeById(t);if(o)return o}},n.prototype.contains=function(t){if(t===this)return!0;for(var e=0,i=this.children,r=i.length;e<r;e++){var o=i[e].contains(t);if(o)return o}},n.prototype.getAncestors=function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},n.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},n.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},n.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},n.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},n.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},n.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},n.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},n}(),Xv=function(){function n(t){this.type="tree",this._nodes=[],this.hostModel=t}return n.prototype.eachNode=function(t,e,i){this.root.eachNode(t,e,i)},n.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},n.prototype.getNodeById=function(t){return this.root.getNodeById(t)},n.prototype.update=function(){for(var t=this.data,e=this._nodes,i=0,r=e.length;i<r;i++)e[i].dataIndex=-1;for(i=0,r=t.count();i<r;i++)e[t.getRawIndex(i)].dataIndex=i},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(t,e,i){var r=new n(e),o=[],a=1;(function u(h,c){var p=h.value;a=Math.max(a,ce(p)?p.length:1),o.push(h);var y,x,f=new BO(An(h.name,""),r);c?(y=f).parentNode!==(x=c)&&(x.children.push(y),y.parentNode=x):r.root=f,r._nodes.push(f);var g=h.children;if(g)for(var m=0;m<g.length;m++)u(g[m],f)})(t),r.root.updateDepthAndHeight(0);var s=Ul(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,l=new ai(s,e);return l.initData(o),i&&i(l),b2({mainData:l,struct:r,structAttr:"tree"}),r.update(),r},n}();function nc(n,t,e){if(n&&je(t,n.type)>=0){var i=e.getData().tree.root,r=n.targetNode;if(De(r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=n.targetNodeId;if(null!=o&&(r=i.getNodeById(o)))return{node:r}}}function S2(n){for(var t=[];n;)(n=n.parentNode)&&t.push(n);return t.reverse()}function jv(n,t){return je(S2(n),t)>=0}function Lp(n,t){for(var e=[];n;){var i=n.dataIndex;e.push({name:n.name,dataIndex:i,value:t.getRawValue(i)}),n=n.parentNode}return e.reverse(),e}var VO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return Q(t,n),t.prototype.getInitialData=function(e){var i={name:e.name,children:e.data},o=new Ct(e.leaves||{},this,this.ecModel),a=Xv.createTree(i,this,function(u){u.wrapMethod("getItemModel",function(h,c){var p=a.getNodeByDataIndex(c);return p&&p.children.length&&p.isExpand||(h.parentModel=o),h})}),s=0;a.eachNode("preorder",function(u){u.depth>s&&(s=u.depth)});var l=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:s;return a.root.eachNode("preorder",function(u){var h=u.hostTree.data.getRawDataItem(u.dataIndex);u.isExpand=h&&null!=h.collapsed?!h.collapsed:u.depth<=l}),a.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,i,r){for(var o=this.getData().tree,a=o.root.children[0],s=o.getNodeByDataIndex(e),l=s.getValue(),u=s.name;s&&s!==a;)u=s.parentNode.name+"."+u,s=s.parentNode;return Bn("nameValue",{name:u,value:l,noValue:isNaN(l)||null==l})},t.prototype.getDataParams=function(e){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return i.treeAncestors=Lp(r,this),i.collapsed=!r.isExpand,i},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Bt);function ic(n,t){for(var e,i=[n];e=i.pop();)if(t(e),e.isExpand){var r=e.children;if(r.length)for(var o=r.length-1;o>=0;o--)i.push(r[o])}}function FO(n,t){n.eachSeriesByType("tree",function(e){!function(i,r){var D,o=(D=r,In(i.getBoxLayoutParams(),{width:D.getWidth(),height:D.getHeight()}));i.layoutInfo=o;var a=i.get("layout"),s=0,l=0,u=null;"radial"===a?(s=2*Math.PI,l=Math.min(o.height,o.width)/2,u=g2(function(T,D){return(T.parentNode===D.parentNode?1:2)/T.depth})):(s=o.width,l=o.height,u=g2());var h=i.getData().tree.root,c=h.children[0];if(c){(function(T){var D=T;D.hierNode={defaultAncestor:null,ancestor:D,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var k,R,N=[D];k=N.pop();)if(R=k.children,k.isExpand&&R.length)for(var E=R.length-1;E>=0;E--){var B=R[E];B.hierNode={defaultAncestor:null,ancestor:B,prelim:0,modifier:0,change:0,shift:0,i:E,thread:null},N.push(B)}})(h),function(T,D,k){for(var R,N=[T],E=[];R=N.pop();)if(E.push(R),R.isExpand){var B=R.children;if(B.length)for(var G=0;G<B.length;G++)N.push(B[G])}for(;R=E.pop();)D(R,k)}(c,IO,u),h.hierNode.modifier=-c.hierNode.prelim,ic(c,CO);var p=c,f=c,g=c;ic(c,function(T){var D=T.getLayout().x;D<p.getLayout().x&&(p=T),D>f.getLayout().x&&(f=T),T.depth>g.depth&&(g=T)});var m=p===f?1:u(p,f)/2,y=m-p.getLayout().x,x=0,b=0,S=0,M=0;if("radial"===a)x=s/(f.getLayout().x+m+y),b=l/(g.depth-1||1),ic(c,function(T){var D=tc(S=(T.getLayout().x+y)*x,M=(T.depth-1)*b);T.setLayout({x:D.x,y:D.y,rawX:S,rawY:M},!0)});else{var C=i.getOrient();"RL"===C||"LR"===C?(b=l/(f.getLayout().x+m+y),x=s/(g.depth-1||1),ic(c,function(T){M=(T.getLayout().x+y)*b,T.setLayout({x:S="LR"===C?(T.depth-1)*x:s-(T.depth-1)*x,y:M},!0)})):"TB"!==C&&"BT"!==C||(x=s/(f.getLayout().x+m+y),b=l/(g.depth-1||1),ic(c,function(T){S=(T.getLayout().x+y)*x,T.setLayout({x:S,y:M="TB"===C?(T.depth-1)*b:l-(T.depth-1)*b},!0)}))}}}(e,t)})}function WO(n){n.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(i){var r=i.getModel().getModel("itemStyle").getItemStyle();ae(e.ensureUniqueItemVisual(i.dataIndex,"style"),r)})})}var M2=["treemapZoomToNode","treemapRender","treemapMove"];function I2(n){var t=n.getData().tree,e={};t.eachNode(function(i){for(var r=i;r&&r.depth>1;)r=r.parentNode;var o=Zg(n.ecModel,r.name||r.dataIndex+"",e);i.setVisual("decal",o)})}var GO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return Q(t,n),t.prototype.getInitialData=function(e,i){var r={name:e.name,children:e.data};C2(r);var o=e.levels||[],a=this.designatedVisualItemStyle={},s=new Ct({itemStyle:a},this,i),l=oe((o=e.levels=function(h,c){var p,f,g=zt(c.get("color")),m=zt(c.get(["aria","decal","decals"]));if(g){V(h=h||[],function(x){var b=new Ct(x),S=b.get("color"),M=b.get("decal");(b.get(["itemStyle","color"])||S&&"none"!==S)&&(p=!0),(b.get(["itemStyle","decal"])||M&&"none"!==M)&&(f=!0)});var y=h[0]||(h[0]={});return p||(y.color=g.slice()),!f&&m&&(y.decal=m.slice()),h}}(o,i))||[],function(h){return new Ct(h,s,i)},this),u=Xv.createTree(r,this,function(h){h.wrapMethod("getItemModel",function(c,p){var f=u.getNodeByDataIndex(p);return c.parentModel=(f?l[f.depth]:null)||s,c})});return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,i,r){var o=this.getData(),a=this.getRawValue(e);return Bn("nameValue",{name:o.getName(e),value:a})},t.prototype.getDataParams=function(e){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return i.treeAncestors=Lp(r,this),i.treePathInfo=i.treeAncestors,i},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},ae(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var i=this._idIndexMap;i||(i=this._idIndexMap=Ne(),this._idIndexMapCount=0);var r=i.get(e);return null==r&&i.set(e,r=this._idIndexMapCount++),r},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var i=this.getRawData().tree.root;e&&(e===i||i.contains(e))||(this._viewRoot=i)},t.prototype.enableAriaDecal=function(){I2(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Bt);function C2(n){var t=0;V(n.children,function(i){C2(i);var r=i.value;ce(r)&&(r=r[0]),t+=r});var e=n.value;ce(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),ce(n.value)?n.value[0]=e:n.value=e}var HO=function(){function n(t){this.group=new He,t.add(this.group)}return n.prototype.render=function(t,e,i,r){var o=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),o.get("show")&&i){var s=o.getModel("itemStyle"),l=s.getModel("textStyle"),u={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,u,l),this._renderContent(t,u,s,l,r),Cd(a,u.pos,u.box)}},n.prototype._prepare=function(t,e,i){for(var r=t;r;r=r.parentNode){var o=An(r.getModel().get("name"),""),a=i.getTextRect(o),s=Math.max(a.width+16,e.emptyItemWidth);e.totalWidth+=s+8,e.renderList.push({node:r,text:o,width:s})}},n.prototype._renderContent=function(t,e,i,r,o){for(var a,s,l,u,h,c,p,f,g,m=0,y=e.emptyItemWidth,x=t.get(["breadcrumb","height"]),b=(h=(s=e.box).height,c=Te((a=e.pos).left,u=s.width),p=Te(a.top,h),f=Te(a.right,u),g=Te(a.bottom,h),(isNaN(c)||isNaN(parseFloat(a.left)))&&(c=0),(isNaN(f)||isNaN(parseFloat(a.right)))&&(f=u),(isNaN(p)||isNaN(parseFloat(a.top)))&&(p=0),(isNaN(g)||isNaN(parseFloat(a.bottom)))&&(g=h),l=xs(l||0),{width:Math.max(f-c-l[1]-l[3],0),height:Math.max(g-p-l[0]-l[2],0)}),S=e.totalWidth,M=e.renderList,C=M.length-1;C>=0;C--){var T=M[C],D=T.node,k=T.width,R=T.text;S>b.width&&(S-=k-y,k=y,R=null);var N=new ni({shape:{points:UO(m,0,k,x,C===M.length-1,0===C)},style:Ee(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new gt({style:{text:R,fill:r.getTextColor(),font:r.getFont()}}),textConfig:{position:"inside"},z2:1e5,onclick:We(o,D)});N.disableLabelAnimation=!0,this.group.add(N),YO(N,t,D),m+=k+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function UO(n,t,e,i,r,o){var a=[[r?n:n-5,t],[n+e,t],[n+e,t+i],[r?n:n-5,t+i]];return!o&&a.splice(2,0,[n+e+5,t+i/2]),!r&&a.push([n,t+i/2]),a}function YO(n,t,e){Ze(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&Lp(e,t)}}var XO=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(t,e,i,r,o){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:i,delay:r,easing:o}),!0)},n.prototype.finished=function(t){return this._finishedCallback=t,this},n.prototype.start=function(){for(var t=this,e=this._storage.length,i=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},r=0,o=this._storage.length;r<o;r++){var a=this._storage[r];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:i,aborted:i})}return this},n}(),Zv=He,T2=ht,A2="upperLabel",Bs=rs([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),k2=function(n){var t=Bs(n);return t.stroke=t.fill=t.lineWidth=null,t},Pp=_t(),jO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}return Q(t,n),t.prototype.render=function(e,i,r,o){if(!(je(i.findComponents({mainType:"series",subType:"treemap",query:o}),e)<0)){this.seriesModel=e,this.api=r,this.ecModel=i;var a=nc(o,["treemapZoomToNode","treemapRootToNode"],e),s=o&&o.type,l=e.layoutInfo,u=!this._oldTree,h=this._storage,c="treemapRootToNode"===s&&a&&h?{rootNodeGroup:h.nodeGroup[a.node.getRawIndex()],direction:o.direction}:null,p=this._giveContainerGroup(l),f=e.get("animation"),g=this._doRender(p,e,c);!f||u||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?g.renderFinally():this._doAnimation(p,g,e,c),this._resetController(r),this._renderBreadcrumb(e,r,a)}},t.prototype._giveContainerGroup=function(e){var i=this._containerGroup;return i||(i=this._containerGroup=new Zv,this._initEvents(i),this.group.add(i)),i.x=e.x,i.y=e.y,i},t.prototype._doRender=function(e,i,r){var o=i.getData().tree,a=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},u=this._storage,h=[];!function f(g,m,y,x,b){function S(C){return C.getId()}function M(C,T){var D=null!=C?g[C]:null,k=null!=T?m[T]:null,R=function c(f,g,m,y){return function(x,b,S,M,C,T,D,k,R,N){if(D){var E=D.getLayout(),B=x.getData(),G=D.getModel();if(B.setItemGraphicEl(D.dataIndex,null),E&&E.isInView){var H=E.width,Y=E.height,j=E.borderWidth,Z=E.invisible,q=D.getRawIndex(),J=k&&k.getRawIndex(),te=D.viewChildren,ne=E.upperHeight,le=te&&te.length,ye=G.getModel("itemStyle"),ie=G.getModel(["emphasis","itemStyle"]),he=G.getModel(["blur","itemStyle"]),xe=G.getModel(["select","itemStyle"]),be=ye.get("borderRadius")||0,ge=Tn("nodeGroup",Zv);if(ge){if(R.add(ge),ge.x=E.x||0,ge.y=E.y||0,ge.markRedraw(),Pp(ge).nodeWidth=H,Pp(ge).nodeHeight=Y,E.isAboveViewRoot)return ge;var we=Tn("background",T2,N,20);we&&function nt(bt,et,Xe){var Ht=Ze(et);if(Ht.dataIndex=D.dataIndex,Ht.seriesIndex=x.seriesIndex,et.setShape({x:0,y:0,width:H,height:Y,r:be}),Z)Rt(et);else{et.invisible=!1;var en=D.getVisual("style"),mn=en.stroke,vn=k2(ye);vn.fill=mn;var yn=Bs(ie);yn.fill=ie.get("borderColor");var Er=Bs(he);Er.fill=he.get("borderColor");var Bo=Bs(xe);Bo.fill=xe.get("borderColor"),Xe?Vt(et,mn,en.opacity,{x:j,y:0,width:H-2*j,height:ne}):et.removeTextContent(),et.setStyle(vn),et.ensureState("emphasis").style=yn,et.ensureState("blur").style=Er,et.ensureState("select").style=Bo,fs(et)}bt.add(et)}(ge,we,le&&E.upperLabelHeight);var me=G.getModel("emphasis"),Ce=me.get("focus"),Pe=me.get("blurScope"),Ye=me.get("disabled"),Ke="ancestor"===Ce?D.getAncestorsIndices():"descendant"===Ce?D.getDescendantIndices():Ce;if(le)eh(ge)&&gs(ge,!1),we&&(gs(we,!Ye),B.setItemGraphicEl(D.dataIndex,we),pg(we,Ke,Pe));else{var At=Tn("content",T2,N,30);At&&function lt(bt,et){var Xe=Ze(et);Xe.dataIndex=D.dataIndex,Xe.seriesIndex=x.seriesIndex;var Ht=Math.max(H-2*j,0),en=Math.max(Y-2*j,0);if(et.culling=!0,et.setShape({x:j,y:j,width:Ht,height:en,r:be}),Z)Rt(et);else{et.invisible=!1;var mn=D.getVisual("style"),vn=mn.fill,yn=k2(ye);yn.fill=vn,yn.decal=mn.decal;var Er=Bs(ie),Bo=Bs(he),fu=Bs(xe);Vt(et,vn,mn.opacity,null),et.setStyle(yn),et.ensureState("emphasis").style=Er,et.ensureState("blur").style=Bo,et.ensureState("select").style=fu,fs(et)}bt.add(et)}(ge,At),we.disableMorphing=!0,we&&eh(we)&&gs(we,!1),gs(ge,!Ye),B.setItemGraphicEl(D.dataIndex,ge),pg(ge,Ke,Pe)}return ge}}}function Rt(bt){!bt.invisible&&T.push(bt)}function Vt(bt,et,Xe,Ht){var en=G.getModel(Ht?A2:"label"),mn=An(G.get("name"),null),vn=en.getShallow("show");ri(bt,jn(G,Ht?A2:"label"),{defaultText:vn?mn:null,inheritColor:et,defaultOpacity:Xe,labelFetcher:x,labelDataIndex:D.dataIndex});var yn=bt.getTextContent();if(yn){var Er=yn.style,Bo=Ft(Er.padding||0);Ht&&(bt.setTextConfig({layoutRect:Ht}),yn.disableLabelLayout=!0),yn.beforeUpdate=function(){var cA=Math.max((Ht?Ht.width:bt.shape.width)-Bo[1]-Bo[3],0),dA=Math.max((Ht?Ht.height:bt.shape.height)-Bo[0]-Bo[2],0);Er.width===cA&&Er.height===dA||yn.setStyle({width:cA,height:dA})},Er.truncateMinChar=2,Er.lineOverflow="truncate",gn(Er,Ht,E);var fu=yn.getState("emphasis");gn(fu?fu.style:null,Ht,E)}}function gn(bt,et,Xe){var Ht=bt?bt.text:null;if(!et&&Xe.isLeafRoot&&null!=Ht){var en=x.get("drillDownIcon",!0);bt.text=en?en+" "+Ht:Ht}}function Tn(bt,et,Xe,Ht){var en=null!=J&&S[bt][J],mn=C[bt];return en?(S[bt][J]=null,function Ti(bt,et){var Xe=bt[q]={};et instanceof Zv?(Xe.oldX=et.x,Xe.oldY=et.y):Xe.oldShape=ae({},et.shape)}(mn,en)):Z||((en=new et)instanceof er&&(en.z2=100*Xe+Ht),function uo(bt,et){var Xe=bt[q]={},Ht=D.parentNode,en=et instanceof He;if(Ht&&(!M||"drillDown"===M.direction)){var mn=0,vn=0,yn=C.background[Ht.getRawIndex()];!M&&yn&&yn.oldShape&&(mn=yn.oldShape.width,vn=yn.oldShape.height),en?(Xe.oldX=0,Xe.oldY=vn):Xe.oldShape={x:mn,y:vn,width:0,height:0}}Xe.fadein=!en}(mn,en)),b[bt][q]=en}}(i,l,u,r,s,h,f,g,m,y)}(D,k,y,b);R&&f(D&&D.viewChildren||[],k&&k.viewChildren||[],R,x,b+1)}x?(m=g,V(g,function(C,T){!C.isRemoved()&&M(T,T)})):new ko(m,g,S,S).add(M).update(M).remove(We(M,null)).execute()}(o.root?[o.root]:[],a&&a.root?[a.root]:[],e,o===a||!a,0);var f,g,p=(g={nodeGroup:[],background:[],content:[]},(f=u)&&V(f,function(m,y){var x=g[y];V(m,function(b){b&&(x.push(b),Pp(b).willDelete=!0)})}),g);return this._oldTree=o,this._storage=l,{lastsForAnimation:s,willDeleteEls:p,renderFinally:function(){V(p,function(f){V(f,function(g){g.parent&&g.parent.remove(g)})}),V(h,function(f){f.invisible=!0,f.dirty()})}}},t.prototype._doAnimation=function(e,i,r,o){var a=r.get("animationDurationUpdate"),s=r.get("animationEasing"),l=(ze(a)?0:a)||0,u=(ze(s)?null:s)||"cubicOut",h=new XO;V(i.willDeleteEls,function(c,p){V(c,function(f,g){if(!f.invisible){var m,y=f.parent,x=Pp(y);if(o&&"drillDown"===o.direction)m=y===o.rootNodeGroup?{shape:{x:0,y:0,width:x.nodeWidth,height:x.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var b=0,S=0;x.willDelete||(b=x.nodeWidth/2,S=x.nodeHeight/2),m="nodeGroup"===p?{x:b,y:S,style:{opacity:0}}:{shape:{x:b,y:S,width:0,height:0},style:{opacity:0}}}m&&h.add(f,m,l,0,u)}})}),V(this._storage,function(c,p){V(c,function(f,g){var m=i.lastsForAnimation[p][g],y={};m&&(f instanceof He?null!=m.oldX&&(y.x=f.x,y.y=f.y,f.x=m.oldX,f.y=m.oldY):(m.oldShape&&(y.shape=ae({},f.shape),f.setShape(m.oldShape)),m.fadein?(f.setStyle("opacity",0),y.style={opacity:1}):1!==f.style.opacity&&(y.style={opacity:1})),h.add(f,y,l,0,u))})},this),this._state="animating",h.finished(F(function(){this._state="ready",i.renderFinally()},this)).start()},t.prototype._resetController=function(e){var i=this._controller;i||((i=this._controller=new Jh(e.getZr())).enable(this.seriesModel.get("roam")),i.on("pan",F(this._onPan,this)),i.on("zoom",F(this._onZoom,this)));var r=new ue(0,0,e.getWidth(),e.getHeight());i.setPointerChecker(function(o,a,s){return r.contain(a,s)})},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+e.dx,y:r.y+e.dy,width:r.width,height:r.height}})}},t.prototype._onZoom=function(e){var i=e.originX,r=e.originY;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var a=o.getLayout();if(!a)return;var s=new ue(a.x,a.y,a.width,a.height),l=this.seriesModel.layoutInfo,u=[1,0,0,1,0,0];Ni(u,u,[-(i-=l.x),-(r-=l.y)]),Qa(u,u,[e.scale,e.scale]),Ni(u,u,[i,r]),s.applyTransform(u),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},t.prototype._initEvents=function(e){var i=this;e.on("click",function(r){if("ready"===i._state){var o=i.seriesModel.get("nodeClick",!0);if(o){var a=i.findTarget(r.offsetX,r.offsetY);if(a){var s=a.node;if(s.getLayout().isLeafRoot)i._rootToNode(a);else if("zoomToNode"===o)i._zoomToNode(a);else if("link"===o){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),h=l.get("target",!0)||"blank";u&&Md(u,h)}}}}},this)},t.prototype._renderBreadcrumb=function(e,i,r){var o=this;r||(r=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2))||(r={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new HO(this.group))).render(e,i,r.node,function(a){"animating"!==o._state&&(jv(e.getViewRoot(),a)?o._rootToNode({node:a}):o._zoomToNode({node:a}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,i){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(o){var a=this._storage.background[o.getRawIndex()];if(a){var s=a.transformCoordToLocal(e,i),l=a.shape;if(!(l.x<=s[0]&&s[0]<=l.x+l.width&&l.y<=s[1]&&s[1]<=l.y+l.height))return!1;r={node:o,offsetX:s[0],offsetY:s[1]}}},this),r},t.type="treemap",t}(Ot),rc=V,ZO=Oe,Fn=function(){function n(t){var e=t.mappingMethod,i=t.type,r=this.option=Re(t);this.type=i,this.mappingMethod=e,this._normalizeData=qO[e];var a,s,o=n.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[e],"piecewise"===e?(Kv(r),s=(a=r).pieceList,a.hasSpecialVisual=!1,V(s,function(l,u){l.originIndex=u,null!=l.visual&&(a.hasSpecialVisual=!0)})):"category"===e?r.categories?function(a){var s=a.categories,l=a.categoryMap={},u=a.visual;if(rc(s,function(p,f){l[p]=f}),!ce(u)){var h=[];Oe(u)?rc(u,function(p,f){h[l[f]??-1]=p}):h[-1]=u,u=P2(a,h)}for(var c=s.length-1;c>=0;c--)null==u[c]&&(delete l[s[c]],s.pop())}(r):Kv(r,!0):(mt("linear"!==e||r.dataExtent),Kv(r))}return n.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},n.prototype.getNormalizer=function(){return F(this._normalizeData,this)},n.listVisualTypes=function(){return tt(n.visualHandlers)},n.isValidType=function(t){return n.visualHandlers.hasOwnProperty(t)},n.eachVisual=function(t,e,i){Oe(t)?V(t,e,i):e.call(i,t)},n.mapVisual=function(t,e,i){var r,o=ce(t)?[]:Oe(t)?{}:(r=!0,null);return n.eachVisual(t,function(a,s){var l=e.call(i,a,s);r?o=l:o[s]=l}),o},n.retrieveVisuals=function(t){var e,i={};return t&&rc(n.visualHandlers,function(r,o){t.hasOwnProperty(o)&&(i[o]=t[o],e=!0)}),e?i:null},n.prepareVisualTypes=function(t){if(ce(t))t=t.slice();else{if(!ZO(t))return[];var e=[];rc(t,function(i,r){e.push(r)}),t=e}return t.sort(function(i,r){return"color"===r&&"color"!==i&&0===i.indexOf("color")?1:-1}),t},n.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},n.findPieceIndex=function(t,e,i){for(var r,o=1/0,a=0,s=e.length;a<s;a++){var l=e[a].value;if(null!=l){if(l===t||De(l)&&l===t+"")return a;i&&p(l,a)}}for(a=0,s=e.length;a<s;a++){var u=e[a],h=u.interval,c=u.close;if(h){if(h[0]===-1/0){if(Rp(c[1],t,h[1]))return a}else if(h[1]===1/0){if(Rp(c[0],h[0],t))return a}else if(Rp(c[0],h[0],t)&&Rp(c[1],t,h[1]))return a;i&&p(h[0],a),i&&p(h[1],a)}}if(i)return t===1/0?e.length-1:t===-1/0?0:r;function p(f,g){var m=Math.abs(f-t);m<o&&(o=m,r=g)}},n.visualHandlers={color:{applyVisual:oc("color"),getColorMapper:function(){var t=this.option;return F("category"===t.mappingMethod?function(e,i){return!i&&(e=this._normalizeData(e)),ac.call(this,e)}:function(e,i,r){var o=!!r;return!i&&(e=this._normalizeData(e)),r=ja(e,t.parsedVisual,r),o?r:yi(r,"rgba")},this)},_normalizedToVisual:{linear:function(t){return yi(ja(t,this.option.parsedVisual),"rgba")},category:ac,piecewise:function(t,e){var i=Jv.call(this,e);return null==i&&(i=yi(ja(t,this.option.parsedVisual),"rgba")),i},fixed:Vs}},colorHue:Op(function(t,e){return Ko(t,e)}),colorSaturation:Op(function(t,e){return Ko(t,null,e)}),colorLightness:Op(function(t,e){return Ko(t,null,null,e)}),colorAlpha:Op(function(t,e){return Za(t,e)}),decal:{applyVisual:oc("decal"),_normalizedToVisual:{linear:null,category:ac,piecewise:null,fixed:null}},opacity:{applyVisual:oc("opacity"),_normalizedToVisual:$v([0,1])},liftZ:{applyVisual:oc("liftZ"),_normalizedToVisual:{linear:Vs,category:Vs,piecewise:Vs,fixed:Vs}},symbol:{applyVisual:function(t,e,i){i("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:L2,category:ac,piecewise:function(t,e){var i=Jv.call(this,e);return null==i&&(i=L2.call(this,t)),i},fixed:Vs}},symbolSize:{applyVisual:oc("symbolSize"),_normalizedToVisual:$v([0,1])}},n}();function Kv(n,t){var e=n.visual,i=[];Oe(e)?rc(e,function(r){i.push(r)}):null!=e&&i.push(e),t||1!==i.length||{color:1,symbol:1}.hasOwnProperty(n.type)||(i[1]=i[0]),P2(n,i)}function Op(n){return{applyVisual:function(t,e,i){var r=this.mapValueToVisual(t);i("color",n(e("color"),r))},_normalizedToVisual:$v([0,1])}}function L2(n){var t=this.option.visual;return t[Math.round(kt(n,[0,1],[0,t.length-1],!0))]||{}}function oc(n){return function(t,e,i){i(n,this.mapValueToVisual(t))}}function ac(n){var t=this.option.visual;return t[this.option.loop&&-1!==n?n%t.length:n]}function Vs(){return this.option.visual[0]}function $v(n){return{linear:function(t){return kt(t,n,this.option.visual,!0)},category:ac,piecewise:function(t,e){var i=Jv.call(this,e);return null==i&&(i=kt(t,n,this.option.visual,!0)),i},fixed:Vs}}function Jv(n){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var i=e[Fn.findPieceIndex(n,e)];if(i&&i.visual)return i.visual[this.type]}}function P2(n,t){return n.visual=t,"color"===n.type&&(n.parsedVisual=oe(t,function(e){return Rn(e)||[0,0,0,1]})),t}var qO={linear:function(n){return kt(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var t=this.option.pieceList,e=Fn.findPieceIndex(n,t,!0);if(null!=e)return kt(e,[0,t.length-1],[0,1],!0)},category:function(n){return(this.option.categories?this.option.categoryMap[n]:n)??-1},fixed:rn};function Rp(n,t,e){return n?t<=e:t<e}var O2=_t(),KO={seriesType:"treemap",reset:function(n){var t=n.getData().tree.root;t.isRemoved()||R2(t,{},n.getViewRoot().getAncestors(),n)}};function R2(n,t,e,i){var m,y,x,b,S,r=n.getModel(),o=n.getLayout(),a=n.hostTree.data;if(o&&!o.invisible&&o.isInView){var s,l=r.getModel("itemStyle"),u=(m=l,x=i,b=ae({},y=t),S=x.designatedVisualItemStyle,V(["color","colorAlpha","colorSaturation"],function(M){S[M]=y[M];var C=m.get(M);S[M]=null,null!=C&&(b[M]=C)}),b),h=a.ensureUniqueItemVisual(n.dataIndex,"style"),c=l.get("borderColor"),p=l.get("borderColorSaturation");null!=p&&(c=function(m,y){return null!=y?Ko(y,null,null,m):null}(p,s=N2(u))),h.stroke=c;var f=n.viewChildren;if(f&&f.length){var g=function(m,y,x,b,S,M){if(M&&M.length){var C=ey(y,"color")||null!=S.color&&"none"!==S.color&&(ey(y,"colorAlpha")||ey(y,"colorSaturation"));if(C){var T=y.get("visualMin"),D=y.get("visualMax"),k=x.dataExtent.slice();null!=T&&T<k[0]&&(k[0]=T),null!=D&&D>k[1]&&(k[1]=D);var R=y.get("colorMappingBy"),N={type:C.name,dataExtent:k,visual:C.range};"color"!==N.type||"index"!==R&&"id"!==R?N.mappingMethod="linear":(N.mappingMethod="category",N.loop=!0);var E=new Fn(N);return O2(E).drColorMappingBy=R,E}}}(0,r,o,0,u,f);V(f,function(m,y){if(m.depth>=e.length||m===e[m.depth]){var x=function(b,S,M,C,T,D){var k=ae({},S);if(T){var R=T.type,N="color"===R&&O2(T).drColorMappingBy,E="index"===N?C:"id"===N?D.mapIdToIndex(M.getId()):M.getValue(b.get("visualDimension"));k[R]=T.mapValueToVisual(E)}return k}(r,u,m,y,g,i);R2(m,x,e,i)}})}else s=N2(u),h.fill=s}}function N2(n){var t=Qv(n,"color");if(t){var e=Qv(n,"colorAlpha"),i=Qv(n,"colorSaturation");return i&&(t=Ko(t,null,null,i)),e&&(t=Za(t,e)),t}}function Qv(n,t){var e=n[t];if(null!=e&&"none"!==e)return e}function ey(n,t){var e=n.get(t);return ce(e)&&e.length?{name:t,range:e}:null}var sc=Math.max,Np=Math.min,E2=_e,ty=V,z2=["itemStyle","borderWidth"],$O=["itemStyle","gapWidth"],JO=["upperLabel","show"],QO=["upperLabel","height"],eR={seriesType:"treemap",reset:function(n,t,e,i){var r=e.getWidth(),o=e.getHeight(),a=n.option,s=In(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),l=a.size||[],u=Te(E2(s.width,l[0]),r),h=Te(E2(s.height,l[1]),o),c=i&&i.type,p=nc(i,["treemapZoomToNode","treemapRootToNode"],n),f="treemapRender"===c||"treemapMove"===c?i.rootRect:null,g=n.getViewRoot(),m=S2(g);if("treemapMove"!==c){var y="treemapZoomToNode"===c?function(C,T,D,k,R){var N,E=(T||{}).node,B=[k,R];if(!E||E===D)return B;for(var G=k*R,H=G*C.option.zoomToNodeRatio;N=E.parentNode;){for(var Y=0,j=N.children,Z=0,q=j.length;Z<q;Z++)Y+=j[Z].getValue();var J=E.getValue();if(0===J)return B;H*=Y/J;var te=N.getModel(),ne=te.get(z2);(H+=4*ne*ne+(3*ne+Math.max(ne,W2(te)))*Math.pow(H,.5))>Rf&&(H=Rf),E=N}H<G&&(H=G);var le=Math.pow(H/G,.5);return[k*le,R*le]}(n,p,g,u,h):f?[f.width,f.height]:[u,h],x=a.sort;x&&"asc"!==x&&"desc"!==x&&(x="desc");var b={squareRatio:a.squareRatio,sort:x,leafDepth:a.leafDepth};g.hostTree.clearLayouts();var S={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};g.setLayout(S),B2(g,b,!1,0),S=g.getLayout(),ty(m,function(C,T){var D=(m[T+1]||g).getValue();C.setLayout(ae({dataExtent:[D,D],borderWidth:0,upperHeight:0},S))})}var M=n.getData().tree.root;M.setLayout(function(C,T,D){if(T)return{x:T.x,y:T.y};var k={x:0,y:0};if(!D)return k;var R=D.node,N=R.getLayout();if(!N)return k;for(var E=[N.width/2,N.height/2],B=R;B;){var G=B.getLayout();E[0]+=G.x,E[1]+=G.y,B=B.parentNode}return{x:C.width/2-E[0],y:C.height/2-E[1]}}(s,f,p),!0),n.setLayoutInfo(s),F2(M,new ue(-s.x,-s.y,r,o),m,g,0)}};function B2(n,t,e,i){var r,o;if(!n.isRemoved()){var a=n.getLayout();r=a.width,o=a.height;var s=n.getModel(),l=s.get(z2),u=s.get($O)/2,h=W2(s),c=Math.max(l,h),p=l-u,f=c-u;n.setLayout({borderWidth:l,upperHeight:c,upperLabelHeight:h},!0);var g=(r=sc(r-2*p,0))*(o=sc(o-p-f,0)),m=function(R,N,E,B,G,H){var Y=R.children||[],j=B.sort;"asc"!==j&&"desc"!==j&&(j=null);var le,ye,Z=null!=B.leafDepth&&B.leafDepth<=H;if(G&&!Z)return R.viewChildren=[];le=Y=dt(Y,function(le){return!le.isRemoved()}),(ye=j)&&le.sort(function(ie,he){var xe="asc"===ye?ie.getValue()-he.getValue():he.getValue()-ie.getValue();return 0===xe?"asc"===ye?ie.dataIndex-he.dataIndex:he.dataIndex-ie.dataIndex:xe});var q=function(le,ye,ie){for(var he=0,xe=0,be=ye.length;xe<be;xe++)he+=ye[xe].getValue();var ge,we=le.get("visualDimension");return ye&&ye.length?"value"===we&&ie?(ge=[ye[ye.length-1].getValue(),ye[0].getValue()],"asc"===ie&&ge.reverse()):(ge=[1/0,-1/0],ty(ye,function(me){var Ce=me.getValue(we);Ce<ge[0]&&(ge[0]=Ce),Ce>ge[1]&&(ge[1]=Ce)})):ge=[NaN,NaN],{sum:he,dataExtent:ge}}(N,Y,j);if(0===q.sum)return R.viewChildren=[];if(q.sum=function(le,ye,ie,he,xe){if(!he)return ie;for(var be=le.get("visibleMin"),ge=xe.length,we=ge,me=ge-1;me>=0;me--){var Ce=xe["asc"===he?ge-me-1:me].getValue();Ce/ie*ye<be&&(we=me,ie-=Ce)}return xe.splice("asc"===he?0:we,ge-we),ie}(N,E,q.sum,j,Y),0===q.sum)return R.viewChildren=[];for(var J=0,te=Y.length;J<te;J++){var ne=Y[J].getValue()/q.sum*E;Y[J].setLayout({area:ne})}return Z&&(Y.length&&R.setLayout({isLeafRoot:!0},!0),Y.length=0),R.viewChildren=Y,R.setLayout({dataExtent:q.dataExtent},!0),Y}(n,s,g,t,e,i);if(m.length){var y={x:p,y:f,width:r,height:o},x=Np(r,o),b=1/0,S=[];S.area=0;for(var M=0,C=m.length;M<C;){var T=m[M];S.push(T),S.area+=T.getLayout().area;var D=tR(S,x,t.squareRatio);D<=b?(M++,b=D):(S.area-=S.pop().getLayout().area,V2(S,x,y,u,!1),x=Np(y.width,y.height),S.length=S.area=0,b=1/0)}if(S.length&&V2(S,x,y,u,!0),!e){var k=s.get("childrenVisibleMin");null!=k&&g<k&&(e=!0)}for(M=0,C=m.length;M<C;M++)B2(m[M],t,e,i+1)}}}function tR(n,t,e){for(var i=0,r=1/0,o=0,a=void 0,s=n.length;o<s;o++)(a=n[o].getLayout().area)&&(a<r&&(r=a),a>i&&(i=a));var l=n.area*n.area,u=t*t*e;return l?sc(u*i/l,l/(u*r)):1/0}function V2(n,t,e,i,r){var o=t===e.width?0:1,a=1-o,s=["x","y"],l=["width","height"],u=e[s[o]],h=t?n.area/t:0;(r||h>e[l[a]])&&(h=e[l[a]]);for(var c=0,p=n.length;c<p;c++){var f=n[c],g={},m=h?f.getLayout().area/h:0,y=g[l[a]]=sc(h-2*i,0),x=e[s[o]]+e[l[o]]-u,b=c===p-1||x<m?x:m,S=g[l[o]]=sc(b-2*i,0);g[s[a]]=e[s[a]]+Np(i,y/2),g[s[o]]=u+Np(i,S/2),u+=b,f.setLayout(g,!0)}e[s[a]]+=h,e[l[a]]-=h}function F2(n,t,e,i,r){var o=n.getLayout(),a=e[r],s=a&&a===n;if(!(a&&!s||r===e.length&&n!==i)){n.setLayout({isInView:!0,invisible:!s&&!t.intersect(o),isAboveViewRoot:s},!0);var l=new ue(t.x-o.x,t.y-o.y,t.width,t.height);ty(n.viewChildren||[],function(u){F2(u,l,e,i,r+1)})}}function W2(n){return n.get(JO)?n.get(QO):0}function nR(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.eachSeriesByType("graph",function(e){var i=e.getCategoriesData(),r=e.getGraph().data,o=i.mapArray(i.getName);r.filterSelf(function(a){var s=r.getItemModel(a).getShallow("category");if(null!=s){ot(s)&&(s=o[s]);for(var l=0;l<t.length;l++)if(!t[l].isSelected(s))return!1}return!0})})}function iR(n){var t={};n.eachSeriesByType("graph",function(e){var i=e.getCategoriesData(),r=e.getData(),o={};i.each(function(a){var s=i.getName(a);o["ec-"+s]=a;var l=i.getItemModel(a),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=e.getColorFromPalette(s,t)),i.setItemVisual(a,"style",u);for(var h=["symbol","symbolSize","symbolKeepAspect"],c=0;c<h.length;c++){var p=l.getShallow(h[c],!0);null!=p&&i.setItemVisual(a,h[c],p)}}),i.count()&&r.each(function(a){var s=r.getItemModel(a).getShallow("category");if(null!=s){De(s)&&(s=o["ec-"+s]);var l=i.getItemVisual(s,"style");ae(r.ensureUniqueItemVisual(a,"style"),l);for(var u=["symbol","symbolSize","symbolKeepAspect"],h=0;h<u.length;h++)r.setItemVisual(a,u[h],i.getItemVisual(s,u[h]))}})})}function Ep(n){return n instanceof Array||(n=[n,n]),n}function rR(n){n.eachSeriesByType("graph",function(t){var e=t.getGraph(),i=t.getEdgeData(),r=Ep(t.get("edgeSymbol")),o=Ep(t.get("edgeSymbolSize"));i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("style",t.getModel("lineStyle").getLineStyle()),i.each(function(a){var s=i.getItemModel(a),l=e.getEdgeByIndex(a),u=Ep(s.getShallow("symbol",!0)),h=Ep(s.getShallow("symbolSize",!0)),c=s.getModel("lineStyle").getLineStyle(),p=i.ensureUniqueItemVisual(a,"style");switch(ae(p,c),p.stroke){case"source":var f=l.node1.getVisual("style");p.stroke=f&&f.fill;break;case"target":f=l.node2.getVisual("style"),p.stroke=f&&f.fill}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),h[0]&&l.setVisual("fromSymbolSize",h[0]),h[1]&&l.setVisual("toSymbolSize",h[1])})})}var zp=function(n){return n.get("autoCurveness")||null},G2=function(n,t){var e=zp(n),i=20,r=[];if(ot(e))i=e;else if(ce(e))return void(n.__curvenessList=e);t>i&&(i=t);var o=i%2?i+2:i+3;r=[];for(var a=0;a<o;a++)r.push((a%2?a+1:a)/10*(a%2?-1:1));n.__curvenessList=r},lc=function(n,t,e){var i=[n.id,n.dataIndex].join("."),r=[t.id,t.dataIndex].join(".");return[e.uid,i,r].join("--\x3e")},H2=function(n){var t=n.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},iy=function(n,t){var e=t.__edgeMap;return e[n]?e[n].length:0};function ry(n,t,e,i){var r=zp(t),o=ce(r);if(!r)return null;var y,x,b,a=(b=lc((y=n).node1,y.node2,x=t),x.__edgeMap[b]);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===e){s=l;break}var u=function(y,x){return iy(lc(y.node1,y.node2,x),x)+iy(lc(y.node2,y.node1,x),x)}(n,t);G2(t,u),n.lineStyle=n.lineStyle||{};var h=lc(n.node1,n.node2,t),c=t.__curvenessList,p=o||u%2?0:1;if(a.isForward)return c[p+s];var f=H2(h),g=iy(f,t),m=c[s+g+p];return i?o?r&&0===r[0]?(g+p)%2?m:-m:((g%2?0:1)+p)%2?m:-m:(g+p)%2?m:-m:c[s+g+p]}function U2(n){var t=n.coordinateSystem;if(!t||"view"===t.type){var e=n.getGraph();e.eachNode(function(i){var r=i.getModel();i.setLayout([+r.get("x"),+r.get("y")])}),Y2(e,n)}}function Y2(n,t){n.eachEdge(function(e,i){var r=it(e.getModel().get(["lineStyle","curveness"]),-ry(e,t,i,!0),0),o=Yi(e.node1.getLayout()),a=Yi(e.node2.getLayout()),s=[o,a];+r&&s.push([(o[0]+a[0])/2-(o[1]-a[1])*r,(o[1]+a[1])/2-(a[0]-o[0])*r]),e.setLayout(s)})}function oR(n,t){n.eachSeriesByType("graph",function(e){var i=e.get("layout"),r=e.coordinateSystem;if(r&&"view"!==r.type){var o=e.getData(),a=[];V(r.dimensions,function(p){a=a.concat(o.mapDimensionsAll(p))});for(var s=0;s<o.count();s++){for(var l=[],u=!1,h=0;h<a.length;h++){var c=o.get(a[h],s);isNaN(c)||(u=!0),l.push(c)}o.setItemLayout(s,u?r.dataToPoint(l):[NaN,NaN])}Y2(o.graph,e)}else i&&"none"!==i||U2(e)})}function uc(n){var t=n.coordinateSystem;if("view"!==t.type)return 1;var e=n.option.nodeScaleRatio,i=t.scaleX;return((t.getZoom()-1)*e+1)/i}function hc(n){var t=n.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var X2=Math.PI,oy=[];function j2(n,t){var e=n.coordinateSystem;if(!e||"view"===e.type){var i=e.getBoundingRect(),r=n.getData(),o=r.graph,a=i.width/2+i.x,s=i.height/2+i.y,l=Math.min(i.width,i.height)/2,u=r.count();r.setLayout({cx:a,cy:s}),u&&(aR[t](n,o,r,l,a,s,u),o.eachEdge(function(h,c){var p,f=it(h.getModel().get(["lineStyle","curveness"]),ry(h,n,c),0),g=Yi(h.node1.getLayout()),m=Yi(h.node2.getLayout());+f&&(p=[a*(f*=3)+(g[0]+m[0])/2*(1-f),s*f+(g[1]+m[1])/2*(1-f)]),h.setLayout([g,m,p])}))}}var aR={value:function(n,t,e,i,r,o,a){var s=0,l=e.getSum("value"),u=2*Math.PI/(l||a);t.eachNode(function(h){var c=h.getValue("value"),p=u*(l?c:1)/2;s+=p,h.setLayout([i*Math.cos(s)+r,i*Math.sin(s)+o]),s+=p})},symbolSize:function(n,t,e,i,r,o,a){var s=0;oy.length=a;var l=uc(n);t.eachNode(function(c){var p=hc(c);isNaN(p)&&(p=2),p<0&&(p=0),p*=l;var f=Math.asin(p/2/i);isNaN(f)&&(f=X2/2),oy[c.dataIndex]=f,s+=2*f});var u=(2*X2-s)/a/2,h=0;t.eachNode(function(c){var p=u+oy[c.dataIndex];h+=p,c.setLayout([i*Math.cos(h)+r,i*Math.sin(h)+o]),h+=p})}};function sR(n){n.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&j2(t,"symbolSize")})}var eu=Vr;function lR(n){n.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var i=t.preservedPoints||{},r=t.getGraph(),o=r.data,a=r.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?o.each(function(S){var M=o.getId(S);o.setItemLayout(S,i[M]||[NaN,NaN])}):l&&"none"!==l?"circular"===l&&j2(t,"value"):U2(t);var u=o.getDataExtent("value"),h=a.getDataExtent("value"),c=s.get("repulsion"),p=s.get("edgeLength"),f=ce(c)?c:[c,c],g=ce(p)?p:[p,p];g=[g[1],g[0]];var m=o.mapArray("value",function(S,M){var C=o.getItemLayout(M),T=kt(S,u,f);return isNaN(T)&&(T=(f[0]+f[1])/2),{w:T,rep:T,fixed:o.getItemModel(M).get("fixed"),p:!C||isNaN(C[0])||isNaN(C[1])?null:C}}),y=a.mapArray("value",function(S,M){var C=r.getEdgeByIndex(M),T=kt(S,h,g);isNaN(T)&&(T=(g[0]+g[1])/2);var D=C.getModel(),k=it(C.getModel().get(["lineStyle","curveness"]),-ry(C,t,M,!0),0);return{n1:m[C.node1.dataIndex],n2:m[C.node2.dataIndex],d:T,curveness:k,ignoreForceLayout:D.get("ignoreForceLayout")}}),x=e.getBoundingRect(),b=function(S,M,C){for(var T=S,D=M,k=C.rect,R=k.width,N=k.height,E=[k.x+R/2,k.y+N/2],B=C.gravity??.1,G=0;G<T.length;G++){var H=T[G];H.p||(H.p=sn(R*(Math.random()-.5)+E[0],N*(Math.random()-.5)+E[1])),H.pp=Yi(H.p),H.edges=null}var Y,j,Z=C.friction??.6,q=Z;return{warmUp:function(){q=.8*Z},setFixed:function(J){T[J].fixed=!0},setUnfixed:function(J){T[J].fixed=!1},beforeStep:function(J){Y=J},afterStep:function(J){j=J},step:function(J){Y&&Y(T,D);for(var te=[],ne=T.length,le=0;le<D.length;le++){var ye=D[le];if(!ye.ignoreForceLayout){var ie=ye.n1;ui(te,(ge=ye.n2).p,ie.p);var he=Oa(te)-ye.d,xe=ge.w/(ie.w+ge.w);isNaN(xe)&&(xe=0),mr(te,te),!ie.fixed&&eu(ie.p,ie.p,te,xe*he*q),!ge.fixed&&eu(ge.p,ge.p,te,-(1-xe)*he*q)}}for(le=0;le<ne;le++)(Ce=T[le]).fixed||(ui(te,E,Ce.p),eu(Ce.p,Ce.p,te,B*q));for(le=0;le<ne;le++){ie=T[le];for(var be=le+1;be<ne;be++){var ge;ui(te,(ge=T[be]).p,ie.p),0===(he=Oa(te))&&(Mc(te,Math.random()-.5,Math.random()-.5),he=1);var we=(ie.rep+ge.rep)/he/he;!ie.fixed&&eu(ie.pp,ie.pp,te,we),!ge.fixed&&eu(ge.pp,ge.pp,te,-we)}}var me=[];for(le=0;le<ne;le++){var Ce;(Ce=T[le]).fixed||(ui(me,Ce.p,Ce.pp),eu(Ce.p,Ce.p,me,q),Hn(Ce.pp,Ce.p))}var Pe=(q*=.992)<.01;j&&j(T,D,Pe),J&&J(Pe)}}}(m,y,{rect:x,gravity:s.get("gravity"),friction:s.get("friction")});b.beforeStep(function(S,M){for(var C=0,T=S.length;C<T;C++)S[C].fixed&&Hn(S[C].p,r.getNodeByIndex(C).getLayout())}),b.afterStep(function(S,M,C){for(var T=0,D=S.length;T<D;T++)S[T].fixed||r.getNodeByIndex(T).setLayout(S[T].p),i[o.getId(T)]=S[T].p;for(T=0,D=M.length;T<D;T++){var k=M[T],R=r.getEdgeByIndex(T),N=k.n1.p,E=k.n2.p,B=R.getLayout();(B=B?B.slice():[])[0]=B[0]||[],B[1]=B[1]||[],Hn(B[0],N),Hn(B[1],E),+k.curveness&&(B[2]=[(N[0]+E[0])/2-(N[1]-E[1])*k.curveness,(N[1]+E[1])/2-(E[0]-N[0])*k.curveness]),R.setLayout(B)}}),t.forceLayout=b,t.preservedPoints=i,b.step()}else t.forceLayout=null})}function uR(n,t){var e=[];return n.eachSeriesByType("graph",function(i){var y,x,r=i.get("coordinateSystem");if(!r||"view"===r){var o=i.getData(),a=[],s=[];Jc(o.mapArray(function(m){var y=o.getItemModel(m);return[+y.get("x"),+y.get("y")]}),a,s),s[0]-a[0]==0&&(s[0]+=1,a[0]-=1),s[1]-a[1]==0&&(s[1]+=1,a[1]-=1);var l=(s[0]-a[0])/(s[1]-a[1]),u=(y=t,x=l,In(ae(i.getBoxLayoutParams(),{aspect:x}),{width:y.getWidth(),height:y.getHeight()}));isNaN(l)&&(a=[u.x,u.y],s=[u.x+u.width,u.y+u.height]);var h=s[0]-a[0],c=s[1]-a[1],p=u.width,f=u.height,g=i.coordinateSystem=new ec;g.zoomLimit=i.get("scaleLimit"),g.setBoundingRect(a[0],a[1],h,c),g.setViewRect(u.x,u.y,p,f),g.setCenter(i.get("center"),t),g.setZoom(i.get("zoom")),e.push(g)}}),e}var Z2=kn.prototype,ay=vl.prototype,q2=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function sy(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}!function(n){Q(function t(){return null!==n&&n.apply(this,arguments)||this},n)}(q2);var hR=function(n){function t(e){var i=n.call(this,e)||this;return i.type="ec-line",i}return Q(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new q2},t.prototype.buildPath=function(e,i){sy(i)?Z2.buildPath.call(this,e,i):ay.buildPath.call(this,e,i)},t.prototype.pointAt=function(e){return sy(this.shape)?Z2.pointAt.call(this,e):ay.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var i=this.shape,r=sy(i)?[i.x2-i.x1,i.y2-i.y1]:ay.tangentAt.call(this,e);return mr(r,r)},t}(at),ly=["fromSymbol","toSymbol"];function K2(n){return"_"+n+"Type"}function $2(n,t,e){var i=t.getItemVisual(e,n);if(i&&"none"!==i){var r=t.getItemVisual(e,n+"Size"),o=t.getItemVisual(e,n+"Rotate"),a=t.getItemVisual(e,n+"Offset"),s=t.getItemVisual(e,n+"KeepAspect"),l=Ch(r),u=Fl(a||0,l),h=pn(i,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return h.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,h.name=n,h}}function uy(n,t){n.x1=t[0][0],n.y1=t[0][1],n.x2=t[1][0],n.y2=t[1][1],n.percent=1;var e=t[2];e?(n.cpx1=e[0],n.cpy1=e[1]):(n.cpx1=NaN,n.cpy1=NaN)}var hy=function(n){function t(e,i,r){var o=n.call(this)||this;return o._createLine(e,i,r),o}return Q(t,n),t.prototype._createLine=function(e,i,r){var s,l,o=e.hostModel,a=(s=e.getItemLayout(i),uy((l=new hR({name:"line",subPixelOptimize:!0})).shape,s),l);a.shape.percent=0,Kt(a,{shape:{percent:1}},o,i),this.add(a),V(ly,function(s){var l=$2(s,e,i);this.add(l),this[K2(s)]=e.getItemVisual(i,s)},this),this._updateCommonStl(e,i,r)},t.prototype.updateData=function(e,i,r){var o=e.hostModel,a=this.childOfName("line"),s=e.getItemLayout(i),l={shape:{}};uy(l.shape,s),vt(a,l,o,i),V(ly,function(u){var h=e.getItemVisual(i,u),c=K2(u);if(this[c]!==h){this.remove(this.childOfName(u));var p=$2(u,e,i);this.add(p)}this[c]=h},this),this._updateCommonStl(e,i,r)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,i,r){var o=e.hostModel,a=this.childOfName("line"),s=r&&r.emphasisLineStyle,l=r&&r.blurLineStyle,u=r&&r.selectLineStyle,h=r&&r.labelStatesModels,c=r&&r.emphasisDisabled,p=r&&r.focus,f=r&&r.blurScope;if(!r||e.hasItemOption){var g=e.getItemModel(i),m=g.getModel("emphasis");s=m.getModel("lineStyle").getLineStyle(),l=g.getModel(["blur","lineStyle"]).getLineStyle(),u=g.getModel(["select","lineStyle"]).getLineStyle(),c=m.get("disabled"),p=m.get("focus"),f=m.get("blurScope"),h=jn(g)}var y=e.getItemVisual(i,"style"),x=y.stroke;a.useStyle(y),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=s,a.ensureState("blur").style=l,a.ensureState("select").style=u,V(ly,function(T){var D=this.childOfName(T);if(D){D.setColor(x),D.style.opacity=y.opacity;for(var k=0;k<fi.length;k++){var R=fi[k],N=a.getState(R);if(N){var E=N.style||{},B=D.ensureState(R),G=B.style||(B.style={});null!=E.stroke&&(G[D.__isEmptyBrush?"stroke":"fill"]=E.stroke),null!=E.opacity&&(G.opacity=E.opacity)}}D.markRedraw()}},this);var b=o.getRawValue(i);ri(this,h,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(T,D){return o.getFormattedLabel(T,D,e.dataType)}},inheritColor:x||"#000",defaultOpacity:y.opacity,defaultText:(null==b?e.getName(i):isFinite(b)?an(b):b)+""});var S=this.getTextContent();if(S){var M=h.normal;S.__align=S.style.align,S.__verticalAlign=S.style.verticalAlign,S.__position=M.get("position")||"middle";var C=M.get("distance");ce(C)||(C=[C,C]),S.__labelDistance=C}this.setTextConfig({position:null,local:!0,inside:!1}),un(this,p,f,c)},t.prototype.highlight=function(){Co(this)},t.prototype.downplay=function(){To(this)},t.prototype.updateLayout=function(e,i){this.setLinePoints(e.getItemLayout(i))},t.prototype.setLinePoints=function(e){var i=this.childOfName("line");uy(i.shape,e),i.dirty()},t.prototype.beforeUpdate=function(){var e=this,i=e.childOfName("fromSymbol"),r=e.childOfName("toSymbol"),o=e.getTextContent();if(i||r||o&&!o.ignore){for(var a=1,s=this.parent;s;)s.scaleX&&(a/=s.scaleX),s=s.parent;var l=e.childOfName("line");if(this.__dirty||l.__dirty){var u=l.shape.percent,h=l.pointAt(0),c=l.pointAt(u),p=ui([],c,h);if(mr(p,p),i&&(i.setPosition(h),R(i,0),i.scaleX=i.scaleY=a*u,i.markRedraw()),r&&(r.setPosition(c),R(r,1),r.scaleX=r.scaleY=a*u,r.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var f=void 0,g=void 0,m=o.__labelDistance,y=m[0]*a,x=m[1]*a,b=u/2,S=l.tangentAt(b),M=[S[1],-S[0]],C=l.pointAt(b);M[1]>0&&(M[0]=-M[0],M[1]=-M[1]);var T=S[0]<0?-1:1;if("start"!==o.__position&&"end"!==o.__position){var D=-Math.atan2(S[1],S[0]);c[0]<h[0]&&(D=Math.PI+D),o.rotation=D}var k=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":k=-x,g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":k=x,g="top";break;default:k=0,g="middle"}switch(o.__position){case"end":o.x=p[0]*y+c[0],o.y=p[1]*x+c[1],f=p[0]>.8?"left":p[0]<-.8?"right":"center",g=p[1]>.8?"top":p[1]<-.8?"bottom":"middle";break;case"start":o.x=-p[0]*y+h[0],o.y=-p[1]*x+h[1],f=p[0]>.8?"right":p[0]<-.8?"left":"center",g=p[1]>.8?"bottom":p[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=y*T+h[0],o.y=h[1]+k,f=S[0]<0?"right":"left",o.originX=-y*T,o.originY=-k;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=C[0],o.y=C[1]+k,f="center",o.originY=-k;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-y*T+c[0],o.y=c[1]+k,f=S[0]>=0?"right":"left",o.originX=y*T,o.originY=-k}o.scaleX=o.scaleY=a,o.setStyle({verticalAlign:o.__verticalAlign||g,align:o.__align||f})}}}function R(N,E){var B=N.__specifiedRotation;if(null==B){var G=l.tangentAt(E);N.attr("rotation",(1===E?-1:1)*Math.PI/2-Math.atan2(G[1],G[0]))}else N.attr("rotation",B)}},t}(He),cy=function(){function n(t){this.group=new He,this._LineCtor=t||hy}return n.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var i=this,r=i.group,o=i._lineData;i._lineData=t,o||r.removeAll();var a=J2(t);t.diff(o).add(function(s){e._doAdd(t,s,a)}).update(function(s,l){e._doUpdate(o,t,l,s,a)}).remove(function(s){r.remove(o.getItemGraphicEl(s))}).execute()},n.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,i){e.updateLayout(t,i)},this)},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=J2(t),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e){function i(a){var s;a.isGroup||(s=a).animators&&s.animators.length>0||(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=t.start;r<t.end;r++)if(dy(e.getItemLayout(r))){var o=new this._LineCtor(e,r,this._seriesScope);o.traverse(i),this.group.add(o),e.setItemGraphicEl(r,o),this._progressiveEls.push(o)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(t){ca(this._progressiveEls||this.group,t)},n.prototype._doAdd=function(t,e,i){if(dy(t.getItemLayout(e))){var r=new this._LineCtor(t,e,i);t.setItemGraphicEl(e,r),this.group.add(r)}},n.prototype._doUpdate=function(t,e,i,r,o){var a=t.getItemGraphicEl(i);dy(e.getItemLayout(r))?(a?a.updateData(e,r,o):a=new this._LineCtor(e,r,o),e.setItemGraphicEl(r,a),this.group.add(a)):this.group.remove(a)},n}();function J2(n){var t=n.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:jn(t)}}function Q2(n){return isNaN(n[0])||isNaN(n[1])}function dy(n){return n&&!Q2(n[0])&&!Q2(n[1])}var py=[],fy=[],gy=[],tu=Dn,my=vr,eI=Math.abs;function tI(n,t,e){for(var i,r=n[0],o=n[1],a=n[2],s=1/0,l=e*e,u=.1,h=.1;h<=.9;h+=.1)py[0]=tu(r[0],o[0],a[0],h),py[1]=tu(r[1],o[1],a[1],h),(f=eI(my(py,t)-l))<s&&(s=f,i=h);for(var c=0;c<32;c++){var p=i+u;fy[0]=tu(r[0],o[0],a[0],i),fy[1]=tu(r[1],o[1],a[1],i),gy[0]=tu(r[0],o[0],a[0],p),gy[1]=tu(r[1],o[1],a[1],p);var f=my(fy,t)-l;if(eI(f)<.01)break;var g=my(gy,t)-l;u/=2,f<0?g>=0?i+=u:i-=u:g>=0?i-=u:i+=u}return i}function vy(n,t){var e=[],i=Yo,r=[[],[],[]],o=[[],[]],a=[];t/=2,n.eachEdge(function(s,l){var u=s.getLayout(),h=s.getVisual("fromSymbol"),c=s.getVisual("toSymbol");u.__original||(u.__original=[Yi(u[0]),Yi(u[1])],u[2]&&u.__original.push(Yi(u[2])));var p=u.__original;if(null!=u[2]){if(Hn(r[0],p[0]),Hn(r[1],p[2]),Hn(r[2],p[1]),h&&"none"!==h){var f=hc(s.node1),g=tI(r,p[0],f*t);i(r[0][0],r[1][0],r[2][0],g,e),r[0][0]=e[3],r[1][0]=e[4],i(r[0][1],r[1][1],r[2][1],g,e),r[0][1]=e[3],r[1][1]=e[4]}c&&"none"!==c&&(f=hc(s.node2),g=tI(r,p[1],f*t),i(r[0][0],r[1][0],r[2][0],g,e),r[1][0]=e[1],r[2][0]=e[2],i(r[0][1],r[1][1],r[2][1],g,e),r[1][1]=e[1],r[2][1]=e[2]),Hn(u[0],r[0]),Hn(u[1],r[2]),Hn(u[2],r[1])}else Hn(o[0],p[0]),Hn(o[1],p[1]),ui(a,o[1],o[0]),mr(a,a),h&&"none"!==h&&(f=hc(s.node1),Vr(o[0],o[0],a,f*t)),c&&"none"!==c&&(f=hc(s.node2),Vr(o[1],o[1],a,-f*t)),Hn(u[0],o[0]),Hn(u[1],o[1])})}function nI(n){return"view"===n.type}var cR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.init=function(e,i){var r=new Yh,o=new cy,a=this.group;this._controller=new Jh(i.getZr()),this._controllerHost={target:a},a.add(r.group),a.add(o.group),this._symbolDraw=r,this._lineDraw=o,this._firstRender=!0},t.prototype.render=function(e,i,r){var o=this,a=e.coordinateSystem;this._model=e;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(nI(a)){var h={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?u.attr(h):vt(u,h,e)}vy(e.getGraph(),uc(e));var c=e.getData();s.updateData(c);var p=e.getEdgeData();l.updateData(p),this._updateNodeAndLinkScale(),this._updateController(e,i,r),clearTimeout(this._layoutTimeout);var f=e.forceLayout,g=e.get(["force","layoutAnimation"]);f&&this._startForceLayoutIteration(f,g),c.graph.eachNode(function(b){var S=b.dataIndex,M=b.getGraphicEl(),C=b.getModel();if(M){M.off("drag").off("dragend");var T=C.get("draggable");T&&M.on("drag",function(){f&&(f.warmUp(),!o._layouting&&o._startForceLayoutIteration(f,g),f.setFixed(S),c.setItemLayout(S,[M.x,M.y]))}).on("dragend",function(){f&&f.setUnfixed(S)}),M.setDraggable(T&&!!f,!!C.get("cursor")),"adjacency"===C.get(["emphasis","focus"])&&(Ze(M).focus=b.getAdjacentDataIndices())}}),c.graph.eachEdge(function(b){var S=b.getGraphicEl(),M=b.getModel().get(["emphasis","focus"]);S&&"adjacency"===M&&(Ze(S).focus={edge:[b.dataIndex],node:[b.node1.dataIndex,b.node2.dataIndex]})});var m="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),y=c.getLayout("cx"),x=c.getLayout("cy");c.eachItemGraphicEl(function(b,S){var M=c.getItemModel(S).get(["label","rotate"])||0,C=b.getSymbolPath();if(m){var T=c.getItemLayout(S),D=Math.atan2(T[1]-x,T[0]-y);D<0&&(D=2*Math.PI+D);var k=T[0]<y;k&&(D-=Math.PI);var R=k?"left":"right";C.setTextConfig({rotation:-D,position:R,origin:"center"});var N=C.ensureState("emphasis");ae(N.textConfig||(N.textConfig={}),{position:R})}else C.setTextConfig({rotation:M*=Math.PI/180})}),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,i){var r=this;!function o(){e.step(function(a){r.updateLayout(r._model),(r._layouting=!a)&&(i?r._layoutTimeout=setTimeout(o,16):o())})}()},t.prototype._updateController=function(e,i,r){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(u,h,c){var p=l.getBoundingRect();return p.applyTransform(l.transform),p.contain(h,c)&&!Ip(u,r,e)}),nI(e.coordinateSystem)?(a.enable(e.get("roam")),s.zoomLimit=e.get("scaleLimit"),s.zoom=e.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){Ov(s,u.dx,u.dy),r.dispatchAction({seriesId:e.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Rv(s,u.scale,u.originX,u.originY),r.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(),vy(e.getGraph(),uc(e)),o._lineDraw.updateLayout(),r.updateLabelLayout()})):a.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,i=e.getData(),r=uc(e);i.eachItemGraphicEl(function(o,a){o&&o.setSymbolScale(r)})},t.prototype.updateLayout=function(e){vy(e.getGraph(),uc(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,i){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(Ot);function nu(n){return"_EC_"+n}var dR=function(){function n(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(t,e){var i=this._nodesMap;if(!i[nu(t=null==t?""+e:""+t)]){var r=new Fs(t,e);return r.hostGraph=this,this.nodes.push(r),i[nu(t)]=r,r}},n.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},n.prototype.getNodeById=function(t){return this._nodesMap[nu(t)]},n.prototype.addEdge=function(t,e,i){var r=this._nodesMap,o=this._edgesMap;if(ot(t)&&(t=this.nodes[t]),ot(e)&&(e=this.nodes[e]),t instanceof Fs||(t=r[nu(t)]),e instanceof Fs||(e=r[nu(e)]),t&&e){var a=t.id+"-"+e.id,s=new iI(t,e,i);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),e.inEdges.push(s)),t.edges.push(s),t!==e&&e.edges.push(s),this.edges.push(s),o[a]=s,s}},n.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},n.prototype.getEdge=function(t,e){t instanceof Fs&&(t=t.id),e instanceof Fs&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t]},n.prototype.eachNode=function(t,e){for(var i=this.nodes,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&t.call(e,i[o],o)},n.prototype.eachEdge=function(t,e){for(var i=this.edges,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&t.call(e,i[o],o)},n.prototype.breadthFirstTraverse=function(t,e,i,r){if(e instanceof Fs||(e=this._nodesMap[nu(e)]),e){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(r,e,null))for(var s=[e];s.length;){var l=s.shift(),u=l[o];for(a=0;a<u.length;a++){var h=u[a],c=h.node1===l?h.node2:h.node1;if(!c.__visited){if(t.call(r,c,l))return;s.push(c),c.__visited=!0}}}}},n.prototype.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,r=this.edges,o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)i[t.getRawIndex(o)].dataIndex=o;for(e.filterSelf(function(s){var l=r[e.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0}),o=0,a=r.length;o<a;o++)r[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)r[e.getRawIndex(o)].dataIndex=o},n.prototype.clone=function(){for(var t=new n(this._directed),e=this.nodes,i=this.edges,r=0;r<e.length;r++)t.addNode(e[r].id,e[r].dataIndex);for(r=0;r<i.length;r++){var o=i[r];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},n}(),Fs=function(){function n(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var i=this.edges[e];i.dataIndex<0||(t.edge.push(i.dataIndex),t.node.push(i.node1.dataIndex,i.node2.dataIndex))}return t},n}(),iI=function(){function n(t,e,i){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=i??-1}return n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n}();function rI(n,t){return{getValue:function(e){var i=this[n][t];return i.getStore().get(i.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,i){this.dataIndex>=0&&this[n][t].setItemVisual(this.dataIndex,e,i)},getVisual:function(e){return this[n][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,i){this.dataIndex>=0&&this[n][t].setItemLayout(this.dataIndex,e,i)},getLayout:function(){return this[n][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][t].getRawIndex(this.dataIndex)}}}function oI(n,t,e,i,r){for(var o=new dR(i),a=0;a<n.length;a++)o.addNode(_e(n[a].id,n[a].name,a),a);var s=[],l=[],u=0;for(a=0;a<t.length;a++){var h=t[a],c=h.source,p=h.target;o.addEdge(c,p,u)&&(l.push(h),s.push(_e(An(h.id,null),c+" > "+p)),u++)}var f,g=e.get("coordinateSystem");if("cartesian2d"===g||"polar"===g)f=eo(n,e);else{var m=Ll.get(g),y=m&&m.dimensions||[];je(y,"value")<0&&y.concat(["value"]);var x=Ul(n,{coordDimensions:y,encodeDefine:e.getEncode()}).dimensions;(f=new ai(x,e)).initData(n)}var b=new ai(["value"],e);return b.initData(l,s),r&&r(f,b),b2({mainData:f,struct:o,structAttr:"graph",datas:{node:f,edge:b},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}Nt(Fs,rI("hostGraph","data")),Nt(iI,rI("hostGraph","edgeData"));var pR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return Q(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments);var i=this;function r(){return i._categoriesData}this.legendVisualProvider=new qh(r,r),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){n.prototype.mergeDefaultAndTheme.apply(this,arguments),ts(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,i){var r,o=e.edges||e.links||[],a=e.data||e.nodes||[],s=this;if(a&&o){zp(r=this)&&(r.__curvenessList=[],r.__edgeMap={},G2(r));var l=oI(a,o,this,!0,function(u,h){u.wrapMethod("getItemModel",function(g){var m=s._categoriesModels[g.getShallow("category")];return m&&(m.parentModel=g.parentModel,g.parentModel=m),g});var c=Ct.prototype.getModel;function p(g,m){var y=c.call(this,g,m);return y.resolveParentPath=f,y}function f(g){if(g&&("label"===g[0]||"label"===g[1])){var m=g.slice();return"label"===g[0]?m[0]="edgeLabel":"label"===g[1]&&(m[1]="edgeLabel"),m}return g}h.wrapMethod("getItemModel",function(g){return g.resolveParentPath=f,g.getModel=p,g})});return V(l.edges,function(u){!function(h,c,p,f){if(zp(p)){var g=lc(h,c,p),m=p.__edgeMap,y=m[H2(g)];m[g]&&!y?m[g].isForward=!0:y&&m[g]&&(y.isForward=!0,m[g].isForward=!1),m[g]=m[g]||[],m[g].push(f)}}(u.node1,u.node2,this,u.dataIndex)},this),l.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,i,r){if("edge"===r){var o=this.getData(),a=this.getDataParams(e,r),s=o.graph.getEdgeByIndex(e),l=o.getName(s.node1.dataIndex),u=o.getName(s.node2.dataIndex),h=[];return null!=l&&h.push(l),null!=u&&h.push(u),Bn("nameValue",{name:h.join(" > "),value:a.value,noValue:null==a.value})}return ub({series:this,dataIndex:e,multipleSeries:i})},t.prototype._updateCategoriesData=function(){var e=oe(this.option.categories||[],function(r){return null!=r.value?r:ae({value:0},r)}),i=new ai(["value"],this);i.initData(e),this._categoriesData=i,this._categoriesModels=i.mapArray(function(r){return i.getItemModel(r)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Bt),fR={type:"graphRoam",event:"graphRoam",update:"none"},gR=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},mR=function(n){function t(e){var i=n.call(this,e)||this;return i.type="pointer",i}return Q(t,n),t.prototype.getDefaultShape=function(){return new gR},t.prototype.buildPath=function(e,i){var r=Math.cos,o=Math.sin,a=i.r,s=i.width,l=i.angle,u=i.x-r(l)*s*(s>=a/3?1:2),h=i.y-o(l)*s*(s>=a/3?1:2);l=i.angle-Math.PI/2,e.moveTo(u,h),e.lineTo(i.x+r(l)*s,i.y+o(l)*s),e.lineTo(i.x+r(i.angle)*a,i.y+o(i.angle)*a),e.lineTo(i.x-r(l)*s,i.y-o(l)*s),e.lineTo(u,h)},t}(at);function Bp(n,t){var e=null==n?"":n+"";return t&&(De(t)?e=t.replace("{value}",e):ze(t)&&(e=t(n))),e}var vR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r){this.group.removeAll();var s,l,u,h,c,p,o=e.get(["axisLine","lineStyle","color"]),a=(l=r,u=(s=e).get("center"),h=l.getWidth(),c=l.getHeight(),p=Math.min(h,c),{cx:Te(u[0],l.getWidth()),cy:Te(u[1],l.getHeight()),r:Te(s.get("radius"),p/2)});this._renderMain(e,i,r,o,a),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,i,r,o,a){var s=this.group,l=e.get("clockwise"),u=-e.get("startAngle")/180*Math.PI,h=-e.get("endAngle")/180*Math.PI,c=e.getModel("axisLine"),p=c.get("roundCap")?yp:ti,f=c.get("show"),g=c.getModel("lineStyle"),m=g.get("width"),y=[u,h];D1(y,!l);for(var x=(h=y[1])-(u=y[0]),b=u,S=0;f&&S<o.length;S++){var M=new p({shape:{startAngle:b,endAngle:h=u+x*Math.min(Math.max(o[S][0],0),1),cx:a.cx,cy:a.cy,clockwise:l,r0:a.r-m,r:a.r},silent:!0});M.setStyle({fill:o[S][1]}),M.setStyle(g.getLineStyle(["color","width"])),s.add(M),b=h}var C=function(T){if(T<=0)return o[0][1];var D;for(D=0;D<o.length;D++)if(o[D][0]>=T&&(0===D?0:o[D-1][0])<T)return o[D][1];return o[D-1][1]};this._renderTicks(e,i,r,C,a,u,h,l,m),this._renderTitleAndDetail(e,i,r,C,a),this._renderAnchor(e,a),this._renderPointer(e,i,r,C,a,u,h,l,m)},t.prototype._renderTicks=function(e,i,r,o,a,s,l,u,h){for(var c,p,f=this.group,g=a.cx,m=a.cy,y=a.r,x=+e.get("min"),b=+e.get("max"),S=e.getModel("splitLine"),M=e.getModel("axisTick"),C=e.getModel("axisLabel"),T=e.get("splitNumber"),D=M.get("splitNumber"),k=Te(S.get("length"),y),R=Te(M.get("length"),y),N=s,E=(l-s)/T,B=E/D,G=S.getModel("lineStyle").getLineStyle(),H=M.getModel("lineStyle").getLineStyle(),Y=S.get("distance"),j=0;j<=T;j++){if(c=Math.cos(N),p=Math.sin(N),S.get("show")){var Z=new kn({shape:{x1:c*(y-(q=Y?Y+h:h))+g,y1:p*(y-q)+m,x2:c*(y-k-q)+g,y2:p*(y-k-q)+m},style:G,silent:!0});"auto"===G.stroke&&Z.setStyle({stroke:o(j/T)}),f.add(Z)}if(C.get("show")){var q=C.get("distance")+Y,J=Bp(an(j/T*(b-x)+x),C.get("formatter")),te=o(j/T);f.add(new gt({style:$t(C,{text:J,x:c*(y-k-q)+g,y:p*(y-k-q)+m,verticalAlign:p<-.8?"top":p>.8?"bottom":"middle",align:c<-.4?"left":c>.4?"right":"center"},{inheritColor:te}),silent:!0}))}if(M.get("show")&&j!==T){q=(q=M.get("distance"))?q+h:h;for(var ne=0;ne<=D;ne++){c=Math.cos(N),p=Math.sin(N);var le=new kn({shape:{x1:c*(y-q)+g,y1:p*(y-q)+m,x2:c*(y-R-q)+g,y2:p*(y-R-q)+m},silent:!0,style:H});"auto"===H.stroke&&le.setStyle({stroke:o((j+ne/D)/T)}),f.add(le),N+=B}N-=B}else N+=E}},t.prototype._renderPointer=function(e,i,r,o,a,s,l,u,h){var c=this.group,p=this._data,f=this._progressEls,g=[],m=e.get(["pointer","show"]),y=e.getModel("progress"),x=y.get("show"),b=e.getData(),S=b.mapDimension("value"),M=+e.get("min"),C=+e.get("max"),T=[M,C],D=[s,l];function k(N,E){var B,G=b.getItemModel(N).getModel("pointer"),H=Te(G.get("width"),a.r),Y=Te(G.get("length"),a.r),j=e.get(["pointer","icon"]),Z=G.get("offsetCenter"),q=Te(Z[0],a.r),J=Te(Z[1],a.r),te=G.get("keepAspect");return(B=j?pn(j,q-H/2,J-Y,H,Y,null,te):new mR({shape:{angle:-Math.PI/2,width:H,r:Y,x:q,y:J}})).rotation=-(E+Math.PI/2),B.x=a.cx,B.y=a.cy,B}function R(N,E){var B=y.get("roundCap")?yp:ti,G=y.get("overlap"),H=G?y.get("width"):h/b.count(),Z=new B({shape:{startAngle:s,endAngle:E,cx:a.cx,cy:a.cy,clockwise:u,r0:G?a.r-H:a.r-(N+1)*H,r:G?a.r:a.r-N*H}});return G&&(Z.z2=C-b.get(S,N)%C),Z}(x||m)&&(b.diff(p).add(function(N){var E=b.get(S,N);if(m){var B=k(N,s);Kt(B,{rotation:-((isNaN(+E)?D[0]:kt(E,T,D,!0))+Math.PI/2)},e),c.add(B),b.setItemGraphicEl(N,B)}if(x){var G=R(N,s),H=y.get("clip");Kt(G,{shape:{endAngle:kt(E,T,D,H)}},e),c.add(G),og(e.seriesIndex,b.dataType,N,G),g[N]=G}}).update(function(N,E){var B=b.get(S,N);if(m){var G=p.getItemGraphicEl(E),H=G?G.rotation:s,Y=k(N,H);Y.rotation=H,vt(Y,{rotation:-((isNaN(+B)?D[0]:kt(B,T,D,!0))+Math.PI/2)},e),c.add(Y),b.setItemGraphicEl(N,Y)}if(x){var j=f[E],Z=R(N,j?j.shape.endAngle:s),q=y.get("clip");vt(Z,{shape:{endAngle:kt(B,T,D,q)}},e),c.add(Z),og(e.seriesIndex,b.dataType,N,Z),g[N]=Z}}).execute(),b.each(function(N){var E=b.getItemModel(N),B=E.getModel("emphasis"),G=B.get("focus"),H=B.get("blurScope"),Y=B.get("disabled");if(m){var j=b.getItemGraphicEl(N),Z=b.getItemVisual(N,"style"),q=Z.fill;if(j instanceof zn){var J=j.style;j.useStyle(ae({image:J.image,x:J.x,y:J.y,width:J.width,height:J.height},Z))}else j.useStyle(Z),"pointer"!==j.type&&j.setColor(q);j.setStyle(E.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===j.style.fill&&j.setStyle("fill",o(kt(b.get(S,N),T,[0,1],!0))),j.z2EmphasisLift=0,qn(j,E),un(j,G,H,Y)}if(x){var te=g[N];te.useStyle(b.getItemVisual(N,"style")),te.setStyle(E.getModel(["progress","itemStyle"]).getItemStyle()),te.z2EmphasisLift=0,qn(te,E),un(te,G,H,Y)}}),this._progressEls=g)},t.prototype._renderAnchor=function(e,i){var r=e.getModel("anchor");if(r.get("show")){var o=r.get("size"),a=r.get("icon"),s=r.get("offsetCenter"),l=r.get("keepAspect"),u=pn(a,i.cx-o/2+Te(s[0],i.r),i.cy-o/2+Te(s[1],i.r),o,o,null,l);u.z2=r.get("showAbove")?1:0,u.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(u)}},t.prototype._renderTitleAndDetail=function(e,i,r,o,a){var s=this,l=e.getData(),u=l.mapDimension("value"),h=+e.get("min"),c=+e.get("max"),p=new He,f=[],g=[],m=e.isAnimationEnabled(),y=e.get(["pointer","showAbove"]);l.diff(this._data).add(function(x){f[x]=new gt({silent:!0}),g[x]=new gt({silent:!0})}).update(function(x,b){f[x]=s._titleEls[b],g[x]=s._detailEls[b]}).execute(),l.each(function(x){var b=l.getItemModel(x),S=l.get(u,x),M=new He,C=o(kt(S,[h,c],[0,1],!0)),T=b.getModel("title");if(T.get("show")){var D=T.get("offsetCenter"),k=a.cx+Te(D[0],a.r),R=a.cy+Te(D[1],a.r);(Z=f[x]).attr({z2:y?0:2,style:$t(T,{x:k,y:R,text:l.getName(x),align:"center",verticalAlign:"middle"},{inheritColor:C})}),M.add(Z)}var N=b.getModel("detail");if(N.get("show")){var E=N.get("offsetCenter"),B=a.cx+Te(E[0],a.r),G=a.cy+Te(E[1],a.r),H=Te(N.get("width"),a.r),Y=Te(N.get("height"),a.r),j=e.get(["progress","show"])?l.getItemVisual(x,"style").fill:C,Z=g[x],q=N.get("formatter");Z.attr({z2:y?0:2,style:$t(N,{x:B,y:G,text:Bp(S,q),width:isNaN(H)?null:H,height:isNaN(Y)?null:Y,align:"center",verticalAlign:"middle"},{inheritColor:j})}),Fx(Z,{normal:N},S,function(J){return Bp(J,q)}),m&&Wx(Z,x,l,e,{getFormattedLabel:function(J,te,ne,le,ye,ie){return Bp(ie?ie.interpolatedValue:S,q)}}),M.add(Z)}p.add(M)}),this.group.add(p),this._titleEls=f,this._detailEls=g},t.type="gauge",t}(Ot),yR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return Q(t,n),t.prototype.getInitialData=function(e,i){return $l(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Bt),xR=["itemStyle","opacity"],_R=function(n){function t(e,i){var r=n.call(this)||this,o=r,a=new ii,s=new gt;return o.setTextContent(s),r.setTextGuideLine(a),r.updateData(e,i,!0),r}return Q(t,n),t.prototype.updateData=function(e,i,r){var o=this,a=e.hostModel,s=e.getItemModel(i),l=e.getItemLayout(i),u=s.getModel("emphasis"),h=s.get(xR);h=h??1,r||Dr(o),o.useStyle(e.getItemVisual(i,"style")),o.style.lineJoin="round",r?(o.setShape({points:l.points}),o.style.opacity=0,Kt(o,{style:{opacity:h}},a,i)):vt(o,{style:{opacity:h},shape:{points:l.points}},a,i),qn(o,s),this._updateLabel(e,i),un(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,i){var r=this,o=this.getTextGuideLine(),a=r.getTextContent(),s=e.hostModel,l=e.getItemModel(i),u=e.getItemLayout(i).label,h=e.getItemVisual(i,"style"),c=h.fill;ri(a,jn(l),{labelFetcher:e.hostModel,labelDataIndex:i,defaultOpacity:h.opacity,defaultText:e.getName(i)},{normal:{align:u.textAlign,verticalAlign:u.verticalAlign}}),r.setTextConfig({local:!0,inside:!!u.inside,insideStroke:c,outsideFill:c});var p=u.linePoints;o.setShape({points:p}),r.textGuideLineConfig={anchor:p?new X(p[0][0],p[0][1]):null},vt(a,{style:{x:u.x,y:u.y}},s,i),a.attr({rotation:u.rotation,originX:u.x,originY:u.y,z2:10}),Qm(r,ev(l),{stroke:c})},t}(ni),bR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return Q(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this._data,s=this.group;o.diff(a).add(function(l){var u=new _R(o,l);o.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var h=a.getItemGraphicEl(u);h.updateData(o,l),s.add(h),o.setItemGraphicEl(l,h)}).remove(function(l){ah(a.getItemGraphicEl(l),e,l)}).execute(),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(Ot),wR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new qh(F(this.getData,this),F(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,i){return $l(this,{coordDimensions:["value"],encodeDefaulter:We(Ug,this)})},t.prototype._defaultLabelLine=function(e){ts(e,"labelLine",["show"]);var i=e.labelLine,r=e.emphasis.labelLine;i.show=i.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var i=this.getData(),r=n.prototype.getDataParams.call(this,e),o=i.mapDimension("value"),a=i.getSum(o);return r.percent=a?+(i.get(o,e)/a*100).toFixed(2):0,r.$vars.push("percent"),r},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Bt);function SR(n,t){n.eachSeriesByType("funnel",function(e){var H,i=e.getData(),r=i.mapDimension("value"),o=e.get("sort"),a=(H=t,In(e.getBoxLayoutParams(),{width:H.getWidth(),height:H.getHeight()})),s=e.get("orient"),l=a.width,u=a.height,h=function(G,H){for(var Y=G.mapDimension("value"),j=G.mapArray(Y,function(ne){return ne}),Z=[],q="ascending"===H,J=0,te=G.count();J<te;J++)Z[J]=J;return ze(H)?Z.sort(H):"none"!==H&&Z.sort(function(ne,le){return q?j[ne]-j[le]:j[le]-j[ne]}),Z}(i,o),c=a.x,p=a.y,f="horizontal"===s?[Te(e.get("minSize"),u),Te(e.get("maxSize"),u)]:[Te(e.get("minSize"),l),Te(e.get("maxSize"),l)],g=i.getDataExtent(r),m=e.get("min"),y=e.get("max");null==m&&(m=Math.min(g[0],0)),null==y&&(y=g[1]);var x=e.get("funnelAlign"),b=e.get("gap"),S=(("horizontal"===s?l:u)-b*(i.count()-1))/i.count(),M=function(G,H){if("horizontal"===s){var Y=kt(i.get(r,G)||0,[m,y],f,!0),j=void 0;switch(x){case"top":j=p;break;case"center":j=p+(u-Y)/2;break;case"bottom":j=p+(u-Y)}return[[H,j],[H,j+Y]]}var Z,q=kt(i.get(r,G)||0,[m,y],f,!0);switch(x){case"left":Z=c;break;case"center":Z=c+(l-q)/2;break;case"right":Z=c+l-q}return[[Z,H],[Z+q,H]]};"ascending"===o&&(S=-S,b=-b,"horizontal"===s?c+=l:p+=u,h=h.reverse());for(var C=0;C<h.length;C++){var T=h[C],D=h[C+1],k=i.getItemModel(T);if("horizontal"===s){var R=k.get(["itemStyle","width"]);null==R?R=S:(R=Te(R,l),"ascending"===o&&(R=-R));var N=M(T,c),E=M(D,c+R);c+=R+b,i.setItemLayout(T,{points:N.concat(E.slice().reverse())})}else{var B=k.get(["itemStyle","height"]);null==B?B=S:(B=Te(B,u),"ascending"===o&&(B=-B)),N=M(T,p),E=M(D,p+B),p+=B+b,i.setItemLayout(T,{points:N.concat(E.slice().reverse())})}}!function(G){var H=G.hostModel.get("orient");G.each(function(Y){var j,Z,q,J,te=G.getItemModel(Y),ne=te.getModel("label").get("position"),le=te.getModel("labelLine"),ye=G.getItemLayout(Y),ie=ye.points,he="inner"===ne||"inside"===ne||"center"===ne||"insideLeft"===ne||"insideRight"===ne;if(he)"insideLeft"===ne?(Z=(ie[0][0]+ie[3][0])/2+5,q=(ie[0][1]+ie[3][1])/2,j="left"):"insideRight"===ne?(Z=(ie[1][0]+ie[2][0])/2-5,q=(ie[1][1]+ie[2][1])/2,j="right"):(Z=(ie[0][0]+ie[1][0]+ie[2][0]+ie[3][0])/4,q=(ie[0][1]+ie[1][1]+ie[2][1]+ie[3][1])/4,j="center"),J=[[Z,q],[Z,q]];else{var xe=void 0,be=void 0,ge=void 0,we=void 0,me=le.get("length");"left"===ne?(be=(ie[3][1]+ie[0][1])/2,Z=(ge=(xe=(ie[3][0]+ie[0][0])/2)-me)-5,j="right"):"right"===ne?(be=(ie[1][1]+ie[2][1])/2,Z=(ge=(xe=(ie[1][0]+ie[2][0])/2)+me)+5,j="left"):"top"===ne?(xe=(ie[3][0]+ie[0][0])/2,q=(we=(be=(ie[3][1]+ie[0][1])/2)-me)-5,j="center"):"bottom"===ne?(xe=(ie[1][0]+ie[2][0])/2,q=(we=(be=(ie[1][1]+ie[2][1])/2)+me)+5,j="center"):"rightTop"===ne?(xe="horizontal"===H?ie[3][0]:ie[1][0],be="horizontal"===H?ie[3][1]:ie[1][1],"horizontal"===H?(q=(we=be-me)-5,j="center"):(Z=(ge=xe+me)+5,j="top")):"rightBottom"===ne?(xe=ie[2][0],be=ie[2][1],"horizontal"===H?(q=(we=be+me)+5,j="center"):(Z=(ge=xe+me)+5,j="bottom")):"leftTop"===ne?(xe=ie[0][0],be="horizontal"===H?ie[0][1]:ie[1][1],"horizontal"===H?(q=(we=be-me)-5,j="center"):(Z=(ge=xe-me)-5,j="right")):"leftBottom"===ne?(xe="horizontal"===H?ie[1][0]:ie[3][0],be="horizontal"===H?ie[1][1]:ie[2][1],"horizontal"===H?(q=(we=be+me)+5,j="center"):(Z=(ge=xe-me)-5,j="right")):(xe=(ie[1][0]+ie[2][0])/2,be=(ie[1][1]+ie[2][1])/2,"horizontal"===H?(q=(we=be+me)+5,j="center"):(Z=(ge=xe+me)+5,j="left")),"horizontal"===H?Z=ge=xe:q=we=be,J=[[xe,be],[ge,we]]}ye.label={linePoints:J,x:Z,y:q,verticalAlign:"middle",textAlign:j,inside:he}})}(i)})}var MR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new He,e._initialized=!1,e}return Q(t,n),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,i,r,o){this._progressiveEls=null;var f,g,y,x,b,S,a=this._dataGroup,s=e.getData(),l=this._data,u=e.coordinateSystem,h=u.dimensions,c=lI(e);if(s.diff(l).add(function(f){yy(sI(s,a,f,h,u),s,f,c)}).update(function(f,g){var m=l.getItemGraphicEl(g),y=aI(s,f,h,u);s.setItemGraphicEl(f,m),vt(m,{shape:{points:y}},e,f),Dr(m),yy(m,s,f,c)}).remove(function(f){var g=l.getItemGraphicEl(f);a.remove(g)}).execute(),!this._initialized){this._initialized=!0;var p=(g=e,y=(f=u).model,x=f.getRect(),b=new ht({shape:{x:x.x,y:x.y,width:x.width,height:x.height}}),S="horizontal"===y.get("layout")?"width":"height",b.setShape(S,0),Kt(b,{shape:{width:x.width,height:x.height}},g,function(){setTimeout(function(){a.removeClipPath()})}),b);a.setClipPath(p)}this._data=s},t.prototype.incrementalPrepareRender=function(e,i,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,i,r){for(var o=i.getData(),a=i.coordinateSystem,s=a.dimensions,l=lI(i),u=this._progressiveEls=[],h=e.start;h<e.end;h++){var c=sI(o,this._dataGroup,h,s,a);c.incremental=!0,yy(c,o,h,l),u.push(c)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(Ot);function aI(n,t,e,i){for(var r,o=[],a=0;a<e.length;a++){var s=e[a],l=n.get(n.mapDimension(s),t);r=l,("category"===i.getAxis(s).type?null==r:null==r||isNaN(r))||o.push(i.dataToPoint(l,s))}return o}function sI(n,t,e,i,r){var o=aI(n,e,i,r),a=new ii({shape:{points:o},z2:10});return t.add(a),n.setItemGraphicEl(e,a),a}function lI(n){var t=n.get("smooth",!0);return!0===t&&(t=.3),Ie(t=jr(t))&&(t=0),{smooth:t}}function yy(n,t,e,i){n.useStyle(t.getItemVisual(e,"style")),n.style.fill=null,n.setShape("smooth",i.smooth);var r=t.getItemModel(e),o=r.getModel("emphasis");qn(n,r,"lineStyle"),un(n,o.get("focus"),o.get("blurScope"),o.get("disabled"))}var IR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return Q(t,n),t.prototype.getInitialData=function(e,i){return eo(null,this,{useEncodeDefaulter:F(CR,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var i=this.coordinateSystem,r=this.getData(),o=[];return i.eachActiveState(r,function(a,s){e===a&&o.push(r.getRawIndex(s))}),o},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Bt);function CR(n){var t=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(t){var e={};return V(t.dimensions,function(i){var r=+i.replace("dim","");e[i]=r}),e}}var TR=["lineStyle","opacity"],DR={seriesType:"parallel",reset:function(n,t){var e=n.coordinateSystem,i={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(r,o){e.eachActiveState(o,function(a,s){var l=i[a];if("normal"===a&&o.hasItemOption){var u=o.getItemModel(s).get(TR,!0);null!=u&&(l=u)}o.ensureUniqueItemVisual(s,"style").opacity=l},r.start,r.end)}}}};function AR(n){(function(t){if(!t.parallel){var e=!1;V(t.series,function(i){i&&"parallel"===i.type&&(e=!0)}),e&&(t.parallel=[{}])}})(n),function(t){V(zt(t.parallelAxis),function(e){if(Oe(e)){var i=e.parallelIndex||0,r=zt(t.parallel)[i];r&&r.parallelAxisDefault&&qe(e,r.parallelAxisDefault,!1)}})}(n)}var kR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r){this._model=e,this._api=r,this._handlers||(this._handlers={},V(LR,function(o,a){r.getZr().on(a,this._handlers[a]=F(o,this))},this)),zl(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,i){wh(this,"_throttledDispatchExpand"),V(this._handlers,function(r,o){i.getZr().off(o,r)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(ae({type:"parallelAxisExpand"},e))},t.type="parallel",t}(Yt),LR={mousedown:function(n){xy(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var t=this._mouseDownPoint;if(xy(this,"click")&&t){var e=[n.offsetX,n.offsetY];if(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&xy(this,"mousemove")){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),i=e.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:e.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function xy(n,t){var e=n._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}var PR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){e&&qe(this.option,e,!0),this._initDimensions()},t.prototype.contains=function(e,i){var r=e.get("parallelIndex");return null!=r&&i.getComponent("parallel",r)===this},t.prototype.setAxisExpand=function(e){V(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){e.hasOwnProperty(i)&&(this.option[i]=e[i])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],i=this.parallelAxisIndex=[];V(dt(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(r){return(r.get("parallelIndex")||0)===this.componentIndex},this),function(r){e.push("dim"+r.get("dim")),i.push(r.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(st),OR=function(n){function t(e,i,r,o,a){var s=n.call(this,e,i,r)||this;return s.type=o||"value",s.axisIndex=a,s}return Q(t,n),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(sr);function Ws(n,t,e,i,r,o){n=n||0;var a=e[1]-e[0];if(null!=r&&(r=iu(r,[0,a])),null!=o&&(o=Math.max(o,r??0)),"all"===i){var s=Math.abs(t[1]-t[0]);s=iu(s,[0,a]),r=o=iu(s,[r,o]),i=0}t[0]=iu(t[0],e),t[1]=iu(t[1],e);var l=_y(t,i);t[i]+=n;var u,h=r||0,c=e.slice();return l.sign<0?c[0]+=h:c[1]-=h,t[i]=iu(t[i],c),u=_y(t,i),null!=r&&(u.sign!==l.sign||u.span<r)&&(t[1-i]=t[i]+l.sign*r),u=_y(t,i),null!=o&&u.span>o&&(t[1-i]=t[i]+u.sign*o),t}function _y(n,t){var e=n[t]-n[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function iu(n,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,n))}var by=V,uI=Math.min,hI=Math.max,cI=Math.floor,RR=Math.ceil,dI=an,NR=Math.PI,ER=function(){function n(t,e,i){this.type="parallel",this._axesMap=Ne(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,i)}return n.prototype._init=function(t,e,i){var o=t.parallelAxisIndex;by(t.dimensions,function(a,s){var l=o[s],u=e.getComponent("parallelAxis",l),h=this._axesMap.set(a,new OR(a,Eh(u),[0,0],u.get("type"),l));h.onBand="category"===h.type&&u.get("boundaryGap"),h.inverse=u.get("inverse"),u.axis=h,h.model=u,h.coordinateSystem=u.coordinateSystem=this},this)},n.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},n.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),i=e.axisBase,r=e.layoutBase,o=e.pixelDimIndex,a=t[1-o],s=t[o];return a>=i&&a<=i+e.axisLength&&s>=r&&s<=r+e.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(i){if(t.contains(i,e)){var r=i.getData();by(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(r,r.mapDimension(o)),Ds(a.scale,a.model)},this)}},this)},n.prototype.resize=function(t,e){this._rect=In(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var t,e=this._model,i=this._rect,r=["x","y"],o=["width","height"],a=e.get("layout"),s="horizontal"===a?0:1,l=i[o[s]],u=[0,l],h=this.dimensions.length,c=Vp(e.get("axisExpandWidth"),u),p=Vp(e.get("axisExpandCount")||0,[0,h]),f=e.get("axisExpandable")&&h>3&&h>p&&p>1&&c>0&&l>0,g=e.get("axisExpandWindow");g?(t=Vp(g[1]-g[0],u),g[1]=g[0]+t):(t=Vp(c*(p-1),u),(g=[c*(e.get("axisExpandCenter")||cI(h/2))-t/2])[1]=g[0]+t);var m=(l-t)/(h-p);m<3&&(m=0);var y=[cI(dI(g[0]/c,1))+1,RR(dI(g[1]/c,1))-1];return{layout:a,pixelDimIndex:s,layoutBase:i[r[s]],layoutLength:l,axisBase:i[r[1-s]],axisLength:i[o[1-s]],axisExpandable:f,axisExpandWidth:c,axisCollapseWidth:m,axisExpandWindow:g,axisCount:h,winInnerIndices:y,axisExpandWindow0Pos:m/c*g[0]}},n.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,i=this.dimensions,r=this._makeLayoutInfo(),o=r.layout;e.each(function(a){var s=[0,r.axisLength],l=a.inverse?1:0;a.setExtent(s[l],s[1-l])}),by(i,function(a,s){var l=(r.axisExpandable?BR:zR)(s,r),u={horizontal:{x:l.position,y:r.axisLength},vertical:{x:0,y:l.position}},c=[u[o].x+t.x,u[o].y+t.y],p={horizontal:NR/2,vertical:0}[o],f=[1,0,0,1,0,0];Xr(f,f,p),Ni(f,f,c),this._axesLayout[a]={position:c,rotation:p,transform:f,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(t){return this._axesMap.get(t)},n.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},n.prototype.eachActiveState=function(t,e,i,r){null==i&&(i=0),null==r&&(r=t.count());var o=this._axesMap,a=this.dimensions,s=[],l=[];V(a,function(m){s.push(t.mapDimension(m)),l.push(o.get(m).model)});for(var u=this.hasAxisBrushed(),h=i;h<r;h++){var c=void 0;if(u){c="active";for(var p=t.getValues(s,h),f=0,g=a.length;f<g;f++)if("inactive"===l[f].getActiveState(p[f])){c="inactive";break}}else c="normal";e(c,h)}},n.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,i=!1,r=0,o=t.length;r<o;r++)"normal"!==e.get(t[r]).model.getActiveState()&&(i=!0);return i},n.prototype.axisCoordToPoint=function(t,e){return Ar([t,0],this._axesLayout[e].transform)},n.prototype.getAxisLayout=function(t){return Re(this._axesLayout[t])},n.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),i=e.pixelDimIndex,r=e.axisExpandWindow.slice(),o=r[1]-r[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:r};var s,l=t[i]-e.layoutBase-e.axisExpandWindow0Pos,u="slide",h=e.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),p=null!=c[0];if(h)p&&h&&l<o*c[0]?(u="jump",s=l-o*c[2]):p&&h&&l>o*(1-c[0])?(u="jump",s=l-o*(1-c[2])):(s=l-o*c[1])>=0&&(s=l-o*(1-c[1]))<=0&&(s=0),(s*=e.axisExpandWidth/h)?Ws(s,r,a,"all"):u="none";else{var f=r[1]-r[0];(r=[hI(0,a[1]*l/f-f/2)])[1]=uI(a[1],r[0]+f),r[0]=r[1]-f}return{axisExpandWindow:r,behavior:u}},n}();function Vp(n,t){return uI(hI(n,t[0]),t[1])}function zR(n,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*n,axisNameAvailableWidth:e,axisLabelShow:!0}}function BR(n,t){var e,i,o=t.axisExpandWidth,s=t.axisCollapseWidth,l=t.winInnerIndices,u=s,h=!1;return n<l[0]?(e=n*s,i=s):n<=l[1]?(e=t.axisExpandWindow0Pos+n*o-t.axisExpandWindow[0],u=o,h=!0):(e=t.layoutLength-(t.axisCount-1-n)*s,i=s),{position:e,axisNameAvailableWidth:u,axisLabelShow:h,nameTruncateMaxWidth:i}}var VR={create:function(n,t){var e=[];return n.eachComponent("parallel",function(i,r){var o=new ER(i,n,t);o.name="parallel_"+r,o.resize(i,t),i.coordinateSystem=o,o.model=i,e.push(o)}),n.eachSeries(function(i){if("parallel"===i.get("coordinateSystem")){var r=i.getReferringComponents("parallel",Mn).models[0];i.coordinateSystem=r.coordinateSystem}}),e}},wy=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return Q(t,n),t.prototype.getAreaSelectStyle=function(){return rs([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var i=this.activeIntervals=Re(e);if(i)for(var r=i.length-1;r>=0;r--)Ei(i[r])},t.prototype.getActiveState=function(e){var i=this.activeIntervals;if(!i.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===i.length){var r=i[0];if(r[0]<=e&&e<=r[1])return"active"}else for(var o=0,a=i.length;o<a;o++)if(i[o][0]<=e&&e<=i[o][1])return"active";return"inactive"},t}(st);Nt(wy,Xl);var Gs=!0,cc=Math.min,ru=Math.max,FR=Math.pow,WR={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},GR={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},fI={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},HR=0,Sy=function(n){function t(e){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=e,i.group=new He,i._uid="brushController_"+HR++,V(YR,function(r,o){this._handlers[o]=F(r,this)},i),i}return Q(t,n),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var a,i=this._zr;this._enableGlobalPan||(a=this._uid,Lv(i).globalPan=a),V(this._handlers,function(r,o){i.on(o,r)}),this._brushType=e.brushType,this._brushOption=qe(Re(fI),e,!0)},t.prototype._doDisableBrush=function(){var r,o,a,e=this._zr;r="globalPan",o=this._uid,(a=Lv(e))[r]===o&&(a[r]=null),V(this._handlers,function(i,r){e.off(r,i)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var i=this._panels={};V(e,function(r){i[r.panelId]=Re(r)})}else this._panels=null;return this},t.prototype.mount=function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=i.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=oe(e,function(u){return qe(Re(fI),u,!0)});var i=this._covers,r=this._covers=[],o=this,a=this._creatingCover;return new ko(i,e,function(u,h){return s(u.__brushOption,h)},s).add(l).update(l).remove(function(u){i[u]!==a&&o.group.remove(i[u])}).execute(),this;function s(u,h){return(null!=u.id?u.id:"\0-brush-index-"+h)+"-"+u.brushType}function l(u,h){var c=e[u];if(null!=h&&i[h]===a)r[u]=i[h];else{var p=r[u]=null!=h?(i[h].__brushOption=c,i[h]):mI(o,gI(o,c));My(o,p)}}},t.prototype.unmount=function(){return this.enableBrush(!1),Ty(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(hi);function gI(n,t){var e=Fp[t.brushType].createCover(n,t);return e.__brushOption=t,yI(e,t),n.group.add(e),e}function mI(n,t){var e=Iy(t);return e.endCreating&&(e.endCreating(n,t),yI(t,t.__brushOption)),t}function vI(n,t){var e=t.__brushOption;Iy(t).updateCoverShape(n,t,e.range,e)}function yI(n,t){var e=t.z;null==e&&(e=1e4),n.traverse(function(i){i.z=e,i.z2=e})}function My(n,t){Iy(t).updateCommon(n,t),vI(n,t)}function Iy(n){return Fp[n.__brushOption.brushType]}function Cy(n,t,e){var i,r=n._panels;if(!r)return Gs;var o=n._transform;return V(r,function(a){a.isTargetByCursor(t,e,o)&&(i=a)}),i}function xI(n,t){var e=n._panels;if(!e)return Gs;var i=t.__brushOption.panelId;return null!=i?e[i]:Gs}function Ty(n){var t=n._covers,e=t.length;return V(t,function(i){n.group.remove(i)},n),t.length=0,!!e}function Hs(n,t){var e=oe(n._covers,function(i){var r=i.__brushOption,o=Re(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});n.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function _I(n){var t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}function bI(n,t,e,i){var r=new He;return r.add(new ht({name:"main",style:Ay(e),silent:!0,draggable:!0,cursor:"move",drift:We(MI,n,t,r,["n","s","w","e"]),ondragend:We(Hs,t,{isEnd:!0})})),V(i,function(o){r.add(new ht({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:We(MI,n,t,r,o),ondragend:We(Hs,t,{isEnd:!0})}))}),r}function wI(n,t,e,i){var r=i.brushStyle.lineWidth||0,o=ru(r,6),a=e[0][0],s=e[1][0],l=a-r/2,u=s-r/2,h=e[0][1],c=e[1][1],p=h-o+r/2,f=c-o+r/2,g=h-a,m=c-s,y=g+r,x=m+r;Oo(n,t,"main",a,s,g,m),i.transformable&&(Oo(n,t,"w",l,u,o,x),Oo(n,t,"e",p,u,o,x),Oo(n,t,"n",l,u,y,o),Oo(n,t,"s",l,f,y,o),Oo(n,t,"nw",l,u,o,o),Oo(n,t,"ne",p,u,o,o),Oo(n,t,"sw",l,f,o,o),Oo(n,t,"se",p,f,o,o))}function Dy(n,t){var e=t.__brushOption,i=e.transformable,r=t.childAt(0);r.useStyle(Ay(e)),r.attr({silent:!i,cursor:i?"move":"default"}),V([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var l,u,h,a=t.childOfName(o.join("")),s=1===o.length?ky(n,o[0]):(("e"===(h=[ky(l=n,(u=o)[0]),ky(l,u[1])])[0]||"w"===h[0])&&h.reverse(),h.join(""));a&&a.attr({silent:!i,invisible:!i,cursor:i?GR[s]+"-resize":null})})}function Oo(n,t,e,i,r,o,a){var l,u,h,s=t.childOfName(e);s&&s.setShape((l=Ly(n,t,[[i,r],[i+o,r+a]]),{x:u=cc(l[0][0],l[1][0]),y:h=cc(l[0][1],l[1][1]),width:ru(l[0][0],l[1][0])-u,height:ru(l[0][1],l[1][1])-h}))}function Ay(n){return Ee({strokeNoScale:!0},n.brushStyle)}function SI(n,t,e,i){var r=[cc(n,e),cc(t,i)],o=[ru(n,e),ru(t,i)];return[[r[0],o[0]],[r[1],o[1]]]}function ky(n,t){return{left:"w",right:"e",top:"n",bottom:"s"}[gd({w:"left",e:"right",n:"top",s:"bottom"}[t],(e=n,ha(e.group)))];var e}function MI(n,t,e,i,r,o){var a=e.__brushOption,s=n.toRectRange(a.range),l=II(t,r,o);V(i,function(u){var h=WR[u];s[h[0]][h[1]]+=l[h[0]]}),a.range=n.fromRectRange(SI(s[0][0],s[1][0],s[0][1],s[1][1])),My(t,e),Hs(t,{isEnd:!1})}function UR(n,t,e,i){var r=t.__brushOption.range,o=II(n,e,i);V(r,function(a){a[0]+=o[0],a[1]+=o[1]}),My(n,t),Hs(n,{isEnd:!1})}function II(n,t,e){var i=n.group,r=i.transformCoordToLocal(t,e),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function Ly(n,t,e){var i=xI(n,t);return i&&i!==Gs?i.clipPath(e,n._transform):Re(e)}function Py(n){var t=n.event;t.preventDefault&&t.preventDefault()}function Oy(n,t,e){return n.childOfName("main").contain(t,e)}function CI(n,t,e,i){var r,o=n._creatingCover,a=n._creatingPanel,s=n._brushOption;if(n._track.push(e.slice()),function(h){var c=h._track;if(!c.length)return!1;var p=c[c.length-1],f=c[0],g=p[0]-f[0],m=p[1]-f[1];return FR(g*g+m*m,.5)>6}(n)||o){if(a&&!o){"single"===s.brushMode&&Ty(n);var l=Re(s);l.brushType=TI(l.brushType,a),l.panelId=a===Gs?null:a.panelId,o=n._creatingCover=gI(n,l),n._covers.push(o)}if(o){var u=Fp[TI(n._brushType,a)];o.__brushOption.range=u.getCreatingRange(Ly(n,o,n._track)),i&&(mI(n,o),u.updateCommon(n,o)),vI(n,o),r={isEnd:i}}}else i&&"single"===s.brushMode&&s.removeOnClick&&Cy(n,t,e)&&Ty(n)&&(r={isEnd:i,removeOnClick:!0});return r}function TI(n,t){return"auto"===n?t.defaultBrushType:n}var YR={mousedown:function(n){if(this._dragging)DI(this,n);else if(!n.target||!n.target.draggable){Py(n);var t=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=Cy(this,n,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(n){var i=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(function(o,a,s){if(o._brushType&&(m=a.offsetY,y=o._zr,!((g=a.offsetX)<0||g>y.getWidth()||m<0||m>y.getHeight()))){var l=o._zr,u=o._covers,h=Cy(o,a,s);if(!o._dragging)for(var c=0;c<u.length;c++){var p=u[c].__brushOption;if(h&&(h===Gs||p.panelId===h.panelId)&&Fp[p.brushType].contain(u[c],s[0],s[1]))return}h&&l.setCursorStyle("crosshair")}var g,m,y}(this,n,i),this._dragging){Py(n);var r=CI(this,n,i,!1);r&&Hs(this,r)}},mouseup:function(n){DI(this,n)}};function DI(n,t){if(n._dragging){Py(t);var r=n.group.transformCoordToLocal(t.offsetX,t.offsetY),o=CI(n,t,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,o&&Hs(n,o)}}var Fp={lineX:AI(0),lineY:AI(1),rect:{createCover:function(n,t){function e(i){return i}return bI({toRectRange:e,fromRectRange:e},n,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var t=_I(n);return SI(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,e,i){wI(n,t,e,i)},updateCommon:Dy,contain:Oy},polygon:{createCover:function(n,t){var e=new He;return e.add(new ii({name:"main",style:Ay(t),silent:!0})),e},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0)),t.add(new ni({name:"main",draggable:!0,drift:We(UR,n,t),ondragend:We(Hs,n,{isEnd:!0})}))},updateCoverShape:function(n,t,e,i){t.childAt(0).setShape({points:Ly(n,t,e)})},updateCommon:Dy,contain:Oy}};function AI(n){return{createCover:function(t,e){return bI({toRectRange:function(i){var r=[i,[0,100]];return n&&r.reverse(),r},fromRectRange:function(i){return i[n]}},t,e,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(t){var e=_I(t);return[cc(e[0][n],e[1][n]),ru(e[0][n],e[1][n])]},updateCoverShape:function(t,e,i,r){var o,a=xI(t,e);if(a!==Gs&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(n);else{var s=t._zr;o=[0,[s.getWidth(),s.getHeight()][1-n]]}var l=[i,o];n&&l.reverse(),wI(t,e,l,r)},updateCommon:Dy,contain:Oy}}function kI(n){return n=Ry(n),function(t){return Mg(t,n)}}function LI(n,t){return n=Ry(n),function(e){var i=t??e,o=i?n.x:n.y;return[o,o+((i?n.width:n.height)||0)]}}function PI(n,t,e){var i=Ry(n);return function(r,o){return i.contain(o[0],o[1])&&!Ip(r,t,e)}}function Ry(n){return ue.create(n)}var XR=["axisLine","axisTickLabel","axisName"],jR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.init=function(e,i){n.prototype.init.apply(this,arguments),(this._brushController=new Sy(i.getZr())).on("brush",F(this._onBrush,this))},t.prototype.render=function(e,i,r,o){if(g=e,!(y=o)||"axisAreaSelect"!==y.type||i.findComponents({mainType:"parallelAxis",query:y})[0]!==g){this.axisModel=e,this.api=r,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new He,this.group.add(this._axisGroup),e.get("show")){var s=function(g,m){return m.getComponent("parallel",g.get("parallelIndex"))}(e,i),l=s.coordinateSystem,u=e.getAreaSelectStyle(),h=u.width,p=ae({strokeContainThreshold:h},l.getAxisLayout(e.axis.dim)),f=new vi(e,p);V(XR,f.add,f),this._axisGroup.add(f.getGroup()),this._refreshBrushController(p,u,e,s,h,r),lh(a,this._axisGroup,e)}}var g,y},t.prototype._refreshBrushController=function(e,i,r,o,a,s){var p,f,l=r.axis.getExtent(),u=l[1]-l[0],h=Math.min(30,.1*Math.abs(u)),c=ue.create({x:l[0],y:-a/2,width:u,height:a});c.x-=h,c.width+=2*h,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:kI(c),isTargetByCursor:PI(c,s,o),getLinearBrushOtherExtent:LI(c,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers((f=(p=r).axis,oe(p.activeIntervals,function(g){return{brushType:"lineX",panelId:"pl",range:[f.dataToCoord(g[0],!0),f.dataToCoord(g[1],!0)]}})))},t.prototype._onBrush=function(e){var r=this.axisModel,o=r.axis,a=oe(e.areas,function(s){return[o.coordToData(s.range[0],!0),o.coordToData(s.range[1],!0)]});(!r.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:a})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Yt),ZR={type:"axisAreaSelect",event:"axisAreaSelected"},qR={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function OI(n){n.registerComponentView(kR),n.registerComponentModel(PR),n.registerCoordinateSystem("parallel",VR),n.registerPreprocessor(AR),n.registerComponentModel(wy),n.registerComponentView(jR),Jl(n,"parallel",wy,qR),function(t){t.registerAction(ZR,function(e,i){i.eachComponent({mainType:"parallelAxis",query:e},function(r){r.axis.model.setActiveIntervals(e.intervals)})}),t.registerAction("parallelAxisExpand",function(e,i){i.eachComponent({mainType:"parallel",query:e},function(r){r.setAxisExpand(e)})})}(n)}var KR=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},$R=function(n){function t(e){return n.call(this,e)||this}return Q(t,n),t.prototype.getDefaultShape=function(){return new KR},t.prototype.buildPath=function(e,i){var r=i.extent;e.moveTo(i.x1,i.y1),e.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),"vertical"===i.orient?(e.lineTo(i.x2+r,i.y2),e.bezierCurveTo(i.cpx2+r,i.cpy2,i.cpx1+r,i.cpy1,i.x1+r,i.y1)):(e.lineTo(i.x2,i.y2+r),e.bezierCurveTo(i.cpx2,i.cpy2+r,i.cpx1,i.cpy1+r,i.x1,i.y1+r)),e.closePath()},t.prototype.highlight=function(){Co(this)},t.prototype.downplay=function(){To(this)},t}(at),JR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return Q(t,n),t.prototype.render=function(e,i,r){var g,m,x,o=this,a=e.getGraph(),s=this.group,l=e.layoutInfo,u=l.width,h=l.height,c=e.getData(),p=e.getData("edge"),f=e.get("orient");this._model=e,s.removeAll(),s.x=l.x,s.y=l.y,a.eachEdge(function(g){var m=new $R,y=Ze(m);y.dataIndex=g.dataIndex,y.seriesIndex=e.seriesIndex,y.dataType="edge";var x,b,S,M,C,T,D,k,R=g.getModel(),N=R.getModel("lineStyle"),E=N.get("curveness"),B=g.node1.getLayout(),G=g.node1.getModel(),H=G.get("localX"),Y=G.get("localY"),j=g.node2.getLayout(),Z=g.node2.getModel(),q=Z.get("localX"),J=Z.get("localY"),te=g.getLayout();switch(m.shape.extent=Math.max(1,te.dy),m.shape.orient=f,"vertical"===f?(C=x=(null!=H?H*u:B.x)+te.sy,T=(b=(null!=Y?Y*h:B.y)+B.dy)*(1-E)+(M=null!=J?J*h:j.y)*E,D=S=(null!=q?q*u:j.x)+te.ty,k=b*E+M*(1-E)):(C=(x=(null!=H?H*u:B.x)+B.dx)*(1-E)+(S=null!=q?q*u:j.x)*E,T=b=(null!=Y?Y*h:B.y)+te.sy,D=x*E+S*(1-E),k=M=(null!=J?J*h:j.y)+te.ty),m.setShape({x1:x,y1:b,x2:S,y2:M,cpx1:C,cpy1:T,cpx2:D,cpy2:k}),m.useStyle(N.getItemStyle()),m.style.fill){case"source":m.style.fill=g.node1.getVisual("color"),m.style.decal=g.node1.getVisual("style").decal;break;case"target":m.style.fill=g.node2.getVisual("color"),m.style.decal=g.node2.getVisual("style").decal;break;case"gradient":var ne=g.node1.getVisual("color"),le=g.node2.getVisual("color");De(ne)&&De(le)&&(m.style.fill=new yl(0,0,+("horizontal"===f),+("vertical"===f),[{color:ne,offset:0},{color:le,offset:1}]))}var ye=R.getModel("emphasis");qn(m,R,"lineStyle",function(he){return he.getItemStyle()}),s.add(m),p.setItemGraphicEl(g.dataIndex,m);var ie=ye.get("focus");un(m,"adjacency"===ie?g.getAdjacentDataIndices():ie,ye.get("blurScope"),ye.get("disabled")),Ze(m).dataType="edge"}),a.eachNode(function(g){var m=g.getLayout(),y=g.getModel(),x=y.get("localX"),b=y.get("localY"),S=y.getModel("emphasis"),M=new ht({shape:{x:null!=x?x*u:m.x,y:null!=b?b*h:m.y,width:m.dx,height:m.dy},style:y.getModel("itemStyle").getItemStyle(),z2:10});ri(M,jn(y),{labelFetcher:e,labelDataIndex:g.dataIndex,defaultText:g.id}),M.disableLabelAnimation=!0,M.setStyle("fill",g.getVisual("color")),M.setStyle("decal",g.getVisual("style").decal),qn(M,y),s.add(M),c.setItemGraphicEl(g.dataIndex,M),Ze(M).dataType="node";var C=S.get("focus");un(M,"adjacency"===C?g.getAdjacentDataIndices():C,S.get("blurScope"),S.get("disabled"))}),c.eachItemGraphicEl(function(g,m){c.getItemModel(m).get("draggable")&&(g.drift=function(y,x){o._focusAdjacencyDisabled=!0,this.shape.x+=y,this.shape.y+=x,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:c.getRawIndex(m),localX:this.shape.x/u,localY:this.shape.y/h})},g.ondragend=function(){o._focusAdjacencyDisabled=!1},g.draggable=!0,g.cursor="move")}),!this._data&&e.isAnimationEnabled()&&s.setClipPath((g=s.getBoundingRect(),m=e,Kt(x=new ht({shape:{x:g.x-10,y:g.y-10,width:0,height:g.height+20}}),{shape:{width:g.width+20}},m,function(){s.removeClipPath()}),x)),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(Ot),QR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.getInitialData=function(e,i){var r=e.edges||e.links,o=e.data||e.nodes,a=e.levels;this.levelModels=[];for(var s=this.levelModels,l=0;l<a.length;l++)null!=a[l].depth&&a[l].depth>=0&&(s[a[l].depth]=new Ct(a[l],this,i));if(o&&r)return oI(o,r,this,!0,function(u,h){u.wrapMethod("getItemModel",function(c,p){var f=c.parentModel,g=f.getData().getItemLayout(p);if(g){var y=f.levelModels[g.depth];y&&(c.parentModel=y)}return c}),h.wrapMethod("getItemModel",function(c,p){var f=c.parentModel,g=f.getGraph().getEdgeByIndex(p).node1.getLayout();if(g){var y=f.levelModels[g.depth];y&&(c.parentModel=y)}return c})}).data},t.prototype.setNodePosition=function(e,i){var r=(this.option.data||this.option.nodes)[e];r.localX=i[0],r.localY=i[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,i,r){function o(c){return isNaN(c)||null==c}if("edge"===r){var a=this.getDataParams(e,r),s=a.data,l=a.value;return Bn("nameValue",{name:s.source+" -- "+s.target,value:l,noValue:o(l)})}var u=this.getGraph().getNodeByIndex(e).getLayout().value,h=this.getDataParams(e,r).data.name;return Bn("nameValue",{name:null!=h?h+"":null,value:u,noValue:o(u)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,i){var r=n.prototype.getDataParams.call(this,e,i);if(null==r.value&&"node"===i){var o=this.getGraph().getNodeByIndex(e).getLayout().value;r.value=o}return r},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Bt);function eN(n,t){n.eachSeriesByType("sankey",function(e){var p,i=e.get("nodeWidth"),r=e.get("nodeGap"),o=(p=t,In(e.getBoxLayoutParams(),{width:p.getWidth(),height:p.getHeight()}));e.layoutInfo=o;var a=o.width,s=o.height,l=e.getGraph(),u=l.nodes,h=l.edges;V(u,function(p){var f=Ca(p.outEdges,Wp),g=Ca(p.inEdges,Wp),m=p.getValue()||0,y=Math.max(f,g,m);p.setLayout({value:y},!0)}),function(c,p,f,g,m,y,x,b,S){var M,T;(function(M,C,T,D,k,R,N){for(var E=[],B=[],G=[],H=[],Y=0,j=0;j<C.length;j++)E[j]=1;for(j=0;j<M.length;j++)B[j]=M[j].inEdges.length,0===B[j]&&G.push(M[j]);for(var Z=-1;G.length;){for(var q=0;q<G.length;q++){var J=G[q],te=J.hostGraph.data.getRawDataItem(J.dataIndex),ne=null!=te.depth&&te.depth>=0;ne&&te.depth>Z&&(Z=te.depth),J.setLayout({depth:ne?te.depth:Y},!0),J.setLayout("vertical"===R?{dy:T}:{dx:T},!0);for(var le=0;le<J.outEdges.length;le++){var ye=J.outEdges[le];E[C.indexOf(ye)]=0;var ie=ye.node2;0==--B[M.indexOf(ie)]&&H.indexOf(ie)<0&&H.push(ie)}}++Y,G=H,H=[]}for(j=0;j<E.length;j++)if(1===E[j])throw new Error("Sankey is a DAG, the original data has cycle!");var be,ge,he=Z>Y-1?Z:Y-1;N&&"left"!==N&&function(xe,be,ge,we){if("right"===be){for(var me=[],Ce=xe,Pe=0;Ce.length;){for(var Ye=0;Ye<Ce.length;Ye++){var Ke=Ce[Ye];Ke.setLayout({skNodeHeight:Pe},!0);for(var At=0;At<Ke.inEdges.length;At++){var nt=Ke.inEdges[At];me.indexOf(nt.node1)<0&&me.push(nt.node1)}}Ce=me,me=[],++Pe}V(xe,function(lt){RI(lt)||lt.setLayout({depth:Math.max(0,we-lt.getLayout().skNodeHeight)},!0)})}else"justify"===be&&(Rt=we,V(xe,function(Vt){RI(Vt)||Vt.outEdges.length||Vt.setLayout({depth:Rt},!0)}));var Rt}(M,N,0,he),be="vertical"===R?(k-T)/he:(D-T)/he,ge=R,V(M,function(we){var me=we.getLayout().depth*be;we.setLayout("vertical"===ge?{y:me}:{x:me},!0)})})(c,p,f,m,y,b,S),function(M,C,T,D,k,R,N){var Y,j,Z,E=(Y=[],j="vertical"===N?"y":"x",(Z=Wf(M,function(q){return q.getLayout()[j]})).keys.sort(function(q,J){return q-J}),V(Z.keys,function(q){Y.push(Z.buckets.get(q))}),Y);(function(G,H,Y,j,Z,q){var J=1/0;V(G,function(te){var ne=te.length,le=0;V(te,function(ie){le+=ie.getLayout().value});var ye="vertical"===q?(j-(ne-1)*Z)/le:(Y-(ne-1)*Z)/le;ye<J&&(J=ye)}),V(G,function(te){V(te,function(ne,le){var ye=ne.getLayout().value*J;"vertical"===q?(ne.setLayout({x:le},!0),ne.setLayout({dx:ye},!0)):(ne.setLayout({y:le},!0),ne.setLayout({dy:ye},!0))})}),V(H,function(te){var ne=+te.getValue()*J;te.setLayout({dy:ne},!0)})})(E,C,T,D,k,N),Ny(E,k,T,D,N);for(var B=1;R>0;R--)tN(E,B*=.99,N),Ny(E,k,T,D,N),aN(E,B,N),Ny(E,k,T,D,N)}(c,p,y,m,g,x,b),T="vertical"===b?"x":"y",V(M=c,function(D){D.outEdges.sort(function(k,R){return k.node2.getLayout()[T]-R.node2.getLayout()[T]}),D.inEdges.sort(function(k,R){return k.node1.getLayout()[T]-R.node1.getLayout()[T]})}),V(M,function(D){var k=0,R=0;V(D.outEdges,function(N){N.setLayout({sy:k},!0),k+=N.getLayout().dy}),V(D.inEdges,function(N){N.setLayout({ty:R},!0),R+=N.getLayout().dy})})}(u,h,i,r,a,s,0!==dt(u,function(c){return 0===c.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function RI(n){var t=n.hostGraph.data.getRawDataItem(n.dataIndex);return null!=t.depth&&t.depth>=0}function Ny(n,t,e,i,r){var o="vertical"===r?"x":"y";V(n,function(a){var s,l,u;a.sort(function(g,m){return g.getLayout()[o]-m.getLayout()[o]});for(var h=0,c=a.length,p="vertical"===r?"dx":"dy",f=0;f<c;f++)(u=h-(l=a[f]).getLayout()[o])>0&&(s=l.getLayout()[o]+u,l.setLayout("vertical"===r?{x:s}:{y:s},!0)),h=l.getLayout()[o]+l.getLayout()[p]+t;if((u=h-t-("vertical"===r?i:e))>0)for(s=l.getLayout()[o]-u,l.setLayout("vertical"===r?{x:s}:{y:s},!0),h=s,f=c-2;f>=0;--f)(u=(l=a[f]).getLayout()[o]+l.getLayout()[p]+t-h)>0&&(s=l.getLayout()[o]-u,l.setLayout("vertical"===r?{x:s}:{y:s},!0)),h=l.getLayout()[o]})}function tN(n,t,e){V(n.slice().reverse(),function(i){V(i,function(r){if(r.outEdges.length){var o=Ca(r.outEdges,nN,e)/Ca(r.outEdges,Wp);if(isNaN(o)){var a=r.outEdges.length;o=a?Ca(r.outEdges,iN,e)/a:0}if("vertical"===e){var s=r.getLayout().x+(o-Ia(r,e))*t;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(o-Ia(r,e))*t;r.setLayout({y:l},!0)}}})})}function nN(n,t){return Ia(n.node2,t)*n.getValue()}function iN(n,t){return Ia(n.node2,t)}function rN(n,t){return Ia(n.node1,t)*n.getValue()}function oN(n,t){return Ia(n.node1,t)}function Ia(n,t){return"vertical"===t?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function Wp(n){return n.getValue()}function Ca(n,t,e){for(var i=0,r=n.length,o=-1;++o<r;){var a=+t(n[o],e);isNaN(a)||(i+=a)}return i}function aN(n,t,e){V(n,function(i){V(i,function(r){if(r.inEdges.length){var o=Ca(r.inEdges,rN,e)/Ca(r.inEdges,Wp);if(isNaN(o)){var a=r.inEdges.length;o=a?Ca(r.inEdges,oN,e)/a:0}if("vertical"===e){var s=r.getLayout().x+(o-Ia(r,e))*t;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(o-Ia(r,e))*t;r.setLayout({y:l},!0)}}})})}function sN(n){n.eachSeriesByType("sankey",function(t){var e=t.getGraph().nodes;if(e.length){var i=1/0,r=-1/0;V(e,function(o){var a=o.getLayout().value;a<i&&(i=a),a>r&&(r=a)}),V(e,function(o){var a=new Fn({type:"color",mappingMethod:"linear",dataExtent:[i,r],visual:t.get("color")}).mapValueToVisual(o.getLayout().value),s=o.getModel().get(["itemStyle","color"]);null!=s?(o.setVisual("color",s),o.setVisual("style",{fill:s})):(o.setVisual("color",a),o.setVisual("style",{fill:a}))})}})}var NI=function(){function n(){}return n.prototype.getInitialData=function(t,e){var i,r,o=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),s=o.get("type"),l=a.get("type");"category"===s?(t.layout="horizontal",i=o.getOrdinalMeta(),r=!0):"category"===l?(t.layout="vertical",i=a.getOrdinalMeta(),r=!0):t.layout=t.layout||"horizontal";var u=["x","y"],h="horizontal"===t.layout?0:1,c=this._baseAxisDim=u[h],p=u[1-h],f=[o,a],g=f[h].get("type"),m=f[1-h].get("type"),y=t.data;if(y&&r){var x=[];V(y,function(M,C){var T;ce(M)?(T=M.slice(),M.unshift(C)):ce(M.value)?((T=ae({},M)).value=T.value.slice(),M.value.unshift(C)):T=M,x.push(T)}),t.data=x}var b=this.defaultValueDimensions,S=[{name:c,type:Kd(g),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:p,type:Kd(m),dimsDef:b.slice()}];return $l(this,{coordDimensions:S,dimensionsCount:b.length+1,encodeDefaulter:We(f_,S,this)})},n.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},n}(),EI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return Q(t,n),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Bt);Nt(EI,NI,!0);var lN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this.group,s=this._data;this._data||a.removeAll();var l="horizontal"===e.get("layout")?1:0;o.diff(s).add(function(u){if(o.hasValue(u)){var h=zI(o.getItemLayout(u),o,u,l,!0);o.setItemGraphicEl(u,h),a.add(h)}}).update(function(u,h){var c=s.getItemGraphicEl(h);if(o.hasValue(u)){var p=o.getItemLayout(u);c?(Dr(c),BI(p,c,o,u)):c=zI(p,o,u,l),a.add(c),o.setItemGraphicEl(u,c)}else a.remove(c)}).remove(function(u){var h=s.getItemGraphicEl(u);h&&a.remove(h)}).execute(),this._data=o},t.prototype.remove=function(e){var i=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(o){o&&i.remove(o)})},t.type="boxplot",t}(Ot),uN=function(){},hN=function(n){function t(e){var i=n.call(this,e)||this;return i.type="boxplotBoxPath",i}return Q(t,n),t.prototype.getDefaultShape=function(){return new uN},t.prototype.buildPath=function(e,i){var r=i.points,o=0;for(e.moveTo(r[o][0],r[o][1]),o++;o<4;o++)e.lineTo(r[o][0],r[o][1]);for(e.closePath();o<r.length;o++)e.moveTo(r[o][0],r[o][1]),o++,e.lineTo(r[o][0],r[o][1])},t}(at);function zI(n,t,e,i,r){var o=n.ends,a=new hN({shape:{points:r?cN(o,i,n):o}});return BI(n,a,t,e,r),a}function BI(n,t,e,i,r){(0,hh[r?"initProps":"updateProps"])(t,{shape:{points:n.ends}},e.hostModel,i),t.useStyle(e.getItemVisual(i,"style")),t.style.strokeNoScale=!0,t.z2=100;var a=e.getItemModel(i),s=a.getModel("emphasis");qn(t,a),un(t,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function cN(n,t,e){return oe(n,function(i){return(i=i.slice())[t]=e.initBaseline,i})}function dN(n,t){}var dc=V;function pN(n){var i,r,t=(i=[],r=[],n.eachSeriesByType("boxplot",function(o){var a=o.getBaseAxis(),s=je(r,a);s<0&&(r[s=r.length]=a,i[s]={axis:a,seriesModels:[]}),i[s].seriesModels.push(o)}),i);dc(t,function(e){var i=e.seriesModels;i.length&&(function(r){var o,a=r.axis,s=r.seriesModels,l=s.length,u=r.boxWidthList=[],h=r.boxOffsetList=[],c=[];if("category"===a.type)o=a.getBandWidth();else{var p=0;dc(s,function(b){p=Math.max(p,b.getData().count())});var f=a.getExtent();o=Math.abs(f[1]-f[0])/p}dc(s,function(b){var S=b.get("boxWidth");ce(S)||(S=[S,S]),c.push([Te(S[0],o)||0,Te(S[1],o)||0])});var g=.8*o-2,m=g/l*.3,y=(g-m*(l-1))/l,x=y/2-g/2;dc(s,function(b,S){h.push(x),x+=m+y,u.push(Math.min(Math.max(y,c[S][0]),c[S][1]))})}(e),dc(i,function(r,o){!function(a,s,l){var u=a.coordinateSystem,h=a.getData(),c=l/2,p="horizontal"===a.get("layout")?0:1,f=1-p,g=["x","y"],m=h.mapDimension(g[p]),y=h.mapDimensionsAll(g[f]);if(!(null==m||y.length<5))for(var x=0;x<h.count();x++){var b=h.get(m,x),S=R(b,y[2],x),M=R(b,y[0],x),C=R(b,y[1],x),T=R(b,y[3],x),D=R(b,y[4],x),k=[];N(k,C,!1),N(k,T,!0),k.push(M,C,D,T),E(k,M),E(k,D),E(k,S),h.setItemLayout(x,{initBaseline:S[f],ends:k})}function R(B,G,H){var Y,j=h.get(G,H),Z=[];return Z[p]=B,Z[f]=j,isNaN(B)||isNaN(j)?Y=[NaN,NaN]:(Y=u.dataToPoint(Z))[p]+=s,Y}function N(B,G,H){var Y=G.slice(),j=G.slice();Y[p]+=c,j[p]-=c,H?B.push(Y,j):B.push(j,Y)}function E(B,G){var H=G.slice(),Y=G.slice();H[p]-=c,Y[p]+=c,B.push(H,Y)}}(r,e.boxOffsetList[o],e.boxWidthList[o])}))})}var fN={type:"echarts:boxplot",transform:function(n){var t=n.upstream;t.sourceFormat!==Do&&Dt("");var i=function(r,o){for(var a=[],s=[],l=(o=o||{}).boundIQR,u="none"===l||0===l,h=0;h<r.length;h++){var c=Ei(r[h].slice()),p=Yc(c,.25),f=Yc(c,.5),g=Yc(c,.75),m=c[0],y=c[c.length-1],x=(l??1.5)*(g-p),b=u?m:Math.max(m,p-x),S=u?y:Math.min(y,g+x),M=o.itemNameFormatter,C=ze(M)?M({value:h}):De(M)?M.replace("{value}",h+""):h+"";a.push([C,b,p,f,g,S]);for(var T=0;T<c.length;T++){var D=c[T];(D<b||D>S)&&s.push([C,D])}}return{boxData:a,outliers:s}}(t.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}},gN=["color","borderColor"],mN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,i,r){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,i,r,o){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,i):this._incrementalRenderNormal(e,i)},t.prototype.eachRendered=function(e){ca(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var i=e.pipelineContext.large;null!=this._isLargeDraw&&i===this._isLargeDraw||(this._isLargeDraw=i,this._clear())},t.prototype._renderNormal=function(e){var i=e.getData(),r=this._data,o=this.group,a=i.getLayout("isSimpleBox"),s=e.get("clip",!0),l=e.coordinateSystem,u=l.getArea&&l.getArea();this._data||o.removeAll(),i.diff(r).add(function(h){if(i.hasValue(h)){var c=i.getItemLayout(h);if(s&&VI(u,c))return;var p=Ey(c,0,!0);Kt(p,{shape:{points:c.ends}},e,h),zy(p,i,h,a),o.add(p),i.setItemGraphicEl(h,p)}}).update(function(h,c){var p=r.getItemGraphicEl(c);if(i.hasValue(h)){var f=i.getItemLayout(h);s&&VI(u,f)?o.remove(p):(p?(vt(p,{shape:{points:f.ends}},e,h),Dr(p)):p=Ey(f),zy(p,i,h,a),o.add(p),i.setItemGraphicEl(h,p))}else o.remove(p)}).remove(function(h){var c=r.getItemGraphicEl(h);c&&o.remove(c)}).execute(),this._data=i},t.prototype._renderLarge=function(e){this._clear(),WI(e,this.group);var i=e.get("clip",!0)?vp(e.coordinateSystem,!1,e):null;i?this.group.setClipPath(i):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,i){for(var r,o=i.getData(),a=o.getLayout("isSimpleBox");null!=(r=e.next());){var s=Ey(o.getItemLayout(r));zy(s,o,r,a),s.incremental=!0,this.group.add(s),this._progressiveEls.push(s)}},t.prototype._incrementalRenderLarge=function(e,i){WI(i,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(Ot),vN=function(){},yN=function(n){function t(e){var i=n.call(this,e)||this;return i.type="normalCandlestickBox",i}return Q(t,n),t.prototype.getDefaultShape=function(){return new vN},t.prototype.buildPath=function(e,i){var r=i.points;this.__simpleBox?(e.moveTo(r[4][0],r[4][1]),e.lineTo(r[6][0],r[6][1])):(e.moveTo(r[0][0],r[0][1]),e.lineTo(r[1][0],r[1][1]),e.lineTo(r[2][0],r[2][1]),e.lineTo(r[3][0],r[3][1]),e.closePath(),e.moveTo(r[4][0],r[4][1]),e.lineTo(r[5][0],r[5][1]),e.moveTo(r[6][0],r[6][1]),e.lineTo(r[7][0],r[7][1]))},t}(at);function Ey(n,t,e){var i=n.ends;return new yN({shape:{points:e?xN(i,n):i},z2:100})}function VI(n,t){for(var e=!0,i=0;i<t.ends.length;i++)if(n.contain(t.ends[i][0],t.ends[i][1])){e=!1;break}return e}function zy(n,t,e,i){var r=t.getItemModel(e);n.useStyle(t.getItemVisual(e,"style")),n.style.strokeNoScale=!0,n.__simpleBox=i,qn(n,r)}function xN(n,t){return oe(n,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var _N=function(){},FI=function(n){function t(e){var i=n.call(this,e)||this;return i.type="largeCandlestickBox",i}return Q(t,n),t.prototype.getDefaultShape=function(){return new _N},t.prototype.buildPath=function(e,i){for(var r=i.points,o=0;o<r.length;)if(this.__sign===r[o++]){var a=r[o++];e.moveTo(a,r[o++]),e.lineTo(a,r[o++])}else o+=3},t}(at);function WI(n,t,e,i){var r=n.getData().getLayout("largePoints"),o=new FI({shape:{points:r},__sign:1});t.add(o);var a=new FI({shape:{points:r},__sign:-1});t.add(a),GI(1,o,n),GI(-1,a,n),i&&(o.incremental=!0,a.incremental=!0),e&&e.push(o,a)}function GI(n,t,e,i){var r=e.get(["itemStyle",n>0?"borderColor":"borderColor0"])||e.get(["itemStyle",n>0?"color":"color0"]),o=e.getModel("itemStyle").getItemStyle(gN);t.useStyle(o),t.style.fill=null,t.style.stroke=r}var HI=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return Q(t,n),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,i,r){var o=i.getItemLayout(e);return o&&r.rect(o.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Bt);function bN(n){n&&ce(n.series)&&V(n.series,function(t){Oe(t)&&"k"===t.type&&(t.type="candlestick")})}Nt(HI,NI,!0);var wN=["itemStyle","borderColor"],SN=["itemStyle","borderColor0"],MN=["itemStyle","color"],IN=["itemStyle","color0"],CN={seriesType:"candlestick",plan:El(),performRawSeries:!0,reset:function(n,t){function e(r,o){return o.get(r>0?MN:IN)}function i(r,o){return o.get(r>0?wN:SN)}if(!t.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(r,o){for(var a;null!=(a=r.next());){var s=o.getItemModel(a),l=o.getItemLayout(a).sign,u=s.getItemStyle();u.fill=e(l,s),u.stroke=i(l,s)||u.fill,ae(o.ensureUniqueItemVisual(a,"style"),u)}}}}},TN={seriesType:"candlestick",plan:El(),reset:function(n){var c,p,f,g,m,y,x,b,t=n.coordinateSystem,e=n.getData(),i=(p=e,m="category"===(g=(c=n).getBaseAxis()).type?g.getBandWidth():(f=g.getExtent(),Math.abs(f[1]-f[0])/p.count()),y=Te(pe(c.get("barMaxWidth"),m),m),x=Te(pe(c.get("barMinWidth"),1),m),null!=(b=c.get("barWidth"))?Te(b,m):Math.max(Math.min(m/2,y),x)),r=["x","y"],o=e.getDimensionIndex(e.mapDimension(r[0])),a=oe(e.mapDimensionsAll(r[1]),e.getDimensionIndex,e),s=a[0],l=a[1],u=a[2],h=a[3];if(e.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(o<0||a.length<4))return{progress:n.pipelineContext.large?function(c,p){for(var f,g,m=no(4*c.count),y=0,x=[],b=[],S=p.getStore();null!=(g=c.next());){var M=S.get(o,g),C=S.get(s,g),T=S.get(l,g),D=S.get(u,g),k=S.get(h,g);isNaN(M)||isNaN(D)||isNaN(k)?(m[y++]=NaN,y+=3):(m[y++]=UI(S,g,C,T,l),x[0]=M,x[1]=D,f=t.dataToPoint(x,null,b),m[y++]=f?f[0]:NaN,m[y++]=f?f[1]:NaN,x[1]=k,f=t.dataToPoint(x,null,b),m[y++]=f?f[1]:NaN)}p.setLayout("largePoints",m)}:function(c,p){for(var f,g=p.getStore();null!=(f=c.next());){var m=g.get(o,f),y=g.get(s,f),x=g.get(l,f),b=g.get(u,f),S=g.get(h,f),M=Math.min(y,x),C=Math.max(y,x),T=E(M,m),D=E(C,m),k=E(b,m),R=E(S,m),N=[];B(N,D,0),B(N,T,1),N.push(H(R),H(D),H(k),H(T)),p.setItemLayout(f,{sign:UI(g,f,y,x,l),initBaseline:y>x?D[1]:T[1],ends:N,brushRect:(Y=b,j=S,Z=m,q=void 0,J=void 0,q=E(Y,Z),J=E(j,Z),q[0]-=i/2,J[0]-=i/2,{x:q[0],y:q[1],width:i,height:J[1]-q[1]})})}var Y,j,Z,q,J;function E(Y,j){var Z=[];return Z[0]=j,Z[1]=Y,isNaN(j)||isNaN(Y)?[NaN,NaN]:t.dataToPoint(Z)}function B(Y,j,Z){var q=j.slice(),J=j.slice();q[0]=fd(q[0]+i/2,1,!1),J[0]=fd(J[0]-i/2,1,!0),Z?Y.push(q,J):Y.push(J,q)}function H(Y){return Y[0]=fd(Y[0],1),Y}}}}};function UI(n,t,e,i,r){return e>i?-1:e<i?1:t>0?n.get(r,t-1)<=i?1:-1:1}function YI(n,t){var e=t.rippleEffectColor||t.color;n.eachChild(function(i){i.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?e:null,fill:"fill"===t.brushType?e:null}})})}var DN=function(n){function t(e,i){var r=n.call(this)||this,o=new Uh(e,i),a=new He;return r.add(o),r.add(a),r.updateData(e,i),r}return Q(t,n),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var i=e.symbolType,r=e.color,o=e.rippleNumber,a=this.childAt(1),s=0;s<o;s++){var l=pn(i,-1,-1,2,2,r);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/o*e.period+e.effectOffset;l.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(e.period,{opacity:0}).delay(u).start(),a.add(l)}YI(a,e)},t.prototype.updateEffectAnimation=function(e){for(var i=this._effectCfg,r=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],a=0;a<o.length;a++){var s=o[a];if(i[s]!==e[s])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}YI(r,e)},t.prototype.highlight=function(){Co(this)},t.prototype.downplay=function(){To(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,i){var r=this,o=e.hostModel;this.childAt(0).updateData(e,i);var a=this.childAt(1),s=e.getItemModel(i),l=e.getItemVisual(i,"symbol"),u=Ch(e.getItemVisual(i,"symbolSize")),h=e.getItemVisual(i,"style"),c=h&&h.fill,p=s.getModel("emphasis");a.setScale(u),a.traverse(function(y){y.setStyle("fill",c)});var f=Fl(e.getItemVisual(i,"symbolOffset"),u);f&&(a.x=f[0],a.y=f[1]);var g=e.getItemVisual(i,"symbolRotate");a.rotation=(g||0)*Math.PI/180||0;var m={};m.showEffectOn=o.get("showEffectOn"),m.rippleScale=s.get(["rippleEffect","scale"]),m.brushType=s.get(["rippleEffect","brushType"]),m.period=1e3*s.get(["rippleEffect","period"]),m.effectOffset=i/e.count(),m.z=o.getShallow("z")||0,m.zlevel=o.getShallow("zlevel")||0,m.symbolType=l,m.color=c,m.rippleEffectColor=s.get(["rippleEffect","color"]),m.rippleNumber=s.get(["rippleEffect","number"]),"render"===m.showEffectOn?(this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(y){"emphasis"===y?"render"!==m.showEffectOn&&r.startEffectAnimation(m):"normal"===y&&"render"!==m.showEffectOn&&r.stopEffectAnimation()}),this._effectCfg=m,un(this,p.get("focus"),p.get("blurScope"),p.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(He),AN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.init=function(){this._symbolDraw=new Yh(DN)},t.prototype.render=function(e,i,r){var o=e.getData(),a=this._symbolDraw;a.updateData(o,{clipShape:this._getClipShape(e)}),this.group.add(a.group)},t.prototype._getClipShape=function(e){var i=e.coordinateSystem,r=i&&i.getArea&&i.getArea();return e.get("clip",!0)?r:null},t.prototype.updateTransform=function(e,i,r){var o=e.getData();this.group.dirty();var a=Xh("").reset(e,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var i=e.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=d(i.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,i){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(Ot),kN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return Q(t,n),t.prototype.getInitialData=function(e,i){return eo(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,i,r){return r.point(i.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Bt),XI=function(n){function t(e,i,r){var o=n.call(this)||this;return o.add(o.createLine(e,i,r)),o._updateEffectSymbol(e,i),o}return Q(t,n),t.prototype.createLine=function(e,i,r){return new hy(e,i,r)},t.prototype._updateEffectSymbol=function(e,i){var r=e.getItemModel(i).getModel("effect"),o=r.get("symbolSize"),a=r.get("symbol");ce(o)||(o=[o,o]);var s=e.getItemVisual(i,"style"),l=r.get("color")||s&&s.stroke,u=this.childAt(1);this._symbolType!==a&&(this.remove(u),(u=pn(a,-.5,-.5,1,1,l)).z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",l),u.setStyle(r.getItemStyle(["color"])),u.scaleX=o[0],u.scaleY=o[1],u.setColor(l),this._symbolType=a,this._symbolScale=o,this._updateEffectAnimation(e,r,i))},t.prototype._updateEffectAnimation=function(e,i,r){var o=this.childAt(1);if(o){var a=e.getItemLayout(r),s=1e3*i.get("period"),l=i.get("loop"),u=i.get("constantSpeed"),h=_e(i.get("delay"),function(p){return p/e.count()*s/3});if(o.ignore=!0,this._updateAnimationPoints(o,a),u>0&&(s=this._getLineLength(o)/u*1e3),s!==this._period||l!==this._loop){o.stopAnimation();var c=void 0;c=ze(h)?h(r):h,o.__t>0&&(c=-s*o.__t),this._animateSymbol(o,s,c,l)}this._period=s,this._loop=l}},t.prototype._animateSymbol=function(e,i,r,o){if(i>0){e.__t=0;var a=this,s=e.animate("",o).when(i,{__t:1}).delay(r).during(function(){a._updateSymbolPosition(e)});o||s.done(function(){a.remove(e)}),s.start()}},t.prototype._getLineLength=function(e){return Pn(e.__p1,e.__cp1)+Pn(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,i){e.__p1=i[0],e.__p2=i[1],e.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},t.prototype.updateData=function(e,i,r){this.childAt(0).updateData(e,i,r),this._updateEffectSymbol(e,i)},t.prototype._updateSymbolPosition=function(e){var i=e.__p1,r=e.__p2,o=e.__cp1,a=e.__t,s=[e.x,e.y],l=s.slice(),u=Dn,h=tl;s[0]=u(i[0],o[0],r[0],a),s[1]=u(i[1],o[1],r[1],a);var c=h(i[0],o[0],r[0],a),p=h(i[1],o[1],r[1],a);e.rotation=-Math.atan2(p,c)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*Pn(l,s),1===a&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):e.scaleY=1===e.__lastT?2*Pn(i,s):this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=s[0],e.y=s[1]},t.prototype.updateLayout=function(e,i){this.childAt(0).updateLayout(e,i);var r=e.getItemModel(i).getModel("effect");this._updateEffectAnimation(e,r,i)},t}(He),jI=function(n){function t(e,i,r){var o=n.call(this)||this;return o._createPolyline(e,i,r),o}return Q(t,n),t.prototype._createPolyline=function(e,i,r){var o=e.getItemLayout(i),a=new ii({shape:{points:o}});this.add(a),this._updateCommonStl(e,i,r)},t.prototype.updateData=function(e,i,r){var o=e.hostModel;vt(this.childAt(0),{shape:{points:e.getItemLayout(i)}},o,i),this._updateCommonStl(e,i,r)},t.prototype._updateCommonStl=function(e,i,r){var o=this.childAt(0),a=e.getItemModel(i),s=r&&r.emphasisLineStyle,l=r&&r.focus,u=r&&r.blurScope,h=r&&r.emphasisDisabled;if(!r||e.hasItemOption){var c=a.getModel("emphasis");s=c.getModel("lineStyle").getLineStyle(),h=c.get("disabled"),l=c.get("focus"),u=c.get("blurScope")}o.useStyle(e.getItemVisual(i,"style")),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,un(this,l,u,h)},t.prototype.updateLayout=function(e,i){this.childAt(0).setShape("points",e.getItemLayout(i))},t}(He),LN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return Q(t,n),t.prototype.createLine=function(e,i,r){return new jI(e,i,r)},t.prototype._updateAnimationPoints=function(e,i){this._points=i;for(var r=[0],o=0,a=1;a<i.length;a++)o+=Pn(i[a-1],i[a]),r.push(o);if(0!==o){for(a=0;a<r.length;a++)r[a]/=o;this._offsets=r,this._length=o}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var i=e.__t,r=this._points,o=this._offsets,a=r.length;if(o){var s,l=this._lastFrame;if(i<this._lastFramePercent){for(s=Math.min(l+1,a-1);s>=0&&!(o[s]<=i);s--);s=Math.min(s,a-2)}else{for(s=l;s<a&&!(o[s]>i);s++);s=Math.min(s-1,a-2)}var u=(i-o[s])/(o[s+1]-o[s]),h=r[s],c=r[s+1];e.x=h[0]*(1-u)+u*c[0],e.y=h[1]*(1-u)+u*c[1],e.rotation=-Math.atan2(c[1]-h[1],c[0]-h[0])-Math.PI/2,this._lastFrame=s,this._lastFramePercent=i,e.ignore=!1}},t}(XI),PN=function(){this.polyline=!1,this.curveness=0,this.segs=[]},ON=function(n){function t(e){var i=n.call(this,e)||this;return i._off=0,i.hoverDataIdx=-1,i}return Q(t,n),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new PN},t.prototype.buildPath=function(e,i){var r,o=i.segs,a=i.curveness;if(i.polyline)for(r=this._off;r<o.length;){var s=o[r++];if(s>0){e.moveTo(o[r++],o[r++]);for(var l=1;l<s;l++)e.lineTo(o[r++],o[r++])}}else for(r=this._off;r<o.length;){var u=o[r++],h=o[r++],c=o[r++],p=o[r++];e.moveTo(u,h),a>0?e.quadraticCurveTo((u+c)/2-(h-p)*a,(h+p)/2-(c-u)*a,c,p):e.lineTo(c,p)}this.incremental&&(this._off=r,this.notClear=!0)},t.prototype.findDataIndex=function(e,i){var r=this.shape,o=r.segs,a=r.curveness,s=this.style.lineWidth;if(r.polyline)for(var l=0,u=0;u<o.length;){var h=o[u++];if(h>0)for(var c=o[u++],p=o[u++],f=1;f<h;f++)if(oa(c,p,g=o[u++],m=o[u++],s,e,i))return l;l++}else for(l=0,u=0;u<o.length;){c=o[u++],p=o[u++];var g=o[u++],m=o[u++];if(a>0){if(A1(c,p,(c+g)/2-(p-m)*a,(p+m)/2-(g-c)*a,g,m,s,e,i))return l}else if(oa(c,p,g,m,s,e,i))return l;l++}return-1},t.prototype.contain=function(e,i){var r=this.transformCoordToLocal(e,i);return this.getBoundingRect().contain(e=r[0],i=r[1])?(this.hoverDataIdx=this.findDataIndex(e,i))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var i=this.shape.segs,r=1/0,o=1/0,a=-1/0,s=-1/0,l=0;l<i.length;){var u=i[l++],h=i[l++];r=Math.min(u,r),a=Math.max(u,a),o=Math.min(h,o),s=Math.max(h,s)}e=this._rect=new ue(r,o,a,s)}return e},t}(at),RN=function(){function n(){this.group=new He}return n.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},n.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(t,e){var i=this._newAdded[0],r=e.getLayout("linesPoints"),o=i&&i.shape.segs;if(o&&o.length<2e4){var a=o.length,s=new Float32Array(a+r.length);s.set(o),s.set(r,a),i.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:r}),this._setCommon(l,e),l.__startIndex=t.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},n.prototype._create=function(){var t=new ON({cursor:"default"});return this._newAdded.push(t),this.group.add(t),t},n.prototype._setCommon=function(t,e,i){var r=e.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual("style");o&&o.stroke&&t.setStyle("stroke",o.stroke),t.setStyle("fill",null);var a=Ze(t);a.seriesIndex=r.seriesIndex,t.on("mousemove",function(s){a.dataIndex=null;var l=t.hoverDataIdx;l>0&&(a.dataIndex=l+t.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),ZI={seriesType:"lines",plan:El(),reset:function(n){var t=n.coordinateSystem;if(t){var e=n.get("polyline"),i=n.pipelineContext.large;return{progress:function(r,o){var a=[];if(i){var s=void 0,l=r.end-r.start;if(e){for(var u=0,h=r.start;h<r.end;h++)u+=n.getLineCoordsCount(h);s=new Float32Array(l+2*u)}else s=new Float32Array(4*l);var c=0,p=[];for(h=r.start;h<r.end;h++){var f=n.getLineCoords(h,a);e&&(s[c++]=f);for(var g=0;g<f;g++)p=t.dataToPoint(a[g],!1,p),s[c++]=p[0],s[c++]=p[1]}o.setLayout("linesPoints",s)}else for(h=r.start;h<r.end;h++){var m=o.getItemModel(h),y=(f=n.getLineCoords(h,a),[]);if(e)for(var x=0;x<f;x++)y.push(t.dataToPoint(a[x]));else{y[0]=t.dataToPoint(a[0]),y[1]=t.dataToPoint(a[1]);var b=m.get(["lineStyle","curveness"]);+b&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*b,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*b])}o.setItemLayout(h,y)}}}}}},NN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this._updateLineDraw(o,e),s=e.get("zlevel"),l=e.get(["effect","trailLength"]),u=r.getZr(),h="svg"===u.painter.getType();h||u.painter.getLayer(s).clear(!0),null==this._lastZlevel||h||u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&l>0&&(h||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),a.updateData(o);var c=e.get("clip",!0)&&vp(e.coordinateSystem,!1,e);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,i,r){var o=e.getData();this._updateLineDraw(o,e).incrementalPrepareUpdate(o),this._clearLayer(r),this._finished=!1},t.prototype.incrementalRender=function(e,i,r){this._lineDraw.incrementalUpdate(e,i.getData()),this._finished=e.end===i.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,i,r){var o=e.getData(),a=e.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var s=ZI.reset(e,i,r);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(r)},t.prototype._updateLineDraw=function(e,i){var r=this._lineDraw,o=this._showEffect(i),a=!!i.get("polyline"),s=i.pipelineContext.large;return r&&o===this._hasEffet&&a===this._isPolyline&&s===this._isLargeDraw||(r&&r.remove(),r=this._lineDraw=s?new RN:new cy(a?o?LN:jI:o?XI:hy),this._hasEffet=o,this._isPolyline=a,this._isLargeDraw=s),this.group.add(r.group),r},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var i=e.getZr();"svg"===i.painter.getType()||null==this._lastZlevel||i.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},t.prototype.dispose=function(e,i){this.remove(e,i)},t.type="lines",t}(Ot),EN=typeof Uint32Array>"u"?Array:Uint32Array,zN=typeof Float64Array>"u"?Array:Float64Array;function qI(n){var t=n.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(n.data=oe(t,function(e){var i={coords:[e[0].coord,e[1].coord]};return e[0].name&&(i.fromName=e[0].name),e[1].name&&(i.toName=e[1].name),Ut([i,e[0],e[1]])}))}var BN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return Q(t,n),t.prototype.init=function(e){e.data=e.data||[],qI(e);var i=this._processFlatCoordsArray(e.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(e.data=new Float32Array(i.count)),n.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(qI(e),e.data){var i=this._processFlatCoordsArray(e.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(e.data=new Float32Array(i.count))}n.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var i=this._processFlatCoordsArray(e.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=fr(this._flatCoords,i.flatCoords),this._flatCoordsOffset=fr(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),e.data=new Float32Array(i.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var i=this.getData().getItemModel(e);return i.option instanceof Array?i.option:i.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,i){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[2*e],o=this._flatCoordsOffset[2*e+1],a=0;a<o;a++)i[a]=i[a]||[],i[a][0]=this._flatCoords[r+2*a],i[a][1]=this._flatCoords[r+2*a+1];return o}var s=this._getCoordsFromItemModel(e);for(a=0;a<s.length;a++)i[a]=i[a]||[],i[a][0]=s[a][0],i[a][1]=s[a][1];return s.length},t.prototype._processFlatCoordsArray=function(e){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),ot(e[0])){for(var r=e.length,o=new EN(r),a=new zN(r),s=0,l=0,u=0,h=0;h<r;){u++;var c=e[h++];o[l++]=s+i,o[l++]=c;for(var p=0;p<c;p++){var f=e[h++],g=e[h++];a[s++]=f,a[s++]=g}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,l),flatCoords:a,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,i){var r=new ai(["value"],this);return r.hasItemOption=!1,r.initData(e.data,[],function(o,a,s,l){if(o instanceof Array)return NaN;r.hasItemOption=!0;var u=o.value;return null!=u?u instanceof Array?u[l]:u:void 0}),r},t.prototype.formatTooltip=function(e,i,r){var o=this.getData().getItemModel(e),a=o.get("name");if(a)return a;var s=o.get("fromName"),l=o.get("toName"),u=[];return null!=s&&u.push(s),null!=l&&u.push(l),Bn("nameValue",{name:u.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),i=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&i>0?i+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Bt);function Gp(n){return n instanceof Array||(n=[n,n]),n}var VN={seriesType:"lines",reset:function(n){var t=Gp(n.get("symbol")),e=Gp(n.get("symbolSize")),i=n.getData();return i.setVisual("fromSymbol",t&&t[0]),i.setVisual("toSymbol",t&&t[1]),i.setVisual("fromSymbolSize",e&&e[0]),i.setVisual("toSymbolSize",e&&e[1]),{dataEach:i.hasItemOption?function(r,o){var a=r.getItemModel(o),s=Gp(a.getShallow("symbol",!0)),l=Gp(a.getShallow("symbolSize",!0));s[0]&&r.setItemVisual(o,"fromSymbol",s[0]),s[1]&&r.setItemVisual(o,"toSymbol",s[1]),l[0]&&r.setItemVisual(o,"fromSymbolSize",l[0]),l[1]&&r.setItemVisual(o,"toSymbolSize",l[1])}:null}}},FN=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Je.createCanvas();this.canvas=t}return n.prototype.update=function(t,e,i,r,o,a){var s=this._getBrush(),l=this._getGradient(o,"inRange"),u=this._getGradient(o,"outOfRange"),h=this.pointSize+this.blurSize,c=this.canvas,p=c.getContext("2d"),f=t.length;c.width=e,c.height=i;for(var g=0;g<f;++g){var m=t[g],y=m[0],x=m[1],b=r(m[2]);p.globalAlpha=b,p.drawImage(s,y-h,x-h)}if(!c.width||!c.height)return c;for(var S=p.getImageData(0,0,c.width,c.height),M=S.data,C=0,T=M.length,D=this.minOpacity,k=this.maxOpacity-D;C<T;){b=M[C+3]/256;var R=4*Math.floor(255*b);if(b>0){var N=a(b)?l:u;b>0&&(b=b*k+D),M[C++]=N[R],M[C++]=N[R+1],M[C++]=N[R+2],M[C++]=N[R+3]*b*256}else C+=4}return p.putImageData(S,0,0),c},n.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Je.createCanvas()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var r=t.getContext("2d");return r.clearRect(0,0,i,i),r.shadowOffsetX=i,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},n.prototype._getGradient=function(t,e){for(var i=this._gradientPixels,r=i[e]||(i[e]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,s=0;s<256;s++)t[e](s/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r},n}();function KI(n){var t=n.dimensions;return"lng"===t[0]&&"lat"===t[1]}var WN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r){var o;i.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===e&&(o=s)})}),this._progressiveEls=null,this.group.removeAll();var a=e.coordinateSystem;"cartesian2d"===a.type||"calendar"===a.type?this._renderOnCartesianAndCalendar(e,r,0,e.getData().count()):KI(a)&&this._renderOnGeo(a,e,o,r)},t.prototype.incrementalPrepareRender=function(e,i,r){this.group.removeAll()},t.prototype.incrementalRender=function(e,i,r,o){var a=i.coordinateSystem;a&&(KI(a)?this.render(i,r,o):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(i,o,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){ca(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,i,r,o,a){var s,l,u,h,c=e.coordinateSystem,p=Rs(c,"cartesian2d");if(p){var f=c.getAxis("x"),g=c.getAxis("y");s=f.getBandWidth()+.5,l=g.getBandWidth()+.5,u=f.scale.getExtent(),h=g.scale.getExtent()}for(var m=this.group,y=e.getData(),x=e.getModel(["emphasis","itemStyle"]).getItemStyle(),b=e.getModel(["blur","itemStyle"]).getItemStyle(),S=e.getModel(["select","itemStyle"]).getItemStyle(),M=e.get(["itemStyle","borderRadius"]),C=jn(e),T=e.getModel("emphasis"),D=T.get("focus"),k=T.get("blurScope"),R=T.get("disabled"),N=p?[y.mapDimension("x"),y.mapDimension("y"),y.mapDimension("value")]:[y.mapDimension("time"),y.mapDimension("value")],E=r;E<o;E++){var B=void 0,G=y.getItemVisual(E,"style");if(p){var H=y.get(N[0],E),Y=y.get(N[1],E);if(isNaN(y.get(N[2],E))||H<u[0]||H>u[1]||Y<h[0]||Y>h[1])continue;var j=c.dataToPoint([H,Y]);B=new ht({shape:{x:j[0]-s/2,y:j[1]-l/2,width:s,height:l},style:G})}else{if(isNaN(y.get(N[1],E)))continue;B=new ht({z2:1,shape:c.dataToRect([y.get(N[0],E)]).contentShape,style:G})}if(y.hasItemOption){var Z=y.getItemModel(E),q=Z.getModel("emphasis");x=q.getModel("itemStyle").getItemStyle(),b=Z.getModel(["blur","itemStyle"]).getItemStyle(),S=Z.getModel(["select","itemStyle"]).getItemStyle(),M=Z.get(["itemStyle","borderRadius"]),D=q.get("focus"),k=q.get("blurScope"),R=q.get("disabled"),C=jn(Z)}B.shape.r=M;var J=e.getRawValue(E),te="-";J&&null!=J[2]&&(te=J[2]+""),ri(B,C,{labelFetcher:e,labelDataIndex:E,defaultOpacity:G.opacity,defaultText:te}),B.ensureState("emphasis").style=x,B.ensureState("blur").style=b,B.ensureState("select").style=S,un(B,D,k,R),B.incremental=a,a&&(B.states.emphasis.hoverLayer=!0),m.add(B),y.setItemGraphicEl(E,B),this._progressiveEls&&this._progressiveEls.push(B)}},t.prototype._renderOnGeo=function(e,i,r,o){var a=r.targetVisuals.inRange,s=r.targetVisuals.outOfRange,l=i.getData(),u=this._hmLayer||this._hmLayer||new FN;u.blurSize=i.get("blurSize"),u.pointSize=i.get("pointSize"),u.minOpacity=i.get("minOpacity"),u.maxOpacity=i.get("maxOpacity");var h=e.getViewRect().clone(),c=e.getRoamTransform();h.applyTransform(c);var D,k,R,p=Math.max(h.x,0),f=Math.max(h.y,0),g=Math.min(h.width+h.x,o.getWidth()),m=Math.min(h.height+h.y,o.getHeight()),y=g-p,x=m-f,b=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],S=l.mapArray(b,function(D,k,R){var N=e.dataToPoint([D,k]);return N[0]-=p,N[1]-=f,N.push(R),N}),M=r.getExtent(),C="visualMap.continuous"===r.type?(k=[((k=r.option.range)[0]-(D=M)[0])/(R=D[1]-D[0]),(k[1]-D[0])/R],function(N){return N>=k[0]&&N<=k[1]}):function(D,k,R){var N=D[1]-D[0],E=(k=oe(k,function(G){return{interval:[(G.interval[0]-D[0])/N,(G.interval[1]-D[0])/N]}})).length,B=0;return function(G){var H;for(H=B;H<E;H++)if((Y=k[H].interval)[0]<=G&&G<=Y[1]){B=H;break}if(H===E)for(H=B-1;H>=0;H--){var Y;if((Y=k[H].interval)[0]<=G&&G<=Y[1]){B=H;break}}return H>=0&&H<E&&R[H]}}(M,r.getPieceList(),r.option.selected);u.update(S,y,x,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:s.color.getColorMapper()},C);var T=new zn({style:{width:y,height:x,x:p,y:f,image:u.canvas},silent:!0});this.group.add(T)},t.type="heatmap",t}(Ot),GN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.getInitialData=function(e,i){return eo(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=Ll.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Bt),HN=["itemStyle","borderWidth"],$I=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],By=new nr,UN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r){var o=this.group,a=e.getData(),s=this._data,l=e.coordinateSystem,u=l.getBaseAxis().isHorizontal(),h=l.master.getRect(),c={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:e,coordSys:l,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:u,valueDim:$I[+u],categoryDim:$I[1-+u]};return a.diff(s).add(function(p){if(a.hasValue(p)){var f=rC(a,p),g=JI(a,p,f,c),m=oC(a,c,g);a.setItemGraphicEl(p,m),o.add(m),lC(m,c,g)}}).update(function(p,f){var b,S,M,g=s.getItemGraphicEl(f);if(a.hasValue(p)){var m=rC(a,p),y=JI(a,p,m,c),x=sC(a,y);g&&x!==g.__pictorialShapeStr&&(o.remove(g),a.setItemGraphicEl(p,null),g=null),g?(S=c,vt((b=g).__pictorialBundle,{x:(M=y).bundlePosition[0],y:M.bundlePosition[1]},M.animationModel,M.dataIndex),M.symbolRepeat?eC(b,S,M,!0):tC(b,0,M,!0),nC(b,M,!0),iC(b,S,M,!0)):g=oC(a,c,y,!0),a.setItemGraphicEl(p,g),g.__pictorialSymbolMeta=y,o.add(g),lC(g,c,y)}else o.remove(g)}).remove(function(p){var f=s.getItemGraphicEl(p);f&&aC(s,p,f.__pictorialSymbolMeta.animationModel,f)}).execute(),this._data=a,this.group},t.prototype.remove=function(e,i){var r=this.group,o=this._data;e.get("animation")?o&&o.eachItemGraphicEl(function(a){aC(o,Ze(a).dataIndex,e,a)}):r.removeAll()},t.type="pictorialBar",t}(Ot);function JI(n,t,e,i){var g,m,x,S,M,C,T,D,k,R,N,E,B,r=n.getItemLayout(t),o=e.get("symbolRepeat"),a=e.get("symbolClip"),s=e.get("symbolPosition")||"start",l=(e.get("symbolRotate")||0)*Math.PI/180||0,u=e.get("symbolPatternSize")||2,h=e.isAnimationEnabled(),c={dataIndex:t,layout:r,itemModel:e,symbolType:n.getItemVisual(t,"symbol")||"circle",style:n.getItemVisual(t,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:l,animationModel:h?e:null,hoverScale:h&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};(function(g,m,y,x,b){var S,M=x.valueDim,C=g.get("symbolBoundingData"),T=x.coordSys.getOtherAxis(x.coordSys.getBaseAxis()),D=T.toGlobalCoord(T.dataToCoord(0)),k=1-+(y[M.wh]<=0);if(ce(C)){var R=[Vy(T,C[0])-D,Vy(T,C[1])-D];R[1]<R[0]&&R.reverse(),S=R[k]}else S=null!=C?Vy(T,C)-D:m?x.coordSysExtent[M.index][k]-D:y[M.wh];b.boundingLength=S,m&&(b.repeatCutLength=y[M.wh]),b.pxSign=S>0?1:-1})(e,o,r,i,c),g=n,m=t,x=o,S=c.boundingLength,M=c.pxSign,C=u,D=c,R=(T=i).valueDim,N=T.categoryDim,E=Math.abs(r[N.wh]),(k=ce(B=g.getItemVisual(m,"symbolSize"))?B.slice():null==B?["100%","100%"]:[B,B])[N.index]=Te(k[N.index],E),k[R.index]=Te(k[R.index],x?E:Math.abs(S)),D.symbolSize=k,(D.symbolScale=[k[0]/C,k[1]/C])[R.index]*=(T.isHorizontal?-1:1)*M,function(g,m,y,x,b){var S=g.get(HN)||0;S&&(By.attr({scaleX:m[0],scaleY:m[1],rotation:y}),By.updateTransform(),S/=By.getLineScale(),S*=m[x.valueDim.index]),b.valueLineWidth=S||0}(e,c.symbolScale,l,i,c);var p=c.symbolSize,f=Fl(e.get("symbolOffset"),p);return function(g,m,y,x,b,S,M,C,T,D,k,R){var N=k.categoryDim,E=k.valueDim,B=R.pxSign,G=Math.max(m[E.index]+C,0),H=G;if(x){var Y=Math.abs(T),j=_e(g.get("symbolMargin"),"15%")+"",Z=!1;j.lastIndexOf("!")===j.length-1&&(Z=!0,j=j.slice(0,j.length-1));var q=Te(j,m[E.index]),J=Math.max(G+2*q,0),te=Z?0:2*q,ne=Bf(x),le=ne?x:uC((Y+te)/J);J=G+2*(q=(Y-le*G)/2/(Z?le:Math.max(le-1,1))),te=Z?0:2*q,ne||"fixed"===x||(le=D?uC((Math.abs(D)+te)/J):0),H=le*J-te,R.repeatTimes=le,R.symbolMargin=q}var ye=B*(H/2),ie=R.pathPosition=[];ie[N.index]=y[N.wh]/2,ie[E.index]="start"===M?ye:"end"===M?T-ye:T/2,S&&(ie[0]+=S[0],ie[1]+=S[1]);var he=R.bundlePosition=[];he[N.index]=y[N.xy],he[E.index]=y[E.xy];var xe=R.barRectShape=ae({},y);xe[E.wh]=B*Math.max(Math.abs(y[E.wh]),Math.abs(ie[E.index]+ye)),xe[N.wh]=y[N.wh];var be=R.clipShape={};be[N.xy]=-y[N.xy],be[N.wh]=k.ecSize[N.wh],be[E.xy]=0,be[E.wh]=y[E.wh]}(e,p,r,o,0,f,s,c.valueLineWidth,c.boundingLength,c.repeatCutLength,i,c),c}function Vy(n,t){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(t)))}function QI(n){var t=n.symbolPatternSize,e=pn(n.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),"image"!==e.type&&e.setStyle({strokeNoScale:!0}),e}function eC(n,t,e,i){var r=n.__pictorialBundle,s=e.pathPosition,l=t.valueDim,u=e.repeatTimes||0,h=0,c=e.symbolSize[t.valueDim.index]+e.valueLineWidth+2*e.symbolMargin;for(Fy(n,function(m){m.__pictorialAnimationIndex=h,m.__pictorialRepeatTimes=u,h<u?ou(m,null,g(h),e,i):ou(m,null,{scaleX:0,scaleY:0},e,i,function(){r.remove(m)}),h++});h<u;h++){var p=QI(e);p.__pictorialAnimationIndex=h,p.__pictorialRepeatTimes=u,r.add(p);var f=g(h);ou(p,{x:f.x,y:f.y,scaleX:0,scaleY:0},{scaleX:f.scaleX,scaleY:f.scaleY,rotation:f.rotation},e,i)}function g(m){var y=s.slice(),x=e.pxSign,b=m;return("start"===e.symbolRepeatDirection?x>0:x<0)&&(b=u-1-m),y[l.index]=c*(b-u/2+.5)+s[l.index],{x:y[0],y:y[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function tC(n,t,e,i){var r=n.__pictorialBundle,o=n.__pictorialMainPath;o?ou(o,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,i):(o=n.__pictorialMainPath=QI(e),r.add(o),ou(o,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,i))}function nC(n,t,e){var i=ae({},t.barRectShape),r=n.__pictorialBarRect;r?ou(r,null,{shape:i},t,e):((r=n.__pictorialBarRect=new ht({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(r))}function iC(n,t,e,i){if(e.symbolClip){var r=n.__pictorialClipPath,o=ae({},e.clipShape),a=t.valueDim,s=e.animationModel,l=e.dataIndex;if(r)vt(r,{shape:o},s,l);else{o[a.wh]=0,r=new ht({shape:o}),n.__pictorialBundle.setClipPath(r),n.__pictorialClipPath=r;var u={};u[a.wh]=e.clipShape[a.wh],hh[i?"updateProps":"initProps"](r,{shape:u},s,l)}}}function rC(n,t){var e=n.getItemModel(t);return e.getAnimationDelayParams=YN,e.isAnimationEnabled=XN,e}function YN(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function XN(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function oC(n,t,e,i){var r=new He,o=new He;return r.add(o),r.__pictorialBundle=o,o.x=e.bundlePosition[0],o.y=e.bundlePosition[1],e.symbolRepeat?eC(r,t,e):tC(r,0,e),nC(r,e,i),iC(r,t,e,i),r.__pictorialShapeStr=sC(n,e),r.__pictorialSymbolMeta=e,r}function aC(n,t,e,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];Fy(i,function(a){o.push(a)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(e=null),V(o,function(a){ua(a,{scaleX:0,scaleY:0},e,t,function(){i.parent&&i.parent.remove(i)})}),n.setItemGraphicEl(t,null)}function sC(n,t){return[n.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function Fy(n,t,e){V(n.__pictorialBundle.children(),function(i){i!==n.__pictorialBarRect&&t.call(e,i)})}function ou(n,t,e,i,r,o){t&&n.attr(t),i.symbolClip&&!r?e&&n.attr(e):e&&hh[r?"updateProps":"initProps"](n,e,i.animationModel,i.dataIndex,o)}function lC(n,t,e){var i=e.dataIndex,r=e.itemModel,o=r.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),u=r.getShallow("cursor"),h=o.get("focus"),c=o.get("blurScope"),p=o.get("scale");Fy(n,function(g){if(g instanceof zn){var m=g.style;g.useStyle(ae({image:m.image,x:m.x,y:m.y,width:m.width,height:m.height},e.style))}else g.useStyle(e.style);var y=g.ensureState("emphasis");y.style=a,p&&(y.scaleX=1.1*g.scaleX,y.scaleY=1.1*g.scaleY),g.ensureState("blur").style=s,g.ensureState("select").style=l,u&&(g.cursor=u),g.z2=e.z2});var f=t.valueDim.posDesc[+(e.boundingLength>0)];ri(n.__pictorialBarRect,jn(r),{labelFetcher:t.seriesModel,labelDataIndex:i,defaultText:ql(t.seriesModel.getData(),i),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:f}),un(n,h,c,o.get("disabled"))}function uC(n){var t=Math.round(n);return Math.abs(n-t)<1e-4?t:Math.ceil(n)}var jN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return Q(t,n),t.prototype.getInitialData=function(e){return e.stack=null,n.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=da(jh.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(jh),ZN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return Q(t,n),t.prototype.render=function(e,i,r){var o=e.getData(),a=this,s=this.group,l=e.getLayerSeries(),u=o.getLayout("layoutInfo"),h=u.rect,c=u.boundaryGap;function p(y){return y.name}s.x=0,s.y=h.y+c[0];var f=new ko(this._layersSeries||[],l,p,p),g=[];function m(y,x,b){var J,te,le,S=a._layers;if("remove"!==y){for(var M,C,T=[],D=[],k=l[x].indices,R=0;R<k.length;R++){var N=o.getItemLayout(k[R]),E=N.x,B=N.y0,G=N.y;T.push(E,B),D.push(E,B+G),M=o.getItemVisual(k[R],"style")}var H=o.getItemLayout(k[0]),Y=e.getModel("label").get("margin"),j=e.getModel("emphasis");if("add"===y){var Z=g[x]=new He;C=new HS({shape:{points:T,stackedOnPoints:D,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Z.add(C),s.add(Z),e.isAnimationEnabled()&&C.setClipPath((J=C.getBoundingRect(),te=e,Kt(le=new ht({shape:{x:J.x-10,y:J.y-10,width:0,height:J.height+20}}),{shape:{x:J.x-50,width:J.width+100,height:J.height+20}},te,function(){C.removeClipPath()}),le))}else C=(Z=S[b]).childAt(0),s.add(Z),g[x]=Z,vt(C,{shape:{points:T,stackedOnPoints:D}},e),Dr(C);ri(C,jn(e),{labelDataIndex:k[R-1],defaultText:o.getName(k[R-1]),inheritColor:M.fill},{normal:{verticalAlign:"middle"}}),C.setTextConfig({position:null,local:!0});var q=C.getTextContent();q&&(q.x=H.x-Y,q.y=H.y0+H.y/2),C.useStyle(M),o.setItemGraphicEl(x,C),qn(C,e),un(C,j.get("focus"),j.get("blurScope"),j.get("disabled"))}else s.remove(S[x])}f.add(F(m,this,"add")).update(F(m,this,"update")).remove(F(m,this,"remove")).execute(),this._layersSeries=l,this._layers=g},t.type="themeRiver",t}(Ot),qN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new qh(F(this.getData,this),F(this.getRawData,this))},t.prototype.fixData=function(e){var i=e.length,r={},o=Wf(e,function(p){return r.hasOwnProperty(p[0]+"")||(r[p[0]+""]=-1),p[2]}),a=[];o.buckets.each(function(p,f){a.push({name:f,dataList:p})});for(var s=a.length,l=0;l<s;++l){for(var u=a[l].name,h=0;h<a[l].dataList.length;++h)r[c=a[l].dataList[h][0]+""]=l;for(var c in r)r.hasOwnProperty(c)&&r[c]!==l&&(r[c]=l,e[i]=[c,0,u],i++)}return e},t.prototype.getInitialData=function(e,i){for(var r=this.getReferringComponents("singleAxis",Mn).models[0].get("type"),o=dt(e.data,function(f){return void 0!==f[2]}),a=this.fixData(o||[]),s=[],l=this.nameMap=Ne(),u=0,h=0;h<a.length;++h)s.push(a[h][2]),l.get(a[h][2])||(l.set(a[h][2],u),u++);var c=Ul(a,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Kd(r)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,p=new ai(c,this);return p.initData(a),p},t.prototype.getLayerSeries=function(){for(var e=this.getData(),i=e.count(),r=[],o=0;o<i;++o)r[o]=o;var a=e.mapDimension("single"),s=Wf(r,function(u){return e.get("name",u)}),l=[];return s.buckets.each(function(u,h){u.sort(function(c,p){return e.get(a,c)-e.get(a,p)}),l.push({name:h,indices:u})}),l},t.prototype.getAxisTooltipData=function(e,i,r){ce(e)||(e=e?[e]:[]);for(var o,a=this.getData(),s=this.getLayerSeries(),l=[],u=s.length,h=0;h<u;++h){for(var c=Number.MAX_VALUE,p=-1,f=s[h].indices.length,g=0;g<f;++g){var m=a.get(e[0],s[h].indices[g]),y=Math.abs(m-i);y<=c&&(o=m,c=y,p=s[h].indices[g])}l.push(p)}return{dataIndices:l,nestestValue:o}},t.prototype.formatTooltip=function(e,i,r){var o=this.getData();return Bn("nameValue",{name:o.getName(e),value:o.get(o.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Bt);function KN(n,t){n.eachSeriesByType("themeRiver",function(e){var i=e.getData(),r=e.coordinateSystem,o={},a=r.getRect();o.rect=a;var s=e.get("boundaryGap"),l=r.getAxis();o.boundaryGap=s,"horizontal"===l.orient?(s[0]=Te(s[0],a.height),s[1]=Te(s[1],a.height),hC(i,e,a.height-s[0]-s[1])):(s[0]=Te(s[0],a.width),s[1]=Te(s[1],a.width),hC(i,e,a.width-s[0]-s[1])),i.setLayout("layoutInfo",o)})}function hC(n,t,e){if(n.count())for(var i,r=t.coordinateSystem,o=t.getLayerSeries(),a=n.mapDimension("single"),s=n.mapDimension("value"),l=oe(o,function(y){return oe(y.indices,function(x){var b=r.dataToPoint(n.get(a,x));return b[1]=n.get(s,x),b})}),u=function(y){for(var x=y.length,b=y[0].length,S=[],M=[],C=0,T=0;T<b;++T){for(var D=0,k=0;k<x;++k)D+=y[k][T][1];D>C&&(C=D),S.push(D)}for(var R=0;R<b;++R)M[R]=(C-S[R])/2;C=0;for(var N=0;N<b;++N){var E=S[N]+M[N];E>C&&(C=E)}return{y0:M,max:C}}(l),h=u.y0,c=e/u.max,p=o.length,f=o[0].indices.length,g=0;g<f;++g){n.setItemLayout(o[0].indices[g],{layerIndex:0,x:l[0][g][0],y0:i=h[g]*c,y:l[0][g][1]*c});for(var m=1;m<p;++m)n.setItemLayout(o[m].indices[g],{layerIndex:m,x:l[m][g][0],y0:i+=l[m-1][g][1]*c,y:l[m][g][1]*c})}}var cC=function(n){function t(e,i,r,o){var a=n.call(this)||this;a.z2=2,a.textConfig={inside:!0},Ze(a).seriesIndex=i.seriesIndex;var s=new gt({z2:4,silent:e.getModel().get(["label","silent"])});return a.setTextContent(s),a.updateData(!0,e,i,r,o),a}return Q(t,n),t.prototype.updateData=function(e,i,r,o,a){this.node=i,i.piece=this,r=r||this._seriesModel,o=o||this._ecModel;var s=this;Ze(s).dataIndex=i.dataIndex;var l=i.getModel(),u=l.getModel("emphasis"),h=i.getLayout(),c=ae({},h);c.label=null;var p=i.getVisual("style");p.lineJoin="bevel";var f=i.getVisual("decal");f&&(p.decal=Gl(f,a));var g=Kl(l.getModel("itemStyle"),c,!0);ae(c,g),V(fi,function(x){var b=s.ensureState(x),S=l.getModel([x,"itemStyle"]);b.style=S.getItemStyle();var M=Kl(S,c);M&&(b.shape=M)}),e?(s.setShape(c),s.shape.r=h.r0,vt(s,{shape:{r:h.r}},r,i.dataIndex)):(vt(s,{shape:c},r),Dr(s)),s.useStyle(p),this._updateLabel(r);var m=l.getShallow("cursor");m&&s.attr("cursor",m),this._seriesModel=r||this._seriesModel,this._ecModel=o||this._ecModel;var y=u.get("focus");un(this,"ancestor"===y?i.getAncestorsIndices():"descendant"===y?i.getDescendantIndices():y,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e){var i=this,r=this.node.getModel(),o=r.getModel("label"),a=this.node.getLayout(),s=a.endAngle-a.startAngle,l=(a.startAngle+a.endAngle)/2,u=Math.cos(l),h=Math.sin(l),c=this,p=c.getTextContent(),f=this.node.dataIndex,g=o.get("minAngle")/180*Math.PI,m=o.get("show")&&!(null!=g&&Math.abs(s)<g);function y(x,b){return x.get(b)??o.get(b)}p.ignore=!m,V($u,function(x){var b=r.getModel("normal"===x?"label":[x,"label"]),S="normal"===x,M=S?p:p.ensureState(x),C=e.getFormattedLabel(f,x);S&&(C=C||i.node.name),M.style=$t(b,{},null,"normal"!==x,!0),C&&(M.style.text=C);var T=b.get("show");null==T||S||(M.ignore=!T);var D,k=y(b,"position"),R=S?c:c.states[x],N=R.style.fill;R.textConfig={outsideFill:"inherit"===b.get("color")?N:null,inside:"outside"!==k};var E=y(b,"distance")||0,B=y(b,"align");"outside"===k?(D=a.r+E,B=l>Math.PI/2?"right":"left"):B&&"center"!==B?"left"===B?(D=a.r0+E,l>Math.PI/2&&(B="right")):"right"===B&&(D=a.r-E,l>Math.PI/2&&(B="left")):(D=s===2*Math.PI&&0===a.r0?0:(a.r+a.r0)/2,B="center"),M.style.align=B,M.style.verticalAlign=y(b,"verticalAlign")||"middle",M.x=D*u+a.cx,M.y=D*h+a.cy;var G=y(b,"rotate"),H=0;"radial"===G?(H=-l)<-Math.PI/2&&(H+=Math.PI):"tangential"===G?(H=Math.PI/2-l)>Math.PI/2?H-=Math.PI:H<-Math.PI/2&&(H+=Math.PI):ot(G)&&(H=G*Math.PI/180),M.rotation=H}),p.dirtyStyle()},t}(ti),Wy="sunburstRootToNode",dC="sunburstHighlight",$N=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r,o){var a=this;this.seriesModel=e,this.api=r,this.ecModel=i;var g,m,s=e.getData(),l=s.tree.root,u=e.getViewRoot(),h=this.group,c=e.get("renderLabelForZeroData"),p=[];u.eachNode(function(g){p.push(g)}),function(g,m){function y(b){return b.getId()}function x(b,S){!function(M,C){if(c||!M||M.getValue()||(M=null),M!==l&&C!==l)if(C&&C.piece)M?(C.piece.updateData(!1,M,e,i,r),s.setItemGraphicEl(M.dataIndex,C.piece)):!(D=C)||D.piece&&(h.remove(D.piece),D.piece=null);else if(M){var T=new cC(M,e,i,r);h.add(T),s.setItemGraphicEl(M.dataIndex,T)}var D}(null==b?null:g[b],null==S?null:m[S])}0===g.length&&0===m.length||new ko(m,g,y,y).add(x).update(x).remove(We(x,null)).execute()}(p,this._oldChildren||[]),g=l,(m=u).depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,g,e,i,r):(a.virtualPiece=new cC(g,e,i,r),h.add(a.virtualPiece)),m.piece.off("click"),a.virtualPiece.on("click",function(y){a._rootToNode(m.parentNode)})):a.virtualPiece&&(h.remove(a.virtualPiece),a.virtualPiece=null),this._initEvents(),this._oldChildren=p},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(i){var r=!1;e.seriesModel.getViewRoot().eachNode(function(o){if(!r&&o.piece&&o.piece===i.target){var a=o.getModel().get("nodeClick");if("rootToNode"===a)e._rootToNode(o);else if("link"===a){var s=o.getModel(),l=s.get("link");l&&Md(l,s.get("target",!0)||"_blank")}r=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Wy,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,i){var r=i.getData().getItemLayout(0);if(r){var o=e[0]-r.cx,a=e[1]-r.cy,s=Math.sqrt(o*o+a*a);return s<=r.r&&s>=r.r0}},t.type="sunburst",t}(Ot),JN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return Q(t,n),t.prototype.getInitialData=function(e,i){var r={name:e.name,children:e.data};pC(r);var o=this._levelModels=oe(e.levels||[],function(s){return new Ct(s,this,i)},this),a=Xv.createTree(r,this,function(s){s.wrapMethod("getItemModel",function(l,u){var h=a.getNodeByDataIndex(u),c=o[h.depth];return c&&(l.parentModel=c),l})});return a.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(e);return i.treePathInfo=Lp(r,this),i},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var i=this.getRawData().tree.root;e&&(e===i||i.contains(e))||(this._viewRoot=i)},t.prototype.enableAriaDecal=function(){I2(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Bt);function pC(n){var t=0;V(n.children,function(i){pC(i);var r=i.value;ce(r)&&(r=r[0]),t+=r});var e=n.value;ce(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),ce(n.value)?n.value[0]=e:n.value=e}var fC=Math.PI/180;function QN(n,t,e){t.eachSeriesByType(n,function(i){var r=i.get("center"),o=i.get("radius");ce(o)||(o=[0,o]),ce(r)||(r=[r,r]);var a=e.getWidth(),s=e.getHeight(),l=Math.min(a,s),u=Te(r[0],a),h=Te(r[1],s),c=Te(o[0],l/2),p=Te(o[1],l/2),f=-i.get("startAngle")*fC,g=i.get("minAngle")*fC,m=i.getData().tree.root,y=i.getViewRoot(),x=y.depth,b=i.get("sort");null!=b&&gC(y,b);var S=0;V(y.children,function(j){!isNaN(j.getValue())&&S++});var M=y.getValue(),C=Math.PI/(M||S)*2,T=y.depth>0,k=(p-c)/(y.height-(T?-1:1)||1),R=i.get("clockwise"),N=i.get("stillShowZeroSum"),E=R?1:-1,B=function(j,Z){if(j){var q=Z;if(j!==m){var J=j.getValue(),te=0===M&&N?C:J*C;te<g&&(te=g),q=Z+E*te;var ne=j.depth-x-(T?-1:1),le=c+k*ne,ye=c+k*(ne+1),ie=i.getLevelModel(j);if(ie){var he=ie.get("r0",!0),xe=ie.get("r",!0),be=ie.get("radius",!0);null!=be&&(he=be[0],xe=be[1]),null!=he&&(le=Te(he,l/2)),null!=xe&&(ye=Te(xe,l/2))}j.setLayout({angle:te,startAngle:Z,endAngle:q,clockwise:R,cx:u,cy:h,r0:le,r:ye})}if(j.children&&j.children.length){var ge=0;V(j.children,function(we){ge+=B(we,Z+ge)})}return q-Z}};if(T){var Y=2*Math.PI;m.setLayout({angle:Y,startAngle:f,endAngle:f+Y,clockwise:R,cx:u,cy:h,r0:c,r:c+k})}B(y,f)})}function gC(n,t){var e=n.children||[];n.children=function(i,r){if(ze(r)){var o=oe(i,function(s,l){var u=s.getValue();return{params:{depth:s.depth,height:s.height,dataIndex:s.dataIndex,getValue:function(){return u}},index:l}});return o.sort(function(s,l){return r(s.params,l.params)}),oe(o,function(s){return i[s.index]})}var a="asc"===r;return i.sort(function(s,l){var u=(s.getValue()-l.getValue())*(a?1:-1);return 0===u?(s.dataIndex-l.dataIndex)*(a?-1:1):u})}(e,t),e.length&&V(n.children,function(i){gC(i,t)})}function eE(n){var t={};n.eachSeriesByType("sunburst",function(e){var i=e.getData(),r=i.tree;r.eachNode(function(o){var a=o.getModel().getModel("itemStyle").getItemStyle();a.fill||(a.fill=function(s,l,u){for(var h=s;h&&h.depth>1;)h=h.parentNode;var c=l.getColorFromPalette(h.name||h.dataIndex+"",t);return s.depth>1&&De(c)&&(c=il(c,(s.depth-1)/(u-1)*.5)),c}(o,e,r.root.height)),ae(i.ensureUniqueItemVisual(o.dataIndex,"style"),a)})})}var mC={color:"fill",borderColor:"stroke"},tE={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Ro=_t(),nE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,i){return eo(null,this)},t.prototype.getDataParams=function(e,i,r){var o=n.prototype.getDataParams.call(this,e,i);return r&&(o.info=Ro(r).info),o},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(Bt);function iE(n,t){return t=t||[0,0],oe(["x","y"],function(e,i){var r=this.getAxis(e),o=t[i],a=n[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a))},this)}function rE(n,t){return t=t||[0,0],oe([0,1],function(e){var i=t[e],r=n[e]/2,o=[],a=[];return o[e]=i-r,a[e]=i+r,o[1-e]=a[1-e]=t[1-e],Math.abs(this.dataToPoint(o)[e]-this.dataToPoint(a)[e])},this)}function oE(n,t){var e=this.getAxis(),i=t instanceof Array?t[0]:t,r=(n instanceof Array?n[0]:n)/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(i-r)-e.dataToCoord(i+r))}function aE(n,t){return t=t||[0,0],oe(["Radius","Angle"],function(e,i){var r=this["get"+e+"Axis"](),o=t[i],a=n[i]/2,s="category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(o-a)-r.dataToCoord(o+a));return"Angle"===e&&(s=s*Math.PI/180),s},this)}function vC(n,t,e,i){return n&&(n.legacy||!1!==n.legacy&&!e&&!i&&"tspan"!==t&&("text"===t||Le(n,"text")))}function yC(n,t,e){var i,r,o,a=n;if("text"===t)o=a;else{o={},Le(a,"text")&&(o.text=a.text),Le(a,"rich")&&(o.rich=a.rich),Le(a,"textFill")&&(o.fill=a.textFill),Le(a,"textStroke")&&(o.stroke=a.textStroke),Le(a,"fontFamily")&&(o.fontFamily=a.fontFamily),Le(a,"fontSize")&&(o.fontSize=a.fontSize),Le(a,"fontStyle")&&(o.fontStyle=a.fontStyle),Le(a,"fontWeight")&&(o.fontWeight=a.fontWeight),r={type:"text",style:o,silent:!0},i={};var s=Le(a,"textPosition");e?i.position=s?a.textPosition:"inside":s&&(i.position=a.textPosition),Le(a,"textPosition")&&(i.position=a.textPosition),Le(a,"textOffset")&&(i.offset=a.textOffset),Le(a,"textRotation")&&(i.rotation=a.textRotation),Le(a,"textDistance")&&(i.distance=a.textDistance)}return xC(o,n),V(o.rich,function(l){xC(l,l)}),{textConfig:i,textContent:r}}function xC(n,t){t&&(t.font=t.textFont||t.font,Le(t,"textStrokeWidth")&&(n.lineWidth=t.textStrokeWidth),Le(t,"textAlign")&&(n.align=t.textAlign),Le(t,"textVerticalAlign")&&(n.verticalAlign=t.textVerticalAlign),Le(t,"textLineHeight")&&(n.lineHeight=t.textLineHeight),Le(t,"textWidth")&&(n.width=t.textWidth),Le(t,"textHeight")&&(n.height=t.textHeight),Le(t,"textBackgroundColor")&&(n.backgroundColor=t.textBackgroundColor),Le(t,"textPadding")&&(n.padding=t.textPadding),Le(t,"textBorderColor")&&(n.borderColor=t.textBorderColor),Le(t,"textBorderWidth")&&(n.borderWidth=t.textBorderWidth),Le(t,"textBorderRadius")&&(n.borderRadius=t.textBorderRadius),Le(t,"textBoxShadowColor")&&(n.shadowColor=t.textBoxShadowColor),Le(t,"textBoxShadowBlur")&&(n.shadowBlur=t.textBoxShadowBlur),Le(t,"textBoxShadowOffsetX")&&(n.shadowOffsetX=t.textBoxShadowOffsetX),Le(t,"textBoxShadowOffsetY")&&(n.shadowOffsetY=t.textBoxShadowOffsetY))}function _C(n,t,e){var i=n;i.textPosition=i.textPosition||e.position||"inside",null!=e.offset&&(i.textOffset=e.offset),null!=e.rotation&&(i.textRotation=e.rotation),null!=e.distance&&(i.textDistance=e.distance);var r=i.textPosition.indexOf("inside")>=0,o=n.fill||"#000";bC(i,t);var a=null==i.textFill;return r?a&&(i.textFill=e.insideFill||"#fff",!i.textStroke&&e.insideStroke&&(i.textStroke=e.insideStroke),!i.textStroke&&(i.textStroke=o),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(a&&(i.textFill=n.fill||e.outsideFill||"#000"),!i.textStroke&&e.outsideStroke&&(i.textStroke=e.outsideStroke)),i.text=t.text,i.rich=t.rich,V(t.rich,function(s){bC(s,s)}),i}function bC(n,t){t&&(Le(t,"fill")&&(n.textFill=t.fill),Le(t,"stroke")&&(n.textStroke=t.fill),Le(t,"lineWidth")&&(n.textStrokeWidth=t.lineWidth),Le(t,"font")&&(n.font=t.font),Le(t,"fontStyle")&&(n.fontStyle=t.fontStyle),Le(t,"fontWeight")&&(n.fontWeight=t.fontWeight),Le(t,"fontSize")&&(n.fontSize=t.fontSize),Le(t,"fontFamily")&&(n.fontFamily=t.fontFamily),Le(t,"align")&&(n.textAlign=t.align),Le(t,"verticalAlign")&&(n.textVerticalAlign=t.verticalAlign),Le(t,"lineHeight")&&(n.textLineHeight=t.lineHeight),Le(t,"width")&&(n.textWidth=t.width),Le(t,"height")&&(n.textHeight=t.height),Le(t,"backgroundColor")&&(n.textBackgroundColor=t.backgroundColor),Le(t,"padding")&&(n.textPadding=t.padding),Le(t,"borderColor")&&(n.textBorderColor=t.borderColor),Le(t,"borderWidth")&&(n.textBorderWidth=t.borderWidth),Le(t,"borderRadius")&&(n.textBorderRadius=t.borderRadius),Le(t,"shadowColor")&&(n.textBoxShadowColor=t.shadowColor),Le(t,"shadowBlur")&&(n.textBoxShadowBlur=t.shadowBlur),Le(t,"shadowOffsetX")&&(n.textBoxShadowOffsetX=t.shadowOffsetX),Le(t,"shadowOffsetY")&&(n.textBoxShadowOffsetY=t.shadowOffsetY),Le(t,"textShadowColor")&&(n.textShadowColor=t.textShadowColor),Le(t,"textShadowBlur")&&(n.textShadowBlur=t.textShadowBlur),Le(t,"textShadowOffsetX")&&(n.textShadowOffsetX=t.textShadowOffsetX),Le(t,"textShadowOffsetY")&&(n.textShadowOffsetY=t.textShadowOffsetY))}var wC={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},SC=tt(wC),Hp=(_n(W,function(n,t){return n[t]=1,n},{}),W.join(", "),["","style","shape","extra"]),au=_t();function Gy(n,t,e,i,r){var o=n+"Animation",a=xl(n,i,r)||{},s=au(t).userDuring;return a.duration>0&&(a.during=s?F(lE,{el:t,userDuring:s}):null,a.setToFinal=!0,a.scope=n),ae(a,e[o]),a}function Up(n,t,e,i){var r=(i=i||{}).dataIndex,o=i.isInit,a=i.clearStyle,s=e.isAnimationEnabled(),l=au(n),u=t.style;l.userDuring=t.during;var g,m,h={},c={};if(function(g,m,y){for(var x=0;x<SC.length;x++){var b=SC[x],S=wC[b],M=m[b];M&&(y[S[0]]=M[0],y[S[1]]=M[1])}for(x=0;x<W.length;x++){var C=W[x];null!=m[C]&&(y[C]=m[C])}}(0,t,c),CC("shape",t,c),CC("extra",t,c),!o&&s&&(function(g,m,y){for(var x=m.transition,b=Us(x)?W:zt(x||[]),S=0;S<b.length;S++){var M=b[S];"style"!==M&&"shape"!==M&&"extra"!==M&&(y[M]=g[M])}}(n,t,h),IC("shape",n,t,h),IC("extra",n,t,h),function(g,m,y,x){if(y){var b,S=g.style;if(S){var M=y.transition,C=m.transition;if(M&&!Us(M)){var T=zt(M);!b&&(b=x.style={});for(var D=0;D<T.length;D++){var k=S[B=T[D]];b[B]=k}}else if(g.getAnimationStyleProps&&(Us(C)||Us(M)||je(C,"style")>=0)){var R=g.getAnimationStyleProps(),N=R?R.style:null;if(N){!b&&(b=x.style={});var E=tt(y);for(D=0;D<E.length;D++){var B;N[B=E[D]]&&(b[B]=k=S[B])}}}}}}(n,t,u,h)),c.style=u,function(g,m,y){var x=m.style;if(!g.isGroup&&x){if(y){g.useStyle({});for(var b=g.animators,S=0;S<b.length;S++){var M=b[S];"style"===M.targetName&&M.changeTarget(g.style)}}g.setStyle(x)}m&&(m.style=null,m&&g.attr(m),m.style=x)}(n,c,a),g=n,Le(m=t,"silent")&&(g.silent=m.silent),Le(m,"ignore")&&(g.ignore=m.ignore),g instanceof er&&Le(m,"invisible")&&(g.invisible=m.invisible),g instanceof at&&Le(m,"autoBatch")&&(g.autoBatch=m.autoBatch),s)if(o){var p={};V(Hp,function(g){var m=g?t[g]:t;m&&m.enterFrom&&(g&&(p[g]=p[g]||{}),ae(g?p[g]:p,m.enterFrom))});var f=Gy("enter",n,t,e,r);f.duration>0&&n.animateFrom(p,f)}else!function(g,m,y,x,b){if(b){var S=Gy("update",g,m,x,y);S.duration>0&&g.animateFrom(b,S)}}(n,t,r||0,e,h);MC(n,t),u?n.dirty():n.markRedraw()}function MC(n,t){for(var e=au(n).leaveToProps,i=0;i<Hp.length;i++){var r=Hp[i],o=r?t[r]:t;o&&o.leaveTo&&(e||(e=au(n).leaveToProps={}),r&&(e[r]=e[r]||{}),ae(r?e[r]:e,o.leaveTo))}}function Yp(n,t,e,i){if(n){var r=n.parent,o=au(n).leaveToProps;if(o){var a=Gy("update",n,t,e,0);a.done=function(){r.remove(n),i&&i()},n.animateTo(o,a)}else r.remove(n),i&&i()}}function Us(n){return"all"===n}var ao={},sE={setTransform:function(n,t){return ao.el[n]=t,this},getTransform:function(n){return ao.el[n]},setShape:function(n,t){var e=ao.el;return(e.shape||(e.shape={}))[n]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(n){var t=ao.el.shape;if(t)return t[n]},setStyle:function(n,t){var e=ao.el,i=e.style;return i&&(i[n]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(n){var t=ao.el.style;if(t)return t[n]},setExtra:function(n,t){return(ao.el.extra||(ao.el.extra={}))[n]=t,this},getExtra:function(n){var t=ao.el.extra;if(t)return t[n]}};function lE(){var n=this,t=n.el;if(t){var e=au(t).userDuring,i=n.userDuring;e===i?(ao.el=t,i(sE)):n.el=n.userDuring=null}}function IC(n,t,e,i){var r=e[n];if(r){var o,a=t[n];if(a){var s=e.transition,l=r.transition;if(l)if(!o&&(o=i[n]={}),Us(l))ae(o,a);else for(var u=zt(l),h=0;h<u.length;h++){var c=a[f=u[h]];o[f]=c}else if(Us(s)||je(s,n)>=0){!o&&(o=i[n]={});var p=tt(a);for(h=0;h<p.length;h++){var f;c=a[f=p[h]],uE(r[f],c)&&(o[f]=c)}}}}}function CC(n,t,e){var i=t[n];if(i)for(var r=e[n]={},o=tt(i),a=0;a<o.length;a++){var s=o[a];r[s]=_o(i[s])}}function uE(n,t){return nn(n)?n!==t:null!=n&&isFinite(n)}var TC=_t(),hE=["percent","easing","shape","style","extra"];function DC(n){n.stopAnimation("keyframe"),n.attr(TC(n))}function Xp(n,t,e){if(e.isAnimationEnabled()&&t)if(ce(t))V(t,function(s){Xp(n,s,e)});else{var i=t.keyframes,r=t.duration;if(e&&null==r){var o=xl("enter",e,0);r=o&&o.duration}if(i&&r){var a=TC(n);V(Hp,function(s){var l;s&&!n[s]||(i.sort(function(u,h){return u.percent-h.percent}),V(i,function(u){var h=n.animators,c=s?u[s]:u;if(c){var p=tt(c);if(s||(p=dt(p,function(m){return je(hE,m)<0})),p.length){l||((l=n.animate(s,t.loop,!0)).scope="keyframe");for(var f=0;f<h.length;f++)h[f]!==l&&h[f].targetName===l.targetName&&h[f].stopTracks(p);s&&(a[s]=a[s]||{});var g=s?a[s]:a;V(p,function(m){g[m]=((s?n[s]:n)||{})[m]}),l.whenWithKeys(r*u.percent,c,p,u.easing)}}}),l&&l.delay(t.delay||0).duration(r).start(t.easing))})}}}var No="emphasis",Ta="normal",Hy="blur",Uy="select",Da=[Ta,No,Hy,Uy],Yy={normal:["itemStyle"],emphasis:[No,"itemStyle"],blur:[Hy,"itemStyle"],select:[Uy,"itemStyle"]},Xy={normal:["label"],emphasis:[No,"label"],blur:[Hy,"label"],select:[Uy,"label"]},cE=["x","y"],cr={normal:{},emphasis:{},blur:{},select:{}},dE={cartesian2d:function(n){var t=n.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:F(iE,n)}}},geo:function(n){var t=n.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:n.getZoom()},api:{coord:function(e){return n.dataToPoint(e)},size:F(rE,n)}}},single:function(n){var t=n.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:F(oE,n)}}},polar:function(n){var t=n.getRadiusAxis(),e=n.getAngleAxis(),i=t.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:i[1],r0:i[0]},api:{coord:function(r){var o=t.dataToRadius(r[0]),a=e.dataToAngle(r[1]),s=n.coordToPoint([o,a]);return s.push(o,a*Math.PI/180),s},size:F(aE,n)}}},calendar:function(n){var t=n.getRect(),e=n.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(i,r){return n.dataToPoint(i,r)}}}}};function jy(n){return n instanceof at}function Zy(n){return n instanceof er}var pE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r,o){this._progressiveEls=null;var a=this._data,s=e.getData(),l=this.group,u=kC(e,s,i,r);a||l.removeAll(),s.diff(a).add(function(c){$y(r,null,c,u(c,o),e,l,s)}).remove(function(c){var p=a.getItemGraphicEl(c);Yp(p,Ro(p).option,e)}).update(function(c,p){var f=a.getItemGraphicEl(p);$y(r,f,c,u(c,o),e,l,s)}).execute();var h=e.get("clip",!0)?vp(e.coordinateSystem,!1,e):null;h?l.setClipPath(h):l.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(e,i,r){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,i,r,o,a){var s=i.getData(),l=kC(i,s,r,o),u=this._progressiveEls=[];function h(f){f.isGroup||(f.incremental=!0,f.ensureState("emphasis").hoverLayer=!0)}for(var c=e.start;c<e.end;c++){var p=$y(null,null,c,l(c,a),i,this.group,s);p&&(p.traverse(h),u.push(p))}},t.prototype.eachRendered=function(e){ca(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,i,r,o){var a=i.element;if(null==a||r.name===a)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===a)return!0;return!1},t.type="custom",t}(Ot);function qy(n){var t,e=n.type;if("path"===e){var i=n.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=NC(i);t=sh(o,null,r,i.layout||"center"),Ro(t).customPathData=o}else if("image"===e)t=new zn({}),Ro(t).customImagePath=n.style.image;else if("text"===e)t=new gt({});else if("group"===e)t=new He;else{if("compoundPath"===e)throw new Error('"compoundPath" is not supported yet.');var a=pd(e);a||Dt(""),t=new a}return Ro(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function Ky(n,t,e,i,r,o,a){DC(t);var s=r&&r.normal.cfg;s&&t.setTextConfig(s),i&&null==i.transition&&(i.transition=cE);var l=i&&i.style;if(l){if("text"===t.type){var u=l;Le(u,"textFill")&&(u.fill=u.textFill),Le(u,"textStroke")&&(u.stroke=u.textStroke)}var h=void 0,c=jy(t)?l.decal:null;n&&c&&(c.dirty=!0,h=Gl(c,n)),l.__decalPattern=h}Zy(t)&&l&&(h=l.__decalPattern)&&(l.decal=h),Up(t,i,o,{dataIndex:e,isInit:a,clearStyle:!0}),Xp(t,i.keyframeAnimation,o)}function AC(n,t,e,i,r){var o=t.isGroup?null:t,a=r&&r[n].cfg;if(o){var s=o.ensureState(n);if(!1===i){var l=o.getState(n);l&&(l.style=null)}else s.style=i||null;a&&(s.textConfig=a),fs(o)}}function fE(n,t,e){var i=e===Ta,r=i?t:jp(t,e),o=r?r.z2:null;null!=o&&((i?n:n.ensureState(e)).z2=o||0)}function kC(n,t,e,i){var r=n.get("renderItem"),o=n.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):dE[o.type](o));for(var s,l,u=Ee({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:function(T,D){return null==D&&(D=s),t.getStore().get(t.getDimensionIndex(T||0),D)},style:function(T,D){null==D&&(D=s);var k=t.getItemVisual(D,"style"),R=k&&k.fill,N=k&&k.opacity,E=b(D,Ta).getItemStyle();null!=R&&(E.fill=R),null!=N&&(E.opacity=N);var B={inheritColor:De(R)?R:"#000"},G=S(D,Ta),H=$t(G,null,B,!1,!0);H.text=G.getShallow("show")?pe(n.getFormattedLabel(D,Ta),ql(t,D)):null;var Y=vd(G,B,!1);return C(T,E),E=_C(E,H,Y),T&&M(E,T),E.legacy=!0,E},ordinalRawValue:function(T,D){null==D&&(D=s);var k=t.getDimensionInfo(T=T||0);if(!k){var R=t.getDimensionIndex(T);return R>=0?t.getStore().get(R,D):void 0}var N=t.get(k.name,D),E=k&&k.ordinalMeta;return E?E.categories[N]:N},styleEmphasis:function(T,D){null==D&&(D=s);var k=b(D,No).getItemStyle(),R=S(D,No),N=$t(R,null,null,!0,!0);N.text=R.getShallow("show")?it(n.getFormattedLabel(D,No),n.getFormattedLabel(D,Ta),ql(t,D)):null;var E=vd(R,null,!0);return C(T,k),k=_C(k,N,E),T&&M(k,T),k.legacy=!0,k},visual:function(T,D){if(null==D&&(D=s),Le(mC,T)){var k=t.getItemVisual(D,"style");return k?k[mC[T]]:null}if(Le(tE,T))return t.getItemVisual(D,T)},barLayout:function(T){if("cartesian2d"===o.type)return function(D){var k=[],R=D.axis;if("category"===R.type){for(var E=R.getBandWidth(),B=0;B<D.count;B++)k.push(Ee({bandWidth:E,axisKey:"axis0",stackId:Um+B},D));var G=Aw(k),H=[];for(B=0;B<D.count;B++){var Y=G.axis0[Um+B];Y.offsetCenter=Y.offset+Y.width/2,H.push(Y)}return H}}(Ee({axis:o.getBaseAxis()},T))},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(T){return Vx(T,e)}},a.api||{}),h={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:a.coordSys,dataInsideLength:t.count(),encode:gE(n.getData())},c={},p={},f={},g={},m=0;m<Da.length;m++){var y=Da[m];f[y]=n.getModel(Yy[y]),g[y]=n.getModel(Xy[y])}function x(T){return T===s?l||(l=t.getItemModel(T)):t.getItemModel(T)}function b(T,D){return t.hasItemOption?T===s?c[D]||(c[D]=x(T).getModel(Yy[D])):x(T).getModel(Yy[D]):f[D]}function S(T,D){return t.hasItemOption?T===s?p[D]||(p[D]=x(T).getModel(Xy[D])):x(T).getModel(Xy[D]):g[D]}return function(T,D){return s=T,l=null,c={},p={},r&&r(Ee({dataIndexInside:T,dataIndex:t.getRawIndex(T),actionType:D?D.type:null},h),u)};function M(T,D){for(var k in D)Le(D,k)&&(T[k]=D[k])}function C(T,D){T&&(T.textFill&&(D.textFill=T.textFill),T.textPosition&&(D.textPosition=T.textPosition))}}function gE(n){var t={};return V(n.dimensions,function(e){var i=n.getDimensionInfo(e);if(!i.isExtraCoord){var r=i.coordDim;(t[r]=t[r]||[])[i.coordDimIndex]=n.getDimensionIndex(e)}}),t}function $y(n,t,e,i,r,o,a){if(i){var s=Jy(n,t,e,i,r,o);return s&&a.setItemGraphicEl(e,s),s&&un(s,i.focus,i.blurScope,i.emphasisDisabled),s}o.remove(t)}function Jy(n,t,e,i,r,o){var a=-1,s=t;t&&LC(t,i,r)&&(a=je(o.childrenRef(),t),t=null);var l,u,h=!t,c=t;c?c.clearStates():(c=qy(i),s&&((u=c).copyTransform(l=s),Zy(u)&&Zy(l)&&(u.setStyle(l.style),u.z=l.z,u.z2=l.z2,u.zlevel=l.zlevel,u.invisible=l.invisible,u.ignore=l.ignore,jy(u)&&jy(l)&&u.setShape(l.shape)))),!1===i.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),cr.normal.cfg=cr.normal.conOpt=cr.emphasis.cfg=cr.emphasis.conOpt=cr.blur.cfg=cr.blur.conOpt=cr.select.cfg=cr.select.conOpt=null,cr.isLegacy=!1,function(m,y,x,b,S,M){if(!m.isGroup){PC(x,null,M),PC(x,No,M);var C=M.normal.conOpt;if(null!=C||null!=M.emphasis.conOpt||null!=M.select.conOpt||null!=M.blur.conOpt){var R=m.getTextContent();if(!1===C)R&&m.removeTextContent();else{C=M.normal.conOpt=C||{type:"text"},R?R.clearStates():(R=qy(C),m.setTextContent(R)),Ky(null,R,y,C,null,b,S);for(var N=C&&C.style,E=0;E<Da.length;E++){var B=Da[E];B!==Ta&&AC(B,R,0,Qy(C,M[B].conOpt,B),null)}N?R.dirty():R.markRedraw()}}}}(c,e,i,r,h,cr),function(m,y,x,b,S){var M=x.clipPath;if(!1===M)m&&m.getClipPath()&&m.removeClipPath();else if(M){var C=m.getClipPath();C&&LC(C,M,b)&&(C=null),C||(C=qy(M),m.setClipPath(C)),Ky(null,C,y,M,null,b,S)}}(c,e,i,r,h),Ky(n,c,e,i,cr,r,h),Le(i,"info")&&(Ro(c).info=i.info);for(var p=0;p<Da.length;p++){var f=Da[p];f!==Ta&&AC(f,c,0,Qy(i,jp(i,f),f),cr)}return function(m,y,x){if(!m.isGroup){var b=m,M=x.currentZLevel;b.z=x.currentZ,b.zlevel=M;var C=y.z2;null!=C&&(b.z2=C||0);for(var T=0;T<Da.length;T++)fE(b,y,Da[T])}}(c,i,r),"group"===i.type&&function(m,y,x,b,S){var M=b.children,C=M?M.length:0,T=b.$mergeChildren,D="byName"===T||b.diffChildrenByName,k=!1===T;if(C||D||k){if(D)return R={api:m,oldChildren:y.children()||[],newChildren:M||[],dataIndex:x,seriesModel:S,group:y},void new ko(R.oldChildren,R.newChildren,OC,OC,R).add(RC).update(RC).remove(mE).execute();var R;k&&y.removeAll();for(var N=0;N<C;N++)M[N]&&Jy(m,y.childAt(N),x,M[N],S,y);for(var E=y.childCount()-1;E>=N;E--)Yp(y.childAt(E),Ro(y).option,S)}}(n,c,e,i,r),a>=0?o.replaceAt(c,a):o.add(c),c}function LC(n,t,e){var i,r=Ro(n),o=t.type,a=t.shape,s=t.style;return e.isUniversalTransitionEnabled()||null!=o&&o!==r.customGraphicType||"path"===o&&(i=a)&&(Le(i,"pathData")||Le(i,"d"))&&NC(a)!==r.customPathData||"image"===o&&Le(s,"image")&&s.image!==r.customImagePath}function PC(n,t,e){var i=t?jp(n,t):n,r=t?Qy(n,i,No):n.style,o=n.type,a=i?i.textConfig:null,s=n.textContent,l=s?t?jp(s,t):s:null;if(r&&(e.isLegacy||vC(r,o,!!a,!!l))){e.isLegacy=!0;var u=yC(r,o,!t);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}!t&&l&&!l.type&&(l.type="text");var c=t?e[t]:e.normal;c.cfg=a,c.conOpt=l}function jp(n,t){return t?n?n[t]:null:n}function Qy(n,t,e){var i=t&&t.style;return null==i&&e===No&&n&&(i=n.styleEmphasis),i}function OC(n,t){return(n&&n.name)??"e\0\0"+t}function RC(n,t){var e=this.context;Jy(e.api,null!=t?e.oldChildren[t]:null,e.dataIndex,null!=n?e.newChildren[n]:null,e.seriesModel,e.group)}function mE(n){var t=this.context,e=t.oldChildren[n];Yp(e,Ro(e).option,t.seriesModel)}function NC(n){return n&&(n.pathData||n.d)}var Ys=_t(),EC=Re,e0=F,t0=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(t,e,i,r){var o=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,r||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||"hide"===a)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var u={};this.makeElOption(u,o,t,e,i);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=h;var c=this._moveAnimation=this.determineAnimation(t,e);if(s){var p=We(zC,e,c);this.updatePointerEl(s,u,p),this.updateLabelEl(s,u,p,e)}else s=this._group=new He,this.createPointerEl(s,u,t,e),this.createLabelEl(s,u,t,e),i.getZr().add(s);FC(s,e,!0),this._renderHandle(o)}},n.prototype.remove=function(t){this.clear(t)},n.prototype.dispose=function(t){this.clear(t)},n.prototype.determineAnimation=function(t,e){var i=e.get("animation"),r=t.axis,o="category"===r.type,a=e.get("snap");if(!a&&!o)return!1;if("auto"===i||null==i){var s=this.animationThreshold;if(o&&r.getBandWidth()>s)return!0;if(a){var l=Dv(t).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return!0===i},n.prototype.makeElOption=function(t,e,i,r,o){},n.prototype.createPointerEl=function(t,e,i,r){var o=e.pointer;if(o){var a=Ys(t).pointerEl=new hh[o.type](EC(e.pointer));t.add(a)}},n.prototype.createLabelEl=function(t,e,i,r){if(e.label){var o=Ys(t).labelEl=new gt(EC(e.label));t.add(o),VC(o,r)}},n.prototype.updatePointerEl=function(t,e,i){var r=Ys(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),i(r,{shape:e.pointer.shape}))},n.prototype.updateLabelEl=function(t,e,i,r){var o=Ys(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{x:e.label.x,y:e.label.y}),VC(o,r))},n.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,r=this._api.getZr(),o=this._handle,a=i.getModel("handle"),s=i.get("status");if(!a.get("show")||!s||"hide"===s)return o&&r.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=bl(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){ci(u.event)},onmousedown:e0(this._onHandleDragMove,this,0,0),drift:e0(this._onHandleDragMove,this),ondragend:e0(this._onHandleDragEnd,this)}),r.add(o)),FC(o,i,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");ce(l)||(l=[l,l]),o.scaleX=l[0]/2,o.scaleY=l[1]/2,zl(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},n.prototype._moveHandleToValue=function(t,e){zC(this._axisPointerModel,!e&&this._moveAnimation,this._handle,n0(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(t,e){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(n0(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(n0(r)),Ys(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,r=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),wh(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}},n}();function zC(n,t,e,i){BC(Ys(e).lastProp,i)||(Ys(e).lastProp=i,t?vt(e,i,n):(e.stopAnimation(),e.attr(i)))}function BC(n,t){if(Oe(n)&&Oe(t)){var e=!0;return V(t,function(i,r){e=e&&BC(n[r],i)}),!!e}return n===t}function VC(n,t){n[t.get(["label","show"])?"show":"hide"]()}function n0(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function FC(n,t,e){var i=t.get("z"),r=t.get("zlevel");n&&n.traverse(function(o){"group"!==o.type&&(null!=i&&(o.z=i),null!=r&&(o.zlevel=r),o.silent=e)})}function i0(n){var t,e=n.get("type"),i=n.getModel(e+"Style");return"line"===e?(t=i.getLineStyle()).fill=null:"shadow"===e&&((t=i.getAreaStyle()).stroke=null),t}function WC(n,t,e,i,r){var o=GC(e.get("value"),t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),a=e.getModel("label"),s=xs(a.get("padding")||0),l=a.getFont(),u=Be(o,l),h=r.position,c=u.width+s[1]+s[3],p=u.height+s[0]+s[2],f=r.align;"right"===f&&(h[0]-=c),"center"===f&&(h[0]-=c/2);var y,x,b,S,M,C,g=r.verticalAlign;"bottom"===g&&(h[1]-=p),"middle"===g&&(h[1]-=p/2),y=h,x=c,b=p,M=(S=i).getWidth(),C=S.getHeight(),y[0]=Math.min(y[0]+x,M)-x,y[1]=Math.min(y[1]+b,C)-b,y[0]=Math.max(y[0],0),y[1]=Math.max(y[1],0);var m=a.get("backgroundColor");m&&"auto"!==m||(m=t.get(["axisLine","lineStyle","color"])),n.label={x:h[0],y:h[1],style:$t(a,{text:o,font:l,fill:a.getTextColor(),padding:s,backgroundColor:m}),z2:10}}function GC(n,t,e,i,r){n=t.scale.parse(n);var o=t.scale.getLabel({value:n},{precision:r.precision}),a=r.formatter;if(a){var s={value:qm(t,{value:n}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};V(i,function(l){var u=e.getSeriesByIndex(l.seriesIndex),c=u&&u.getDataParams(l.dataIndexInside);c&&s.seriesData.push(c)}),De(a)?o=a.replace("{value}",o):ze(a)&&(o=a(s))}return o}function r0(n,t,e){var i=[1,0,0,1,0,0];return Xr(i,i,e.rotation),Ni(i,i,e.position),Ar([n.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],i)}function HC(n,t,e,i,r,o){var a=vi.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=r.get(["label","margin"]),WC(t,i,r,o,{position:r0(i.axis,n,e),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function o0(n,t,e){return{x1:n[e=e||0],y1:n[1-e],x2:t[e],y2:t[1-e]}}function UC(n,t,e){return{x:n[e=e||0],y:n[1-e],width:t[e],height:t[1-e]}}function YC(n,t,e,i,r,o){return{cx:n,cy:t,r0:e,r:i,startAngle:r,endAngle:o,clockwise:!0}}var vE=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.makeElOption=function(e,i,r,o,a){var s=r.axis,l=s.grid,u=o.get("type"),h=XC(l,s).getOtherAxis(s).getGlobalExtent(),c=s.toGlobalCoord(s.dataToCoord(i,!0));if(u&&"none"!==u){var p=i0(o),f=yE[u](s,c,h);f.style=p,e.graphicKey=f.type,e.pointer=f}HC(i,e,Mv(l.model,r),r,o,a)},t.prototype.getHandleTransform=function(e,i,r){var o=Mv(i.axis.grid.model,i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=r0(i.axis,e,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,i,r,o){var a=r.axis,s=a.grid,l=a.getGlobalExtent(!0),u=XC(s,a).getOtherAxis(a).getGlobalExtent(),h="x"===a.dim?0:1,c=[e.x,e.y];c[h]+=i[h],c[h]=Math.min(l[1],c[h]),c[h]=Math.max(l[0],c[h]);var p=(u[1]+u[0])/2,f=[p,p];return f[h]=c[h],{x:c[0],y:c[1],rotation:e.rotation,cursorPoint:f,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][h]}},t}(t0);function XC(n,t){var e={};return e[t.dim+"AxisIndex"]=t.index,n.getCartesian(e)}var yE={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:o0([t,e[0]],[t,e[1]],jC(n))}},shadow:function(n,t,e){var i=Math.max(1,n.getBandWidth());return{type:"Rect",shape:UC([t-i/2,e[0]],[i,e[1]-e[0]],jC(n))}}};function jC(n){return"x"===n.dim?0:1}var xE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(st),Eo=_t(),_E=V;function ZC(n,t,e){if(!$e.node){var i=t.getZr();Eo(i).records||(Eo(i).records={}),function(r,o){function a(s,l){r.on(s,function(u){var c,p,f,h=(c=o,{dispatchAction:f=function(g){var m=p[g.type];m?m.push(g):(g.dispatchAction=f,c.dispatchAction(g))},pendings:p={showTip:[],hideTip:[]}});_E(Eo(r).records,function(c){c&&l(c,u,h.dispatchAction)}),function(c,p){var f,g=c.showTip.length,m=c.hideTip.length;g?f=c.showTip[g-1]:m&&(f=c.hideTip[m-1]),f&&(f.dispatchAction=null,p.dispatchAction(f))}(h.pendings,o)})}Eo(r).initialized||(Eo(r).initialized=!0,a("click",We(qC,"click")),a("mousemove",We(qC,"mousemove")),a("globalout",bE))}(i,t),(Eo(i).records[n]||(Eo(i).records[n]={})).handler=e}}function bE(n,t,e){n.handler("leave",null,e)}function qC(n,t,e,i){t.handler(n,e,i)}function a0(n,t){if(!$e.node){var e=t.getZr();(Eo(e).records||{})[n]&&(Eo(e).records[n]=null)}}var wE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r){var o=i.getComponent("tooltip"),a=e.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";ZC("axisPointer",r,function(s,l,u){"none"!==a&&("leave"===s||a.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,i){a0("axisPointer",i)},t.prototype.dispose=function(e,i){a0("axisPointer",i)},t.type="axisPointer",t}(Yt);function KC(n,t){var e,i=[],r=n.seriesIndex;if(null==r||!(e=t.getSeriesByIndex(r)))return{point:[]};var o=e.getData(),a=ns(o,n);if(null==a||a<0||ce(a))return{point:[]};var s=o.getItemGraphicEl(a),l=e.coordinateSystem;if(e.getTooltipPosition)i=e.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(n.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u).dim,p="x"===h||"radius"===h?1:0,f=o.mapDimension(u.dim),g=[];g[p]=o.get(f,a),g[1-p]=o.get(o.getCalculationInfo("stackResultDimension"),a),i=l.dataToPoint(g)||[]}else i=l.dataToPoint(o.getValues(oe(l.dimensions,function(y){return o.mapDimension(y)}),a))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),i=[m.x+m.width/2,m.y+m.height/2]}return{point:i,el:s}}var $C=_t();function SE(n,t,e){var x,b,M,i=n.currTrigger,r=[n.x,n.y],o=n,a=n.dispatchAction||F(e.dispatchAction,e),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){Zp(r)&&(r=KC({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var l=Zp(r),u=o.axesInfo,h=s.axesInfo,c="leave"===i||Zp(r),p={},f={},g={list:[],map:{}},m={showPointer:We(ME,f),showTooltip:We(IE,g)};V(s.coordSysMap,function(x,b){var S=l||x.containPoint(r);V(s.coordSysAxesInfo[b],function(M,C){var T=M.axis,D=function(R,N){for(var E=0;E<(R||[]).length;E++){var B=R[E];if(N.axis.dim===B.axisDim&&N.axis.model.componentIndex===B.axisIndex)return B}}(u,M);if(!c&&S&&(!u||D)){var k=D&&D.value;null!=k||l||(k=T.pointToData(r)),null!=k&&JC(M,k,m,!1,p)}})});var y={};return V(h,function(x,b){var S=x.linkGroup;S&&!f[b]&&V(S.axesInfo,function(M,C){var T=f[C];if(M!==x&&T){var D=T.value;S.mapper&&(D=x.axis.scale.parse(S.mapper(D,QC(M),QC(x)))),y[x.key]=D}})}),V(y,function(x,b){JC(h[b],x,m,!0,p)}),x=f,b=h,M=p.axesInfo=[],V(b,function(C,T){var D=C.axisPointerModel.option,k=x[T];k?(!C.useHandle&&(D.status="show"),D.value=k.value,D.seriesDataIndices=(k.payloadBatch||[]).slice()):!C.useHandle&&(D.status="hide"),"show"===D.status&&M.push({axisDim:C.axis.dim,axisIndex:C.axis.model.componentIndex,value:D.value})}),function(x,b,S,M){if(!Zp(b)&&x.list.length){var C=((x.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};M({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:S.tooltipOption,position:S.position,dataIndexInside:C.dataIndexInside,dataIndex:C.dataIndex,seriesIndex:C.seriesIndex,dataByCoordSys:x.list})}else M({type:"hideTip"})}(g,r,n,a),function(x,b,S){var M=S.getZr(),C="axisPointerLastHighlights",T=$C(M)[C]||{},D=$C(M)[C]={};V(x,function(N,E){var B=N.axisPointerModel.option;"show"===B.status&&V(B.seriesDataIndices,function(G){D[G.seriesIndex+" | "+G.dataIndex]=G})});var k=[],R=[];V(T,function(N,E){!D[E]&&R.push(N)}),V(D,function(N,E){!T[E]&&k.push(N)}),R.length&&S.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:R}),k.length&&S.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:k})}(h,0,e),p}}function JC(n,t,e,i,r){var u,h,c,p,f,g,m,y,o=n.axis;if(!o.scale.isBlank()&&o.containData(t))if(n.involveSeries){var a=(p=(c=(h=n).axis).dim,f=u=t,g=[],m=Number.MAX_VALUE,y=-1,V(h.seriesModels,function(x,b){var S,M,C=x.getData().mapDimensionsAll(p);if(x.getAxisTooltipData){var T=x.getAxisTooltipData(C,u,c);M=T.dataIndices,S=T.nestestValue}else{if(!(M=x.getData().indicesOfNearest(C[0],u,"category"===c.type?.5:null)).length)return;S=x.getData().get(C[0],M[0])}if(null!=S&&isFinite(S)){var D=u-S,k=Math.abs(D);k<=m&&((k<m||D>=0&&y<0)&&(m=k,y=D,f=S,g.length=0),V(M,function(R){g.push({seriesIndex:x.seriesIndex,dataIndexInside:R,dataIndex:x.getData().getRawIndex(R)})}))}}),{payloadBatch:g,snapToValue:f}),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==r.seriesIndex&&ae(r,s[0]),!i&&n.snap&&o.containData(l)&&null!=l&&(t=l),e.showPointer(n,t,s),e.showTooltip(n,a,l)}else e.showPointer(n,t)}function ME(n,t,e,i){n[t.key]={value:e,payloadBatch:i}}function IE(n,t,e,i){var r=e.payloadBatch,o=t.axis,a=o.model,s=t.axisPointerModel;if(t.triggerTooltip&&r.length){var l=t.coordSys.model,u=Kh(l),h=n.map[u];h||(h=n.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(h)),h.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function QC(n){var t=n.axis.model,e={},i=e.axisDim=n.axis.dim;return e.axisIndex=e[i+"AxisIndex"]=t.componentIndex,e.axisName=e[i+"AxisName"]=t.name,e.axisId=e[i+"AxisId"]=t.id,e}function Zp(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function pc(n){Ns.registerAxisPointerClass("CartesianAxisPointer",vE),n.registerComponentModel(xE),n.registerComponentView(wE),n.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!ce(e)&&(t.axisPointer.link=[e])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=function B5(n,t){var i,r,o,a,s,l,u,e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return i=e,o=t,a=(r=n).getComponent("tooltip"),s=r.getComponent("axisPointer"),l=s.get("link",!0)||[],u=[],V(o.getCoordinateSystems(),function(h){if(h.axisPointerEnabled){var c=Kh(h.model),p=i.coordSysAxesInfo[c]={};i.coordSysMap[c]=h;var f=h.model.getModel("tooltip",a);if(V(h.getAxes(),We(x,!1,null)),h.getTooltipAxes&&a&&f.get("show")){var g="axis"===f.get("trigger"),m="cross"===f.get(["axisPointer","type"]),y=h.getTooltipAxes(f.get(["axisPointer","axis"]));(g||m)&&V(y.baseAxes,We(x,!m||"cross",g)),m&&V(y.otherAxes,We(x,"cross",!1))}}function x(b,S,M){var C=M.model.getModel("axisPointer",s),T=C.get("show");if(T&&("auto"!==T||b||Av(C))){null==S&&(S=C.get("triggerTooltip"));var D=(C=b?function(G,H,Y,j,Z,q){var J=H.getModel("axisPointer"),te={};V(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(ie){te[ie]=Re(J.get(ie))}),te.snap="category"!==G.type&&!!q,"cross"===J.get("type")&&(te.type="line");var ne=te.label||(te.label={});if(null==ne.show&&(ne.show=!1),"cross"===Z){var le=J.get(["label","show"]);if(ne.show=null==le||le,!q){var ye=te.lineStyle=J.get("crossStyle");ye&&Ee(ne,ye.textStyle)}}return G.model.getModel("axisPointer",new Ct(te,Y,j))}(M,f,s,r,b,S):C).get("snap"),k=Kh(M.model),R=S||D||"category"===M.type,N=i.axesInfo[k]={key:k,axis:M,coordSys:h,axisPointerModel:C,triggerTooltip:S,involveSeries:R,snap:D,useHandle:Av(C),seriesModels:[],linkGroup:null};p[k]=N,i.seriesInvolved=i.seriesInvolved||R;var E=function(G,H){for(var Y=H.model,j=H.dim,Z=0;Z<G.length;Z++){var q=G[Z]||{};if(Tv(q[j+"AxisId"],Y.id)||Tv(q[j+"AxisIndex"],Y.componentIndex)||Tv(q[j+"AxisName"],Y.name))return Z}}(l,M);if(null!=E){var B=u[E]||(u[E]={axesInfo:{}});B.axesInfo[k]=N,B.mapper=l[E].mapper,N.linkGroup=B}}}}),e.seriesInvolved&&function(i,r){r.eachSeries(function(o){var a=o.coordinateSystem,s=o.get(["tooltip","trigger"],!0),l=o.get(["tooltip","show"],!0);a&&"none"!==s&&!1!==s&&"item"!==s&&!1!==l&&!1!==o.get(["axisPointer","show"],!0)&&V(i.coordSysAxesInfo[Kh(a.model)],function(u){var h=u.axis;a.getAxis(h.dim)===h&&(u.seriesModels.push(o),null==u.seriesDataCount&&(u.seriesDataCount=0),u.seriesDataCount+=o.getData().count())})})}(e,n),e}(t,e)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},SE)}var CE=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.makeElOption=function(e,i,r,o,a){var s=r.axis;"angle"===s.dim&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s).getExtent(),h=s.dataToCoord(i),c=o.get("type");if(c&&"none"!==c){var p=i0(o),f=TE[c](s,l,h,u);f.style=p,e.graphicKey=f.type,e.pointer=f}var g=function(m,y,x,b,S){var M=y.axis,C=M.dataToCoord(m),T=b.getAngleAxis().getExtent()[0];T=T/180*Math.PI;var D,k,R,N=b.getRadiusAxis().getExtent();if("radius"===M.dim){var E=[1,0,0,1,0,0];Xr(E,E,T),Ni(E,E,[b.cx,b.cy]),D=Ar([C,-S],E);var B=y.getModel("axisLabel").get("rotate")||0,G=vi.innerTextLayout(T,B*Math.PI/180,-1);k=G.textAlign,R=G.textVerticalAlign}else{var H=N[1];D=b.coordToPoint([H+S,C]);var Y=b.cx,j=b.cy;k=Math.abs(D[0]-Y)/H<.3?"center":D[0]>Y?"left":"right",R=Math.abs(D[1]-j)/H<.3?"middle":D[1]>j?"top":"bottom"}return{position:D,align:k,verticalAlign:R}}(i,r,0,l,o.get(["label","margin"]));WC(e,r,o,a,g)},t}(t0),TE={line:function(n,t,e,i){return"angle"===n.dim?{type:"Line",shape:o0(t.coordToPoint([i[0],e]),t.coordToPoint([i[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(n,t,e,i){var r=Math.max(1,n.getBandWidth()),o=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:YC(t.cx,t.cy,i[0],i[1],(-e-r/2)*o,(r/2-e)*o)}:{type:"Sector",shape:YC(t.cx,t.cy,e-r/2,e+r/2,0,2*Math.PI)}}},DE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.findAxisModel=function(e){var i;return this.ecModel.eachComponent(e,function(r){r.getCoordSysModel()===this&&(i=r)},this),i},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(st),s0=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Mn).models[0]},t.type="polarAxis",t}(st);Nt(s0,Xl);var AE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.type="angleAxis",t}(s0),kE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.type="radiusAxis",t}(s0),l0=function(n){function t(e,i){return n.call(this,"radius",e,i)||this}return Q(t,n),t.prototype.pointToData=function(e,i){return this.polar.pointToData(e,i)["radius"===this.dim?0:1]},t}(sr);l0.prototype.dataToRadius=sr.prototype.dataToCoord,l0.prototype.radiusToData=sr.prototype.coordToData;var LE=_t(),u0=function(n){function t(e,i){return n.call(this,"angle",e,i||[0,360])||this}return Q(t,n),t.prototype.pointToData=function(e,i){return this.polar.pointToData(e,i)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,i=e.getLabelModel(),r=e.scale,o=r.getExtent(),a=r.count();if(o[1]-o[0]<1)return 0;var s=o[0],l=e.dataToCoord(s+1)-e.dataToCoord(s),u=Math.abs(l),h=Be(null==s?"":s+"",i.getFont(),"center","top"),c=Math.max(h.height,7)/u;isNaN(c)&&(c=1/0);var p=Math.max(0,Math.floor(c)),f=LE(e.model),g=f.lastAutoInterval,m=f.lastTickCount;return null!=g&&null!=m&&Math.abs(g-p)<=1&&Math.abs(m-a)<=1&&g>p?p=g:(f.lastTickCount=a,f.lastAutoInterval=p),p},t}(sr);u0.prototype.dataToAngle=sr.prototype.dataToCoord,u0.prototype.angleToData=sr.prototype.coordToData;var eT=["radius","angle"],PE=function(){function n(t){this.dimensions=eT,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new l0,this._angleAxis=new u0,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},n.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},n.prototype.getAxis=function(t){return this["_"+t+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(t){var e=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===t&&e.push(i),r.scale.type===t&&e.push(r),e},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},n.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},n.prototype.pointToData=function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},n.prototype.pointToCoord=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,r=this.getAngleAxis(),o=r.getExtent(),a=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);r.inverse?a=s-360:s=a+360;var l=Math.sqrt(e*e+i*i);e/=l,i/=l;for(var u=Math.atan2(-i,e)/Math.PI*180,h=u<a?1:-1;u<a||u>s;)u+=360*h;return[l,u]},n.prototype.coordToPoint=function(t){var e=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*e+this.cx,-Math.sin(i)*e+this.cy]},n.prototype.getArea=function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var i=t.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-i[0]*r,endAngle:-i[1]*r,clockwise:t.inverse,contain:function(o,a){var s=o-this.cx,l=a-this.cy,u=s*s+l*l-1e-4,h=this.r,c=this.r0;return u<=h*h&&u>=c*c}}},n.prototype.convertToPixel=function(t,e,i){return tT(e)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(t,e,i){return tT(e)===this?this.pointToData(i):null},n}();function tT(n){var t=n.seriesModel,e=n.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}function OE(n,t){var e=this,i=e.getAngleAxis(),r=e.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),n.eachSeries(function(s){if(s.coordinateSystem===e){var l=s.getData();V(lp(l,"radius"),function(u){r.scale.unionExtentFromData(l,u)}),V(lp(l,"angle"),function(u){i.scale.unionExtentFromData(l,u)})}}),Ds(i.scale,i.model),Ds(r.scale,r.model),"category"===i.type&&!i.onBand){var o=i.getExtent(),a=360/i.scale.count();i.inverse?o[1]+=a:o[1]-=a,i.setExtent(o[0],o[1])}}function nT(n,t){if(n.type=t.get("type"),n.scale=Eh(t),n.onBand=t.get("boundaryGap")&&"category"===n.type,n.inverse=t.get("inverse"),"angleAxis"===t.mainType){n.inverse=n.inverse!==t.get("clockwise");var e=t.get("startAngle");n.setExtent(e,e+(n.inverse?-360:360))}t.axis=n,n.model=t}var RE={dimensions:eT,create:function(n,t){var e=[];return n.eachComponent("polar",function(i,r){var o=new PE(r+"");o.update=OE;var a=o.getRadiusAxis(),s=o.getAngleAxis(),l=i.findAxisModel("radiusAxis"),u=i.findAxisModel("angleAxis");nT(a,l),nT(s,u),function(h,c,p){var f=c.get("center"),g=p.getWidth(),m=p.getHeight();h.cx=Te(f[0],g),h.cy=Te(f[1],m);var y=h.getRadiusAxis(),x=Math.min(g,m)/2,b=c.get("radius");null==b?b=[0,"100%"]:ce(b)||(b=[0,b]);var S=[Te(b[0],x),Te(b[1],x)];y.inverse?y.setExtent(S[1],S[0]):y.setExtent(S[0],S[1])}(o,i,t),e.push(o),i.coordinateSystem=o,o.model=i}),n.eachSeries(function(i){if("polar"===i.get("coordinateSystem")){var r=i.getReferringComponents("polar",Mn).models[0];i.coordinateSystem=r.coordinateSystem}}),e}},NE=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function qp(n,t,e){t[1]>t[0]&&(t=t.slice().reverse());var i=n.coordToPoint([t[0],e]),r=n.coordToPoint([t[1],e]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function Kp(n){return n.getRadiusAxis().inverse?0:1}function iT(n){var t=n[0],e=n[n.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&n.pop()}var EE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return Q(t,n),t.prototype.render=function(e,i){if(this.group.removeAll(),e.get("show")){var r=e.axis,o=r.polar,a=o.getRadiusAxis().getExtent(),s=r.getTicksCoords(),l=r.getMinorTicksCoords(),u=oe(r.getViewLabels(),function(h){h=Re(h);var c=r.scale,p="ordinal"===c.type?c.getRawOrdinalNumber(h.tickValue):h.tickValue;return h.coord=r.dataToCoord(p),h});iT(u),iT(s),V(NE,function(h){!e.get([h,"show"])||r.scale.isBlank()&&"axisLine"!==h||zE[h](this.group,e,o,s,l,a,u)},this)}},t.type="angleAxis",t}(Ns),zE={axisLine:function(n,t,e,i,r,o){var a,s=t.getModel(["axisLine","lineStyle"]),l=Kp(e),u=l?0:1;(a=0===o[u]?new nr({shape:{cx:e.cx,cy:e.cy,r:o[l]},style:s.getLineStyle(),z2:1,silent:!0}):new ml({shape:{cx:e.cx,cy:e.cy,r:o[l],r0:o[u]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(a)},axisTick:function(n,t,e,i,r,o){var a=t.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[Kp(e)],u=oe(i,function(h){return new kn({shape:qp(e,[l,l+s],h.coord)})});n.add(Bi(u,{style:Ee(a.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,t,e,i,r,o){if(r.length){for(var a=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=o[Kp(e)],h=[],c=0;c<r.length;c++)for(var p=0;p<r[c].length;p++)h.push(new kn({shape:qp(e,[u,u+l],r[c][p].coord)}));n.add(Bi(h,{style:Ee(s.getModel("lineStyle").getLineStyle(),Ee(a.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,t,e,i,r,o,a){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),h=t.get("triggerEvent");V(a,function(c,p){var f=l,g=c.tickValue,m=o[Kp(e)],y=e.coordToPoint([m+u,c.coord]),x=e.cx,b=e.cy,S=Math.abs(y[0]-x)/m<.3?"center":y[0]>x?"left":"right",M=Math.abs(y[1]-b)/m<.3?"middle":y[1]>b?"top":"bottom";if(s&&s[g]){var C=s[g];Oe(C)&&C.textStyle&&(f=new Ct(C.textStyle,l,l.ecModel))}var T=new gt({silent:vi.isLabelSilent(t),style:$t(f,{x:y[0],y:y[1],fill:f.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:c.formattedLabel,align:S,verticalAlign:M})});if(n.add(T),h){var D=vi.makeAxisEventDataBase(t);D.targetType="axisLabel",D.value=c.rawLabel,Ze(T).eventData=D}},this)},splitLine:function(n,t,e,i,r,o){var a=t.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h<i.length;h++){var c=l++%s.length;u[c]=u[c]||[],u[c].push(new kn({shape:qp(e,o,i[h].coord)}))}for(h=0;h<u.length;h++)n.add(Bi(u[h],{style:Ee({stroke:s[h%s.length]},a.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(n,t,e,i,r,o){if(r.length){for(var a=t.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<r.length;l++)for(var u=0;u<r[l].length;u++)s.push(new kn({shape:qp(e,o,r[l][u].coord)}));n.add(Bi(s,{style:a.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(n,t,e,i,r,o){if(i.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=Math.PI/180,c=-i[0].coord*h,p=Math.min(o[0],o[1]),f=Math.max(o[0],o[1]),g=t.get("clockwise"),m=1,y=i.length;m<=y;m++){var x=m===y?i[0].coord:i[m].coord,b=l++%s.length;u[b]=u[b]||[],u[b].push(new ti({shape:{cx:e.cx,cy:e.cy,r0:p,r:f,startAngle:c,endAngle:-x*h,clockwise:g},silent:!0})),c=-x*h}for(m=0;m<u.length;m++)n.add(Bi(u[m],{style:Ee({fill:s[m%s.length]},a.getAreaStyle()),silent:!0}))}}},BE=["axisLine","axisTickLabel","axisName"],VE=["splitLine","splitArea","minorSplitLine"],FE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return Q(t,n),t.prototype.render=function(e,i){if(this.group.removeAll(),e.get("show")){var r=this._axisGroup,o=this._axisGroup=new He;this.group.add(o);var a=e.axis,s=a.polar,l=s.getAngleAxis(),u=a.getTicksCoords(),h=a.getMinorTicksCoords(),c=l.getExtent()[0],p=a.getExtent(),f={position:[(m=s).cx,m.cy],rotation:c/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1},g=new vi(e,f);V(BE,g.add,g),o.add(g.getGroup()),lh(r,o,e),V(VE,function(m){e.get([m,"show"])&&!a.scale.isBlank()&&WE[m](this.group,e,s,c,p,u,h)},this)}var m},t.type="radiusAxis",t}(Ns),WE={splitLine:function(n,t,e,i,r,o){var a=t.getModel("splitLine").getModel("lineStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=0;h<o.length;h++){var c=l++%s.length;u[c]=u[c]||[],u[c].push(new nr({shape:{cx:e.cx,cy:e.cy,r:Math.max(o[h].coord,0)}}))}for(h=0;h<u.length;h++)n.add(Bi(u[h],{style:Ee({stroke:s[h%s.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(n,t,e,i,r,o,a){if(a.length){for(var s=t.getModel("minorSplitLine").getModel("lineStyle"),l=[],u=0;u<a.length;u++)for(var h=0;h<a[u].length;h++)l.push(new nr({shape:{cx:e.cx,cy:e.cy,r:a[u][h].coord}}));n.add(Bi(l,{style:Ee({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(n,t,e,i,r,o){if(o.length){var a=t.getModel("splitArea").getModel("areaStyle"),s=a.get("color"),l=0;s=s instanceof Array?s:[s];for(var u=[],h=o[0].coord,c=1;c<o.length;c++){var p=l++%s.length;u[p]=u[p]||[],u[p].push(new ti({shape:{cx:e.cx,cy:e.cy,r0:h,r:o[c].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=o[c].coord}for(c=0;c<u.length;c++)n.add(Bi(u[c],{style:Ee({fill:s[c%s.length]},a.getAreaStyle()),silent:!0}))}}};function rT(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function oT(n,t){return t.dim+n.model.componentIndex}function GE(n,t,e){var i={},r=function(o){var a={};V(o,function(l,u){var h=l.getData(),c=l.coordinateSystem,p=c.getBaseAxis(),f=oT(c,p),g=p.getExtent(),m="category"===p.type?p.getBandWidth():Math.abs(g[1]-g[0])/h.count(),y=a[f]||{bandWidth:m,remainedWidth:m,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},x=y.stacks;a[f]=y;var b=rT(l);x[b]||y.autoWidthCount++,x[b]=x[b]||{width:0,maxWidth:0};var S=Te(l.get("barWidth"),m),M=Te(l.get("barMaxWidth"),m),C=l.get("barGap"),T=l.get("barCategoryGap");S&&!x[b].width&&(S=Math.min(y.remainedWidth,S),x[b].width=S,y.remainedWidth-=S),M&&(x[b].maxWidth=M),null!=C&&(y.gap=C),null!=T&&(y.categoryGap=T)});var s={};return V(a,function(l,u){s[u]={};var h=l.stacks,p=Te(l.categoryGap,l.bandWidth),f=Te(l.gap,1),g=l.remainedWidth,m=l.autoWidthCount,y=(g-p)/(m+(m-1)*f);y=Math.max(y,0),V(h,function(M,C){var T=M.maxWidth;T&&T<y&&(T=Math.min(T,g),M.width&&(T=Math.min(T,M.width)),g-=T,M.width=T,m--)}),y=(g-p)/(m+(m-1)*f),y=Math.max(y,0);var x,b=0;V(h,function(M,C){M.width||(M.width=y),x=M,b+=M.width*(1+f)}),x&&(b-=x.width*f);var S=-b/2;V(h,function(M,C){s[u][C]=s[u][C]||{offset:S,width:M.width},S+=M.width*(1+f)})}),s}(dt(t.getSeriesByType(n),function(o){return!t.isSeriesFiltered(o)&&o.coordinateSystem&&"polar"===o.coordinateSystem.type}));t.eachSeriesByType(n,function(o){if("polar"===o.coordinateSystem.type){var a=o.getData(),s=o.coordinateSystem,l=s.getBaseAxis(),u=oT(s,l),h=rT(o),c=r[u][h],p=c.offset,f=c.width,g=s.getOtherAxis(l),m=o.coordinateSystem.cx,y=o.coordinateSystem.cy,x=o.get("barMinHeight")||0,b=o.get("barMinAngle")||0;i[h]=i[h]||[];for(var S=a.mapDimension(g.dim),M=a.mapDimension(l.dim),C=Lo(a,S),T="radius"!==l.dim||!o.get("roundCap",!0),D=g.dataToCoord(0),k=0,R=a.count();k<R;k++){var N=a.get(S,k),E=a.get(M,k),B=N>=0?"p":"n",G=D;C&&(i[h][E]||(i[h][E]={p:D,n:D}),G=i[h][E][B]);var H=void 0,Y=void 0,j=void 0,Z=void 0;if("radius"===g.dim){var q=g.dataToCoord(N)-D,J=l.dataToCoord(E);Math.abs(q)<x&&(q=(q<0?-1:1)*x),H=G,Y=G+q,Z=(j=J-p)-f,C&&(i[h][E][B]=Y)}else{var te=g.dataToCoord(N,T)-D,ne=l.dataToCoord(E);Math.abs(te)<b&&(te=(te<0?-1:1)*b),Y=(H=ne+p)+f,j=G,Z=G+te,C&&(i[h][E][B]=Z)}a.setItemLayout(k,{cx:m,cy:y,r0:H,r:Y,startAngle:-j*Math.PI/180,endAngle:-Z*Math.PI/180,clockwise:j>=Z})}}})}var HE={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},UE={splitNumber:5},YE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.type="polar",t}(Yt);function h0(n,t){t=t||{};var i=n.axis,r={},o=i.position,a=i.orient,s=n.coordinateSystem.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=["vertical"===a?u.vertical[o]:l[0],"horizontal"===a?u.horizontal[o]:l[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],n.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),_e(t.labelInside,n.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var h=t.rotate;return null==h&&(h=n.get(["axisLabel","rotate"])),r.labelRotation="top"===o?-h:h,r.z2=1,r}var XE=["axisLine","axisTickLabel","axisName"],jE=["splitArea","splitLine"],ZE=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return Q(t,n),t.prototype.render=function(e,i,r,o){var a=this.group;a.removeAll();var s=this._axisGroup;this._axisGroup=new He;var l=h0(e),u=new vi(e,l);V(XE,u.add,u),a.add(this._axisGroup),a.add(u.getGroup()),V(jE,function(h){e.get([h,"show"])&&qE[h](this,this.group,this._axisGroup,e)},this),lh(s,this._axisGroup,e),n.prototype.render.call(this,e,i,r,o)},t.prototype.remove=function(){kM(this)},t.type="singleAxis",t}(Ns),qE={splitLine:function(n,t,e,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),h=[],c=0,p=r.getTicksCoords({tickModel:o}),f=[],g=[],m=0;m<p.length;++m){var y=r.toGlobalCoord(p[m].coord);u?(f[0]=y,f[1]=l.y,g[0]=y,g[1]=l.y+l.height):(f[0]=l.x,f[1]=y,g[0]=l.x+l.width,g[1]=y);var x=c++%s.length;h[x]=h[x]||[],h[x].push(new kn({subPixelOptimize:!0,shape:{x1:f[0],y1:f[1],x2:g[0],y2:g[1]},silent:!0}))}var b=a.getLineStyle(["color"]);for(m=0;m<h.length;++m)t.add(Bi(h[m],{style:Ee({stroke:s[m%s.length]},b),silent:!0}))}},splitArea:function(n,t,e,i){AM(n,e,i,i)}},$p=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(st);Nt($p,Xl.prototype);var KE=function(n){function t(e,i,r,o,a){var s=n.call(this,e,i,r)||this;return s.type=o||"value",s.position=a||"bottom",s}return Q(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,i){return this.coordinateSystem.pointToData(e)[0]},t}(sr),aT=["single"],$E=function(){function n(t,e,i){this.type="single",this.dimension="single",this.dimensions=aT,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,i)}return n.prototype._init=function(t,e,i){var o=new KE(this.dimension,Eh(t),[0,0],t.get("type"),t.get("position"));o.onBand="category"===o.type&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},n.prototype.update=function(t,e){t.eachSeries(function(i){if(i.coordinateSystem===this){var r=i.getData();V(r.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(r,o)},this),Ds(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(t,e){this._rect=In({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,i=e.isHorizontal(),r=i?[0,t.width]:[0,t.height],o=e.reverse?1:0;e.setExtent(r[o],r[1-o]),this._updateAxisTransform(e,i?t.x:t.y)},n.prototype._updateAxisTransform=function(t,e){var i=t.getExtent(),r=i[0]+i[1],o=t.isHorizontal();t.toGlobalCoord=o?function(a){return a+e}:function(a){return r-a+e},t.toLocalCoord=o?function(a){return a-e}:function(a){return r-a+e}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(t){var e=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:i.contain(i.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},n.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},n.prototype.dataToPoint=function(t){var e=this.getAxis(),i=this.getRect(),r=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),r[o]=e.toGlobalCoord(e.dataToCoord(+t)),r[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,r},n.prototype.convertToPixel=function(t,e,i){return sT(e)===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(t,e,i){return sT(e)===this?this.pointToData(i):null},n}();function sT(n){var t=n.seriesModel,e=n.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}var JE={create:function(n,t){var e=[];return n.eachComponent("singleAxis",function(i,r){var o=new $E(i,n,t);o.name="single_"+r,o.resize(i,t),i.coordinateSystem=o,e.push(o)}),n.eachSeries(function(i){if("singleAxis"===i.get("coordinateSystem")){var r=i.getReferringComponents("singleAxis",Mn).models[0];i.coordinateSystem=r&&r.coordinateSystem}}),e},dimensions:aT},lT=["x","y"],QE=["width","height"],ez=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.makeElOption=function(e,i,r,o,a){var s=r.axis,l=s.coordinateSystem,u=c0(l,1-Jp(s)),h=l.dataToPoint(i)[0],c=o.get("type");if(c&&"none"!==c){var p=i0(o),f=tz[c](s,h,u);f.style=p,e.graphicKey=f.type,e.pointer=f}HC(i,e,h0(r),r,o,a)},t.prototype.getHandleTransform=function(e,i,r){var o=h0(i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var a=r0(i.axis,e,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,i,r,o){var a=r.axis,s=a.coordinateSystem,l=Jp(a),u=c0(s,l),h=[e.x,e.y];h[l]+=i[l],h[l]=Math.min(u[1],h[l]),h[l]=Math.max(u[0],h[l]);var c=c0(s,1-l),p=(c[1]+c[0])/2,f=[p,p];return f[l]=h[l],{x:h[0],y:h[1],rotation:e.rotation,cursorPoint:f,tooltipOption:{verticalAlign:"middle"}}},t}(t0),tz={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:o0([t,e[0]],[t,e[1]],Jp(n))}},shadow:function(n,t,e){var i=n.getBandWidth();return{type:"Rect",shape:UC([t-i/2,e[0]],[i,e[1]-e[0]],Jp(n))}}};function Jp(n){return n.isHorizontal()?0:1}function c0(n,t){var e=n.getRect();return[e[lT[t]],e[lT[t]]+e[QE[t]]]}var nz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.type="single",t}(Yt),iz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.init=function(e,i,r){var o=Tl(e);n.prototype.init.apply(this,arguments),uT(e,o)},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),uT(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(st);function uT(n,t){var e,i=n.cellSize;1===(e=ce(i)?i:n.cellSize=[i,i]).length&&(e[1]=e[0]);var r=oe([0,1],function(o){return(null!=(a=t)[bs[s=o][0]]||null!=a[bs[s][1]]&&null!=a[bs[s][2]])&&(e[o]="auto"),null!=e[o]&&"auto"!==e[o];var a,s});pa(n,t,{type:"box",ignoreSize:r})}var rz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r){var o=this.group;o.removeAll();var a=e.coordinateSystem,s=a.getRangeInfo(),l=a.getOrient(),u=i.getLocaleModel();this._renderDayRect(e,s,o),this._renderLines(e,s,l,o),this._renderYearText(e,s,l,o),this._renderMonthText(e,u,l,o),this._renderWeekText(e,u,s,l,o)},t.prototype._renderDayRect=function(e,i,r){for(var o=e.coordinateSystem,a=e.getModel("itemStyle").getItemStyle(),s=o.getCellWidth(),l=o.getCellHeight(),u=i.start.time;u<=i.end.time;u=o.getNextNDay(u,1).time){var h=o.dataToRect([u],!1).tl,c=new ht({shape:{x:h[0],y:h[1],width:s,height:l},cursor:"default",style:a});r.add(c)}},t.prototype._renderLines=function(e,i,r,o){var a=this,s=e.coordinateSystem,l=e.getModel(["splitLine","lineStyle"]).getLineStyle(),u=e.get(["splitLine","show"]),h=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=i.start,p=0;c.time<=i.end.time;p++){g(c.formatedDate),0===p&&(c=s.getDateInfo(i.start.y+"-"+i.start.m));var f=c.date;f.setMonth(f.getMonth()+1),c=s.getDateInfo(f)}function g(m){a._firstDayOfMonth.push(s.getDateInfo(m)),a._firstDayPoints.push(s.dataToRect([m],!1).tl);var y=a._getLinePointsOfOneWeek(e,m,r);a._tlpoints.push(y[0]),a._blpoints.push(y[y.length-1]),u&&a._drawSplitline(y,l,o)}g(s.getNextNDay(i.end.time,1).formatedDate),u&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,h,r),l,o),u&&this._drawSplitline(a._getEdgesPoints(a._blpoints,h,r),l,o)},t.prototype._getEdgesPoints=function(e,i,r){var o=[e[0].slice(),e[e.length-1].slice()],a="horizontal"===r?0:1;return o[0][a]=o[0][a]-i/2,o[1][a]=o[1][a]+i/2,o},t.prototype._drawSplitline=function(e,i,r){var o=new ii({z2:20,shape:{points:e},style:i});r.add(o)},t.prototype._getLinePointsOfOneWeek=function(e,i,r){for(var o=e.coordinateSystem,a=o.getDateInfo(i),s=[],l=0;l<7;l++){var u=o.getNextNDay(a.time,l),h=o.dataToRect([u.time],!1);s[2*u.day]=h.tl,s[2*u.day+1]=h["horizontal"===r?"bl":"tr"]}return s},t.prototype._formatterLabel=function(e,i){return De(e)&&e?(r=e,V(i,function(a,s){r=r.replace("{"+s+"}",a)}),r):ze(e)?e(i):i.nameMap;var r},t.prototype._yearTextPositionControl=function(e,i,r,o,a){var s=i[0],l=i[1],u=["center","bottom"];"bottom"===o?(l+=a,u=["center","top"]):"left"===o?s-=a:"right"===o?(s+=a,u=["center","top"]):l-=a;var h=0;return"left"!==o&&"right"!==o||(h=Math.PI/2),{rotation:h,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(e,i,r,o){var a=e.getModel("yearLabel");if(a.get("show")){var s=a.get("margin"),l=a.get("position");l||(l="horizontal"!==r?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],h=(u[0][0]+u[1][0])/2,c=(u[0][1]+u[1][1])/2,p="horizontal"===r?0:1,f={top:[h,u[p][1]],bottom:[h,u[1-p][1]],left:[u[1-p][0],c],right:[u[p][0],c]},g=i.start.y;+i.end.y>+i.start.y&&(g=g+"-"+i.end.y);var m=a.get("formatter"),x=this._formatterLabel(m,{start:i.start.y,end:i.end.y,nameMap:g}),b=new gt({z2:30,style:$t(a,{text:x})});b.attr(this._yearTextPositionControl(b,f[l],r,l,s)),o.add(b)}},t.prototype._monthTextPositionControl=function(e,i,r,o,a){var s="left",l="top",u=e[0],h=e[1];return"horizontal"===r?(h+=a,i&&(s="center"),"start"===o&&(l="bottom")):(u+=a,i&&(l="middle"),"start"===o&&(s="right")),{x:u,y:h,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(e,i,r,o){var a=e.getModel("monthLabel");if(a.get("show")){var s=a.get("nameMap"),l=a.get("margin"),u=a.get("position"),h=a.get("align"),c=[this._tlpoints,this._blpoints];s&&!De(s)||(s&&(i=Rg(s)||i),s=i.get(["time","monthAbbr"])||[]);var p="start"===u?0:1,f="horizontal"===r?0:1;l="start"===u?-l:l;for(var g="center"===h,m=0;m<c[p].length-1;m++){var y=c[p][m].slice(),x=this._firstDayOfMonth[m];g&&(y[f]=(this._firstDayPoints[m][f]+c[0][m+1][f])/2);var S=a.get("formatter"),M=s[+x.m-1],C={yyyy:x.y,yy:(x.y+"").slice(2),MM:x.m,M:+x.m,nameMap:M},T=this._formatterLabel(S,C),D=new gt({z2:30,style:ae($t(a,{text:T}),this._monthTextPositionControl(y,g,r,u,l))});o.add(D)}}},t.prototype._weekTextPositionControl=function(e,i,r,o,a){var s="center",l="middle",u=e[0],h=e[1],c="start"===r;return"horizontal"===i?(u=u+o+(c?1:-1)*a[0]/2,s=c?"right":"left"):(h=h+o+(c?1:-1)*a[1]/2,l=c?"bottom":"top"),{x:u,y:h,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(e,i,r,o,a){var s=e.getModel("dayLabel");if(s.get("show")){var l=e.coordinateSystem,u=s.get("position"),h=s.get("nameMap"),c=s.get("margin"),p=l.getFirstDayOfWeek();(!h||De(h))&&(h&&(i=Rg(h)||i),h=i.get(["time","dayOfWeekShort"])||oe(i.get(["time","dayOfWeekAbbr"]),function(M){return M[0]}));var f=l.getNextNDay(r.end.time,7-r.lweek).time,g=[l.getCellWidth(),l.getCellHeight()];c=Te(c,Math.min(g[1],g[0])),"start"===u&&(f=l.getNextNDay(r.start.time,-(7+r.fweek)).time,c=-c);for(var m=0;m<7;m++){var y,x=l.getNextNDay(f,m),b=l.dataToRect([x.time],!1).center;y=Math.abs((m+p)%7);var S=new gt({z2:30,style:ae($t(s,{text:h[y]}),this._weekTextPositionControl(b,o,u,c,g))});a.add(S)}}},t.type="calendar",t}(Yt),d0=864e5,oz=function(){function n(t,e,i){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=t}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(t){var e=(t=zi(t)).getFullYear(),i=t.getMonth()+1,r=i<10?"0"+i:""+i,o=t.getDate(),a=o<10?"0"+o:""+o,s=t.getDay();return{y:e+"",m:r,d:a,day:s=Math.abs((s+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+r+"-"+a,date:t}},n.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},n.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[i,7]:[7,i];V([0,1],function(c){h(o,c)&&(a[r[c]]=o[c]*s[c])});var l={width:e.getWidth(),height:e.getHeight()},u=this._rect=In(a,l);function h(c,p){return null!=c[p]&&"auto"!==c[p]}V([0,1],function(c){h(o,c)||(o[c]=u[r[c]]/s[c])}),this._sw=o[0],this._sh=o[1]},n.prototype.dataToPoint=function(t,e){ce(t)&&(t=t[0]),null==e&&(e=!0);var i=this.getDateInfo(t),r=this._rangeInfo;if(e&&!(i.time>=r.start.time&&i.time<r.end.time+d0))return[NaN,NaN];var a=i.day,s=this._getRangeInfo([r.start.time,i.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},n.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},n.prototype.dataToRect=function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},n.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,e-1,r):this._getDateByWeeksAndDay(e,i-1,r)},n.prototype.convertToPixel=function(t,e,i){var r=hT(e);return r===this?r.dataToPoint(i):null},n.prototype.convertFromPixel=function(t,e,i){var r=hT(e);return r===this?r.pointToData(i):null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(ce(e)&&1===e.length&&(e=e[0]),ce(e))t=e;else{var i=e.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var r=this.getDateInfo(i),o=r.date;o.setMonth(o.getMonth()+1);var a=this.getNextNDay(o,-1);t=[r.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return e;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(t){var e,i=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];i[0].time>i[1].time&&(e=!0,i.reverse());var r=Math.floor(i[1].time/d0)-Math.floor(i[0].time/d0)+1,o=new Date(i[0].time),a=o.getDate(),s=i[1].date.getDate();o.setDate(a+r-1);var l=o.getDate();if(l!==s)for(var u=o.getTime()-i[1].time>0?1:-1;(l=o.getDate())!==s&&(o.getTime()-i[1].time)*u>0;)r-=u,o.setDate(l-u);var h=Math.floor((r+i[0].day+6)/7),c=e?1-h:h-1;return e&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:r,weeks:h,nthWeek:c,fweek:i[0].day,lweek:i[1].day}},n.prototype._getDateByWeeksAndDay=function(t,e,i){var r=this._getRangeInfo(i);if(t>r.weeks||0===t&&e<r.fweek||t===r.weeks&&e>r.lweek)return null;var o=7*(t-1)-r.fweek+e,a=new Date(r.start.time);return a.setDate(+r.start.d+o),this.getDateInfo(a)},n.create=function(t,e){var i=[];return t.eachComponent("calendar",function(r){var o=new n(r,t,e);i.push(o),r.coordinateSystem=o}),t.eachSeries(function(r){"calendar"===r.get("coordinateSystem")&&(r.coordinateSystem=i[r.get("calendarIndex")||0])}),i},n.dimensions=["time","value"],n}();function hT(n){var t=n.calendarModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem:null}function cT(n,t){var e;return V(t,function(i){null!=n[i]&&"auto"!==n[i]&&(e=!0)}),e}var dT=["transition","enterFrom","leaveTo"],az=dT.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Qp(n,t,e){if(e&&(!n[e]&&t[e]&&(n[e]={}),n=n[e],t=t[e]),n&&t)for(var i=e?dT:az,r=0;r<i.length;r++){var o=i[r];null==n[o]&&null!=t[o]&&(n[o]=t[o])}}var sz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return Q(t,n),t.prototype.mergeOption=function(e,i){var r=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,e,i),this.option.elements=r},t.prototype.optionUpdated=function(e,i){var r=this.option,o=(i?r:e).elements,a=r.elements=i?[]:r.elements,s=[];this._flatten(o,s,null);var l=d1(a,s,"normalMerge"),u=this._elOptionsToUpdate=[];V(l,function(h,c){var f,g,m,y,x,b,p=h.newOption;p&&(u.push(p),function(f,g){var m=f.existing;if(g.id=f.keyInfo.id,!g.type&&m&&(g.type=m.type),null==g.parentId){var y=g.parentOption;y?g.parentId=y.id:m&&(g.parentId=m.parentId)}g.parentOption=null}(h,p),f=a,g=c,y=ae({},m=p),x=f[g],"merge"===(b=m.$action||"merge")?x?(qe(x,y,!0),pa(x,y,{ignoreSize:!0}),l_(m,x),Qp(m,x),Qp(m,x,"shape"),Qp(m,x,"style"),Qp(m,x,"extra"),m.clipPath=x.clipPath):f[g]=y:"replace"===b?f[g]=y:"remove"===b&&x&&(f[g]=null),function(f,g){if(f&&(f.hv=g.hv=[cT(g,["left","right"]),cT(g,["top","bottom"])],"group"===f.type)){var m=f,y=g;null==m.width&&(m.width=y.width=0),null==m.height&&(m.height=y.height=0)}}(a[c],p))},this),r.elements=dt(a,function(h){return h&&delete h.$action,null!=h})},t.prototype._flatten=function(e,i,r){V(e,function(o){if(o){r&&(o.parentOption=r),i.push(o);var a=o.children;a&&a.length&&this._flatten(a,i,o),delete o.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(st),pT={path:null,compoundPath:null,group:He,image:zn,text:gt},dr=_t(),lz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.init=function(){this._elMap=Ne()},t.prototype.render=function(e,i,r){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,r)},t.prototype._updateElements=function(e){var i=e.useElOptionsToUpdate();if(i){var r=this._elMap,o=this.group,a=e.get("z"),s=e.get("zlevel");V(i,function(l){var u=An(l.id,null),h=null!=u?r.get(u):null,c=An(l.parentId,null),p=null!=c?r.get(c):o,f=l.type,g=l.style;"text"===f&&g&&l.hv&&l.hv[1]&&(g.textVerticalAlign=g.textBaseline=g.verticalAlign=g.align=null);var m=l.textContent,y=l.textConfig;if(g&&vC(g,f,!!y,!!m)){var x=yC(g,f,!0);!y&&x.textConfig&&(y=l.textConfig=x.textConfig),!m&&x.textContent&&(m=x.textContent)}var j,b=(j=ae({},j=l),V(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(s_),function(Z){delete j[Z]}),j),S=l.$action||"merge",M="merge"===S,C="replace"===S;if(M){var T=h;(G=!h)?T=fT(u,p,l.type,r):(T&&(dr(T).isNew=!1),DC(T)),T&&(Up(T,b,e,{isInit:G}),gT(T,l,a,s))}else if(C){ef(h,l,r,e);var D=fT(u,p,l.type,r);D&&(Up(D,b,e,{isInit:!0}),gT(D,l,a,s))}else"remove"===S&&(MC(h,l),ef(h,l,r,e));var k=r.get(u);if(k&&m)if(M){var R=k.getTextContent();R?R.attr(m):k.setTextContent(new gt(m))}else C&&k.setTextContent(new gt(m));if(k){var N=l.clipPath;if(N){var E=N.type,B=void 0,G=!1;if(M){var H=k.getClipPath();B=(G=!H||dr(H).type!==E)?p0(E):H}else C&&(G=!0,B=p0(E));k.setClipPath(B),Up(B,N,e,{isInit:G}),Xp(B,N.keyframeAnimation,e)}var Y=dr(k);k.setTextConfig(y),Y.option=l,function(j,Z,q){var J=Ze(j).eventData;j.silent||j.ignore||J||(J=Ze(j).eventData={componentType:"graphic",componentIndex:Z.componentIndex,name:j.name}),J&&(J.info=q.info)}(k,e,l),wl({el:k,componentModel:e,itemName:k.name,itemTooltipOption:l.tooltip}),Xp(k,l.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,i){for(var r=e.option.elements,o=this.group,a=this._elMap,s=i.getWidth(),l=i.getHeight(),u=["x","y"],h=0;h<r.length;h++)if((y=null!=(m=An((g=r[h]).id,null))?a.get(m):null)&&y.isGroup){var c=(x=y.parent)===o,p=dr(y),f=dr(x);p.width=Te(p.option.width,c?s:f.width)||0,p.height=Te(p.option.height,c?l:f.height)||0}for(h=r.length-1;h>=0;h--){var g,m,y;if(y=null!=(m=An((g=r[h]).id,null))?a.get(m):null){var x=y.parent,b=(f=dr(x),{}),S=Cd(y,g,x===o?{width:s,height:l}:{width:f.width,height:f.height},null,{hv:g.hv,boundingMode:g.bounding},b);if(!dr(y).isNew&&S){for(var M=g.transition,C={},T=0;T<u.length;T++){var D=u[T],k=b[D];M&&(Us(M)||je(M,D)>=0)?C[D]=k:y[D]=k}vt(y,C,e,0)}else y.attr(b)}}},t.prototype._clear=function(){var e=this,i=this._elMap;i.each(function(r){ef(r,dr(r).option,i,e._lastGraphicModel)}),this._elMap=Ne()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Yt);function p0(n){var e=new(Le(pT,n)?pT[n]:pd(n))({});return dr(e).type=n,e}function fT(n,t,e,i){var r=p0(e);return t.add(r),i.set(n,r),dr(r).id=n,dr(r).isNew=!0,r}function ef(n,t,e,i){n&&n.parent&&("group"===n.type&&n.traverse(function(r){ef(r,t,e,i)}),Yp(n,t,i),e.removeKey(dr(n).id))}function gT(n,t,e,i){n.isGroup||V([["cursor",er.prototype.cursor],["zlevel",i||0],["z",e||0],["z2",0]],function(r){var o=r[0];Le(t,o)?n[o]=pe(t[o],r[1]):null==n[o]&&(n[o]=r[1])}),V(tt(t),function(r){if(0===r.indexOf("on")){var o=t[r];n[r]=ze(o)?o:null}}),Le(t,"draggable")&&(n.draggable=t.draggable),null!=t.name&&(n.name=t.name),null!=t.id&&(n.id=t.id)}var mT=["x","y","radius","angle","single"],uz=["cartesian2d","polar","singleAxis"];function Aa(n){return n+"Axis"}function vT(n){var t=n.ecModel,e={infoList:[],infoMap:Ne()};return n.eachTargetAxis(function(i,r){var o=t.getComponent(Aa(i),r);if(o){var a=o.getCoordSysModel();if(a){var s=a.uid,l=e.infoMap.get(s);l||(e.infoList.push(l={model:a,axisModels:[]}),e.infoMap.set(s,l)),l.axisModels.push(o)}}}),e}var f0=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},n}(),fc=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return Q(t,n),t.prototype.init=function(e,i,r){var o=yT(e);this.settledOption=o,this.mergeDefaultAndTheme(e,r),this._doInit(o)},t.prototype.mergeOption=function(e){var i=yT(e);qe(this.option,e,!0),qe(this.settledOption,i,!0),this._doInit(i)},t.prototype._doInit=function(e){var i=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var r=this.settledOption;V([["start","startValue"],["end","endValue"]],function(o,a){"value"===this._rangePropMode[a]&&(i[o[0]]=r[o[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),i=this._targetAxisInfoMap=Ne();this._fillSpecifiedTargetAxis(i)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(r){r.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var i=!1;return V(mT,function(r){var o=this.getReferringComponents(Aa(r),_A);if(o.specified){i=!0;var a=new f0;V(o.models,function(s){a.add(s.componentIndex)}),e.set(r,a)}},this),i},t.prototype._fillAutoTargetAxisByOrient=function(e,i){var r=this.ecModel,o=!0;if(o){var a="vertical"===i?"y":"x";s(r.findComponents({mainType:a+"Axis"}),a)}function s(l,u){var h=l[0];if(h){var c=new f0;if(c.add(h.componentIndex),e.set(u,c),o=!1,"x"===u||"y"===u){var p=h.getReferringComponents("grid",Mn).models[0];p&&V(l,function(f){h.componentIndex!==f.componentIndex&&p===f.getReferringComponents("grid",Mn).models[0]&&c.add(f.componentIndex)})}}}o&&s(r.findComponents({mainType:"singleAxis",filter:function(l){return l.get("orient",!0)===i}}),"single"),o&&V(mT,function(l){if(o){var u=r.findComponents({mainType:Aa(l),filter:function(c){return"category"===c.get("type",!0)}});if(u[0]){var h=new f0;h.add(u[0].componentIndex),e.set(l,h),o=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(i){!e&&(e=i)},this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var i=this._rangePropMode,r=this.get("rangeMode");V([["start","startValue"],["end","endValue"]],function(o,a){var s=null!=e[o[0]],l=null!=e[o[1]];s&&!l?i[a]="percent":!s&&l?i[a]="value":r?i[a]=r[a]:s&&(i[a]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(i,r){null==e&&(e=this.ecModel.getComponent(Aa(i),r))},this),e},t.prototype.eachTargetAxis=function(e,i){this._targetAxisInfoMap.each(function(r,o){V(r.indexList,function(a){e.call(i,o,a)})})},t.prototype.getAxisProxy=function(e,i){var r=this.getAxisModel(e,i);if(r)return r.__dzAxisProxy},t.prototype.getAxisModel=function(e,i){var r=this._targetAxisInfoMap.get(e);if(r&&r.indexMap[i])return this.ecModel.getComponent(Aa(e),i)},t.prototype.setRawRange=function(e){var i=this.option,r=this.settledOption;V([["start","startValue"],["end","endValue"]],function(o){null==e[o[0]]&&null==e[o[1]]||(i[o[0]]=r[o[0]]=e[o[0]],i[o[1]]=r[o[1]]=e[o[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var i=this.option;V(["start","startValue","end","endValue"],function(r){i[r]=e[r]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,i){if(null!=e||null!=i)return this.getAxisProxy(e,i).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var i,r=this._targetAxisInfoMap.keys(),o=0;o<r.length;o++)for(var a=r[o],s=this._targetAxisInfoMap.get(a),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(a,s.indexList[l]);if(u.hostedBy(this))return u;i||(i=u)}return i},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(st);function yT(n){var t={};return V(["start","end","startValue","endValue","throttle"],function(e){n.hasOwnProperty(e)&&(t[e]=n[e])}),t}var cz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.type="dataZoom.select",t}(fc),g0=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r,o){this.dataZoomModel=e,this.ecModel=i,this.api=r},t.type="dataZoom",t}(Yt),dz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.type="dataZoom.select",t}(g0),su=V,xT=Ei,pz=function(){function n(t,e,i,r){this._dimName=t,this._axisIndex=e,this.ecModel=r,this._dataZoomModel=i}return n.prototype.hostedBy=function(t){return this._dataZoomModel===t},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(a=e.get("coordinateSystem"),je(uz,a)>=0){var i=Aa(this._dimName),r=e.getReferringComponents(i,Mn).models[0];r&&this._axisIndex===r.componentIndex&&t.push(e)}var a},this),t},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return Re(this._minMaxSpan)},n.prototype.calculateDataWindow=function(t){var e,i=this._dataExtent,r=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[];su(["start","end"],function(c,p){var f=t[c],g=t[c+"Value"];"percent"===o[p]?(null==f&&(f=a[p]),g=r.parse(kt(f,a,i))):(e=!0,f=kt(g=null==g?i[p]:r.parse(g),i,a)),l[p]=g,s[p]=f}),xT(l),xT(s);var u=this._minMaxSpan;function h(c,p,f,g,m){var y=m?"Span":"ValueSpan";Ws(0,c,f,"all",u["min"+y],u["max"+y]);for(var x=0;x<2;x++)p[x]=kt(c[x],f,g,!0),m&&(p[x]=r.parse(p[x]))}return e?h(l,s,i,a,!1):h(s,l,a,i,!0),{valueWindow:l,percentWindow:s}},n.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(r,o,a){var s=[1/0,-1/0];su(a,function(h){var c,p;c=s,(p=h.getData())&&V(lp(p,o),function(g){var m=p.getApproximateExtent(g);m[0]<c[0]&&(c[0]=m[0]),m[1]>c[1]&&(c[1]=m[1])})});var l=r.getAxisModel(),u=zw(l.axis.scale,l,s).calculate();return[u.min,u.max]}(this,this._dimName,e),this._updateMinMaxSpan();var i=this.calculateDataWindow(t.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var i=this._dimName,r=this.getTargetSeriesModels(),o=t.get("filterMode"),a=this._valueWindow;"none"!==o&&su(r,function(s){var l=s.getData(),u=l.mapDimensionsAll(i);if(u.length){if("weakFilter"===o){var h=l.getStore(),c=oe(u,function(p){return l.getDimensionIndex(p)},l);l.filterSelf(function(p){for(var f,g,m,y=0;y<u.length;y++){var x=h.get(c[y],p),b=!isNaN(x),S=x<a[0],M=x>a[1];if(b&&!S&&!M)return!0;b&&(m=!0),S&&(f=!0),M&&(g=!0)}return m&&f&&g})}else su(u,function(p){if("empty"===o)s.setData(l=l.map(p,function(g){return(m=g)>=a[0]&&m<=a[1]?g:NaN;var m}));else{var f={};f[p]=a,l.selectRange(f)}});su(u,function(p){l.setApproximateExtent(a,p)})}})}},n.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,i=this._dataExtent;su(["min","max"],function(r){var o=e.get(r+"Span"),a=e.get(r+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?o=kt(i[0]+a,i,[0,100],!0):null!=o&&(a=kt(o,[0,100],i,!0)-i[0]),t[r+"Span"]=o,t[r+"ValueSpan"]=a},this)},n.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,i=this._valueWindow;if(e){var r=Of(i,[0,500]);r=Math.min(r,20);var o=t.axis.scale.rawExtentInfo;0!==e[0]&&o.setDeterminedMinMax("min",+i[0].toFixed(r)),100!==e[1]&&o.setDeterminedMinMax("max",+i[1].toFixed(r)),o.freeze()}},n}(),fz={getTargetSeries:function(n){function t(r){n.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(a,s){var l=n.getComponent(Aa(a),s);r(a,s,l,o)})})}t(function(r,o,a,s){a.__dzAxisProxy=null});var e=[];t(function(r,o,a,s){a.__dzAxisProxy||(a.__dzAxisProxy=new pz(r,o,s,n),e.push(a.__dzAxisProxy))});var i=Ne();return V(e,function(r){V(r.getTargetSeriesModels(),function(o){i.set(o.uid,o)})}),i},overallReset:function(n,t){n.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(i,r){e.getAxisProxy(i,r).reset(e)}),e.eachTargetAxis(function(i,r){e.getAxisProxy(i,r).filterData(e,t)})}),n.eachComponent("dataZoom",function(e){var i=e.findRepresentativeAxisProxy();if(i){var r=i.getDataPercentWindow(),o=i.getDataValueWindow();e.setCalculatedRange({start:r[0],end:r[1],startValue:o[0],endValue:o[1]})}})}},_T=!1;function m0(n){_T||(_T=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,fz),function(t){t.registerAction("dataZoom",function(e,i){V(function hz(n,t){var e,i=Ne(),r=[],o=Ne();n.eachComponent({mainType:"dataZoom",query:t},function(l){o.get(l.uid)||s(l)});do{e=!1,n.eachComponent("dataZoom",a)}while(e);function a(l){var h;!o.get(l.uid)&&(h=!1,l.eachTargetAxis(function(c,p){var f=i.get(c);f&&f[p]&&(h=!0)}),h)&&(s(l),e=!0)}function s(l){o.set(l.uid,!0),r.push(l),l.eachTargetAxis(function(u,h){(i.get(u)||i.set(u,[]))[h]=!0})}return r}(i,e),function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function gz(n){n.registerComponentModel(cz),n.registerComponentView(dz),m0(n)}var pr=function(){},bT={};function lu(n,t){bT[n]=t}function wT(n){return bT[n]}var mz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;V(this.option.feature,function(i,r){var o=wT(r);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(e)),qe(i,o.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(st);function ST(n,t){var e=xs(t.get("padding")),i=t.getItemStyle(["color","opacity"]);return i.fill=t.get("backgroundColor"),new ht({shape:{x:n.x-e[3],y:n.y-e[0],width:n.width+e[1]+e[3],height:n.height+e[0]+e[2],r:t.get("borderRadius")},style:i,silent:!0,z2:-1})}var vz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.render=function(e,i,r,o){var f,g,m,y,x,b,S,a=this.group;if(a.removeAll(),e.get("show")){var s=+e.get("itemSize"),l="vertical"===e.get("orient"),u=e.get("feature")||{},h=this._features||(this._features={}),c=[];V(u,function(f,g){c.push(g)}),new ko(this._featureNames||[],c).add(p).update(p).remove(We(p,null)).execute(),this._featureNames=c,f=a,m=r,y=(g=e).getBoxLayoutParams(),x=g.get("padding"),S=In(y,b={width:m.getWidth(),height:m.getHeight()},x),ws(g.get("orient"),f,g.get("itemGap"),S.width,S.height),Cd(f,y,b,x),a.add(ST(a.getBoundingRect(),e)),l||a.eachChild(function(f){var g=f.__title,m=f.ensureState("emphasis"),y=m.textConfig||(m.textConfig={}),x=f.getTextContent(),b=x&&x.ensureState("emphasis");if(b&&!ze(b)&&g){var S=b.style||(b.style={}),M=Be(g,gt.makeFont(S)),C=f.x+a.x,T=!1;f.y+a.y+s+M.height>r.getHeight()&&(y.position="top",T=!0);var D=T?-5-M.height:s+10;C+M.width/2>r.getWidth()?(y.position=["100%",D],S.align="right"):C-M.width/2<0&&(y.position=[0,D],S.align="left")}})}function p(f,g){var m,y=c[f],x=c[g],b=u[y],S=new Ct(b,e,e.ecModel);if(o&&null!=o.newTitle&&o.featureName===y&&(b.title=o.newTitle),y&&!x){if(0===y.indexOf("my"))m={onclick:S.option.onclick,featureName:y};else{var M=wT(y);if(!M)return;m=new M}h[y]=m}else if(!(m=h[x]))return;m.uid=Ml("toolbox-feature"),m.model=S,m.ecModel=i,m.api=r;var C=m instanceof pr;y||!x?!S.get("show")||C&&m.unusable?C&&m.remove&&m.remove(i,r):(function(T,D,k){var R,N,E=T.getModel("iconStyle"),B=T.getModel(["emphasis","iconStyle"]),G=D instanceof pr&&D.getIcons?D.getIcons():T.get("icon"),H=T.get("title")||{};De(G)?(R={})[k]=G:R=G,De(H)?(N={})[k]=H:N=H;var Y=T.iconPaths={};V(R,function(j,Z){var q=bl(j,{},{x:-s/2,y:-s/2,width:s,height:s});q.setStyle(E.getItemStyle()),q.ensureState("emphasis").style=B.getItemStyle();var J=new gt({style:{text:N[Z],align:B.get("textAlign"),borderRadius:B.get("textBorderRadius"),padding:B.get("textPadding"),fill:null},ignore:!0});q.setTextContent(J),wl({el:q,componentModel:e,itemName:Z,formatterParamsExtra:{title:N[Z]}}),q.__title=N[Z],q.on("mouseover",function(){var te=B.getItemStyle(),ne=l?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";J.setStyle({fill:B.get("textFill")||te.fill||te.stroke||"#000",backgroundColor:B.get("textBackgroundColor")}),q.setTextConfig({position:B.get("textPosition")||ne}),J.ignore=!e.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==T.get(["iconStatus",Z])&&r.leaveEmphasis(this),J.hide()}),("emphasis"===T.get(["iconStatus",Z])?Co:To)(q),a.add(q),q.on("click",F(D.onclick,D,i,r,Z)),Y[Z]=q})}(S,m,y),S.setIconStatus=function(T,D){var k=this.option,R=this.iconPaths;k.iconStatus=k.iconStatus||{},k.iconStatus[T]=D,R[T]&&("emphasis"===D?Co:To)(R[T])},m instanceof pr&&m.render&&m.render(S,i,r,o)):C&&m.dispose&&m.dispose(i,r)}},t.prototype.updateView=function(e,i,r,o){V(this._features,function(a){a instanceof pr&&a.updateView&&a.updateView(a.model,i,r,o)})},t.prototype.remove=function(e,i){V(this._features,function(r){r instanceof pr&&r.remove&&r.remove(e,i)}),this.group.removeAll()},t.prototype.dispose=function(e,i){V(this._features,function(r){r instanceof pr&&r.dispose&&r.dispose(e,i)})},t.type="toolbox",t}(Yt),yz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.onclick=function(e,i){var r=this.model,o=r.get("name")||e.get("title.0.text")||"echarts",a="svg"===i.getZr().painter.getType(),s=a?"svg":r.get("type",!0)||"png",l=i.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),u=$e.browser;if(ze(MouseEvent)&&(u.newEdge||!u.ie&&!u.edge)){var h=document.createElement("a");h.download=o+"."+s,h.target="_blank",h.href=l;var c=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});h.dispatchEvent(c)}else if(window.navigator.msSaveOrOpenBlob||a){var p=l.split(","),f=p[0].indexOf("base64")>-1,g=a?decodeURIComponent(p[1]):p[1];f&&(g=window.atob(g));var m=o+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var y=g.length,x=new Uint8Array(y);y--;)x[y]=g.charCodeAt(y);var b=new Blob([x]);window.navigator.msSaveOrOpenBlob(b,m)}else{var S=document.createElement("iframe");document.body.appendChild(S);var M=S.contentWindow,C=M.document;C.open("image/svg+xml","replace"),C.write(g),C.close(),M.focus(),C.execCommand("SaveAs",!0,m),document.body.removeChild(S)}}else{var T=r.get("lang"),D='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(T&&T[0]||"")+'" /></body>',k=window.open();k.document.write(D),k.document.title=o}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(pr),MT="__ec_magicType_stack__",xz=[["line","bar"],["stack"]],_z=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.getIcons=function(){var e=this.model,i=e.get("icon"),r={};return V(e.get("type"),function(o){i[o]&&(r[o]=i[o])}),r},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,i,r){var o=this.model,a=o.get(["seriesIndex",r]);if(IT[r]){var s,l={series:[]};V(xz,function(h){je(h,r)>=0&&V(h,function(c){o.setIconStatus(c,"normal")})}),o.setIconStatus(r,"emphasis"),e.eachComponent({mainType:"series",query:null==a?null:{seriesIndex:a}},function(h){var f=IT[r](h.subType,h.id,h,o);f&&(Ee(f,h.option),l.series.push(f));var g=h.coordinateSystem;if(g&&"cartesian2d"===g.type&&("line"===r||"bar"===r)){var m=g.getAxesByScale("ordinal")[0];if(m){var y=m.dim+"Axis",x=h.getReferringComponents(y,Mn).models[0].componentIndex;l[y]=l[y]||[];for(var b=0;b<=x;b++)l[y][x]=l[y][x]||{};l[y][x].boundaryGap="bar"===r}}});var u=r;"stack"===r&&(s=qe({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),"emphasis"!==o.get(["iconStatus",r])&&(u="tiled")),i.dispatchAction({type:"changeMagicType",currentType:u,newOption:l,newTitle:s,featureName:"magicType"})}},t}(pr),IT={line:function(n,t,e,i){if("bar"===n)return qe({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,t,e,i){if("line"===n)return qe({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,t,e,i){var r=e.get("stack")===MT;if("line"===n||"bar"===n)return i.setIconStatus("stack",r?"normal":"emphasis"),qe({id:t,stack:r?"":MT},i.get(["option","stack"])||{},!0)}};Or({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});var tf=new Array(60).join("-");function nf(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var v0=new RegExp("[\t]+","g"),wz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.onclick=function(e,i){setTimeout(function(){i.dispatchAction({type:"hideTip"})});var r=i.getDom(),o=this.model;this._dom&&r.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin:10px 20px",s.style.color=o.get("textColor");var u=document.createElement("div"),h=document.createElement("textarea");u.style.cssText="overflow:auto";var k,R,N,G,H,Y,E,c=o.get("optionToContent"),p=o.get("contentToOption"),f=(G={},H=[],Y=[],e.eachRawSeries(function(j){var Z=j.coordinateSystem;if(!Z||"cartesian2d"!==Z.type&&"polar"!==Z.type)H.push(j);else{var q=Z.getBaseAxis();if("category"===q.type){var J=q.dim+"_"+q.index;G[J]||(G[J]={categoryAxis:q,valueAxis:Z.getOtherAxis(q),series:[]},Y.push({axisDim:q.dim,axisIndex:q.index})),G[J].series.push(j)}else H.push(j)}}),{value:dt([(R=(E={seriesGroupByCategoryAxis:G,other:H,meta:Y}).seriesGroupByCategoryAxis,N=[],V(R,function(B,G){var H=B.categoryAxis,Y=B.valueAxis.dim,j=[" "].concat(oe(B.series,function(le){return le.name})),Z=[H.model.getCategories()];V(B.series,function(le){var ye=le.getRawData();Z.push(le.getRawData().mapArray(ye.mapDimension(Y),function(ie){return ie}))});for(var q=[j.join("\t")],J=0;J<Z[0].length;J++){for(var te=[],ne=0;ne<Z.length;ne++)te.push(Z[ne][J]);q.push(te.join("\t"))}N.push(q.join("\n"))}),N.join("\n\n"+tf+"\n\n")),(k=E.other,oe(k,function(B){var G=B.getRawData(),H=[B.name],Y=[];return G.each(G.dimensions,function(){for(var j=arguments.length,Z=arguments[j-1],q=G.getName(Z),J=0;J<j-1;J++)Y[J]=arguments[J];H.push((q?q+"\t":"")+Y.join("\t"))}),H.join("\n")}).join("\n\n"+tf+"\n\n"))],function(B){return!!B.replace(/[\n\t\s]/g,"")}).join("\n\n"+tf+"\n\n"),meta:E.meta});if(ze(c)){var g=c(i.getOption());De(g)?u.innerHTML=g:Hi(g)&&u.appendChild(g)}else{h.readOnly=o.get("readOnly");var m=h.style;m.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",m.color=o.get("textColor"),m.borderColor=o.get("textareaBorderColor"),m.backgroundColor=o.get("textareaColor"),h.value=f.value,u.appendChild(h)}var y=f.meta,x=document.createElement("div");x.style.cssText="position:absolute;bottom:5px;left:0;right:0";var b="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",S=document.createElement("div"),M=document.createElement("div");b+=";background-color:"+o.get("buttonColor"),b+=";color:"+o.get("buttonTextColor");var C=this;function T(){r.removeChild(a),C._dom=null}Ba(S,"click",T),Ba(M,"click",function(){if(null==p&&null!=c||null!=p&&null==c)T();else{var D;try{D=ze(p)?p(u,i.getOption()):function bz(n,t){var e=n.split(new RegExp("\n*"+tf+"\n*","g")),i={series:[]};return V(e,function(r,o){if(function(u){if(u.slice(0,u.indexOf("\n")).indexOf("\t")>=0)return!0}(r)){var a=function(u){for(var h=u.split(/\n+/g),c=[],p=oe(nf(h.shift()).split(v0),function(y){return{name:y,data:[]}}),f=0;f<h.length;f++){var g=nf(h[f]).split(v0);c.push(g.shift());for(var m=0;m<g.length;m++)p[m]&&(p[m].data[f]=g[m])}return{series:p,categories:c}}(r),s=t[o],l=s.axisDim+"Axis";s&&(i[l]=i[l]||[],i[l][s.axisIndex]={data:a.categories},i.series=i.series.concat(a.series))}else a=function(u){for(var h=u.split(/\n+/g),c=nf(h.shift()),p=[],f=0;f<h.length;f++){var g=nf(h[f]);if(g){var m=g.split(v0),y="",x=void 0,b=!1;isNaN(m[0])?(b=!0,y=m[0],m=m.slice(1),p[f]={name:y,value:[]},x=p[f].value):x=p[f]=[];for(var S=0;S<m.length;S++)x.push(+m[S]);1===x.length&&(b?p[f].value=x[0]:p[f]=x[0])}}return{name:c,data:p}}(r),i.series.push(a)}),i}(h.value,y)}catch(k){throw T(),new Error("Data view format error "+k)}D&&i.dispatchAction({type:"changeDataView",newOption:D}),T()}}),S.innerHTML=l[1],M.innerHTML=l[2],M.style.cssText=S.style.cssText=b,!o.get("readOnly")&&x.appendChild(M),x.appendChild(S),a.appendChild(s),a.appendChild(u),a.appendChild(x),u.style.height=r.clientHeight-80+"px",r.appendChild(a),this._dom=a},t.prototype.remove=function(e,i){this._dom&&i.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,i){this.remove(e,i)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(pr);function Sz(n,t){return oe(n,function(e,i){var r=t&&t[i];if(Oe(r)&&!ce(r)){Oe(e)&&!ce(e)||(e={value:e});var o=null!=r.name&&null==e.name;return e=Ee(e,r),o&&delete e.name,e}return e})}Or({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,t){var e=[];V(n.newOption.series,function(i){var r=t.getSeriesByName(i.name)[0];if(r){var o=r.get("data");e.push({name:i.name,data:Sz(i.data,o)})}else e.push(ae({type:"scatter"},i))}),t.mergeOption(Ee({series:e},n.newOption))});var CT=V,TT=_t();function y0(n){var t=TT(n);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var Mz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.onclick=function(e,i){TT(e).snapshots=null,i.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(pr);Or({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});var Iz=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],x0=function(){function n(t,e,i){var r=this;this._targetInfoList=[];var o=DT(e,t);V(Cz,function(a,s){(!i||!i.include||je(i.include,s)>=0)&&a(o,r._targetInfoList)})}return n.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(i,r,o){if((i.coordRanges||(i.coordRanges=[])).push(r),!i.coordRange){i.coordRange=r;var a=b0[i.brushType](0,o,r);i.__rangeOffset={offset:PT[i.brushType](a.values,i.range,[1,1]),xyMinMax:a.xyMinMax}}}),t},n.prototype.matchOutputRanges=function(t,e,i){V(t,function(r){var o=this.findTargetInfo(r,e);o&&!0!==o&&V(o.coordSyses,function(a){var s=b0[r.brushType](1,a,r.range,!0);i(r,s.values,a,e)})},this)},n.prototype.setInputRanges=function(t,e){V(t,function(i){var o,a,s,l,u=this.findTargetInfo(i,e);if(i.range=i.range||[],u&&!0!==u){i.panelId=u.panelId;var h=b0[i.brushType](0,u.coordSys,i.coordRange),c=i.__rangeOffset;i.range=c?PT[i.brushType](h.values,c.offset,(o=c.xyMinMax,a=RT(h.xyMinMax),s=RT(o),l=[a[0]/s[0],a[1]/s[1]],isNaN(l[0])&&(l[0]=1),isNaN(l[1])&&(l[1]=1),l)):h.values}},this)},n.prototype.makePanelOpts=function(t,e){return oe(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e?e(i):null,clipPath:kI(r),isTargetByCursor:PI(r,t,i.coordSysModel),getLinearBrushOtherExtent:LI(r)}})},n.prototype.controlSeries=function(t,e,i){var r=this.findTargetInfo(t,i);return!0===r||r&&je(r.coordSyses,e.coordinateSystem)>=0},n.prototype.findTargetInfo=function(t,e){for(var i=this._targetInfoList,r=DT(e,t),o=0;o<i.length;o++){var a=i[o],s=t.panelId;if(s){if(a.panelId===s)return a}else for(var l=0;l<AT.length;l++)if(AT[l](r,a))return a}return!0},n}();function _0(n){return n[0]>n[1]&&n.reverse(),n}function DT(n,t){return ju(n,t,{includeMainTypes:Iz})}var Cz={grid:function(n,t){var e=n.xAxisModels,i=n.yAxisModels,r=n.gridModels,o=Ne(),a={},s={};(e||i||r)&&(V(e,function(l){var u=l.axis.grid.model;o.set(u.id,u),a[u.id]=!0}),V(i,function(l){var u=l.axis.grid.model;o.set(u.id,u),s[u.id]=!0}),V(r,function(l){o.set(l.id,l),a[l.id]=!0,s[l.id]=!0}),o.each(function(l){var h=[];V(l.coordinateSystem.getCartesians(),function(c,p){(je(e,c.getAxis("x").model)>=0||je(i,c.getAxis("y").model)>=0)&&h.push(c)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:h[0],coordSyses:h,getPanelRect:kT.grid,xAxisDeclared:a[l.id],yAxisDeclared:s[l.id]})}))},geo:function(n,t){V(n.geoModels,function(e){var i=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:i,coordSyses:[i],getPanelRect:kT.geo})})}},AT=[function(n,t){var e=n.xAxisModel,i=n.yAxisModel,r=n.gridModel;return!r&&e&&(r=e.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===t.gridModel},function(n,t){var e=n.geoModel;return e&&e===t.geoModel}],kT={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(ha(n)),t}},b0={lineX:We(LT,0),lineY:We(LT,1),rect:function(n,t,e,i){var r=n?t.pointToData([e[0][0],e[1][0]],i):t.dataToPoint([e[0][0],e[1][0]],i),o=n?t.pointToData([e[0][1],e[1][1]],i):t.dataToPoint([e[0][1],e[1][1]],i),a=[_0([r[0],o[0]]),_0([r[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(n,t,e,i){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:oe(e,function(o){var a=n?t.pointToData(o,i):t.dataToPoint(o,i);return r[0][0]=Math.min(r[0][0],a[0]),r[1][0]=Math.min(r[1][0],a[1]),r[0][1]=Math.max(r[0][1],a[0]),r[1][1]=Math.max(r[1][1],a[1]),a}),xyMinMax:r}}};function LT(n,t,e,i){var r=e.getAxis(["x","y"][n]),o=_0(oe([0,1],function(s){return t?r.coordToData(r.toLocalCoord(i[s]),!0):r.toGlobalCoord(r.dataToCoord(i[s]))})),a=[];return a[n]=o,a[1-n]=[NaN,NaN],{values:o,xyMinMax:a}}var PT={lineX:We(OT,0),lineY:We(OT,1),rect:function(n,t,e){return[[n[0][0]-e[0]*t[0][0],n[0][1]-e[0]*t[0][1]],[n[1][0]-e[1]*t[1][0],n[1][1]-e[1]*t[1][1]]]},polygon:function(n,t,e){return oe(n,function(i,r){return[i[0]-e[0]*t[r][0],i[1]-e[1]*t[r][1]]})}};function OT(n,t,e,i){return[t[0]-i[n]*e[0],t[1]-i[n]*e[1]]}function RT(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var S0,M0=V,Dz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.render=function(e,i,r,o){this._brushController||(this._brushController=new Sy(r.getZr()),this._brushController.on("brush",F(this._onBrush,this)).mount()),function(a,s,l,u,h){var c=l._isZoomActive;u&&"takeGlobalCursor"===u.type&&(c="dataZoomSelect"===u.key&&u.dataZoomSelectActive),l._isZoomActive=c,a.setIconStatus("zoom",c?"emphasis":"normal");var p=new x0(I0(a),s,{include:["grid"]}).makePanelOpts(h,function(f){return f.xAxisDeclared&&!f.yAxisDeclared?"lineX":!f.xAxisDeclared&&f.yAxisDeclared?"lineY":"rect"});l._brushController.setPanels(p).enableBrush(!(!c||!p.length)&&{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()})}(e,i,this,o,r),e.setIconStatus("back",y0(i).length>1?"emphasis":"normal")},t.prototype.onclick=function(e,i,r){Az[r].call(this)},t.prototype.remove=function(e,i){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,i){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var s,l,u,i=e.areas;if(e.isEnd&&i.length){var r={},o=this.ecModel;this._brushController.updateCovers([]),new x0(I0(this.model),o,{include:["grid"]}).matchOutputRanges(i,o,function(s,l,u){if("cartesian2d"===u.type){var h=s.brushType;"rect"===h?(a("x",u,l[0]),a("y",u,l[1])):a({lineX:"x",lineY:"y"}[h],u,l)}}),l=r,u=y0(s=o),CT(l,function(h,c){for(var p=u.length-1;p>=0&&!u[p][c];p--);if(p<0){var f=s.queryComponents({mainType:"dataZoom",subType:"select",id:c})[0];if(f){var g=f.getPercentRange();u[0][c]={dataZoomId:c,start:g[0],end:g[1]}}}}),u.push(l),this._dispatchZoomAction(r)}function a(s,l,u){var g,m,x,h=l.getAxis(s),c=h.model,p=(g=s,m=c,o.eachComponent({mainType:"dataZoom",subType:"select"},function(b){b.getAxisModel(g,m.componentIndex)&&(x=b)}),x),f=p.findRepresentativeAxisProxy(c).getMinMaxSpan();null==f.minValueSpan&&null==f.maxValueSpan||(u=Ws(0,u.slice(),h.scale.getExtent(),0,f.minValueSpan,f.maxValueSpan)),p&&(r[p.id]={dataZoomId:p.id,startValue:u[0],endValue:u[1]})}},t.prototype._dispatchZoomAction=function(e){var i=[];M0(e,function(r,o){i.push(Re(r))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(pr),Az={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function(n){var t=y0(n),e=t[t.length-1];t.length>1&&t.pop();var i={};return CT(e,function(r,o){for(var a=t.length-1;a>=0;a--)if(r=t[a][o]){i[o]=r;break}}),i}(this.ecModel))}};function I0(n){var t={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}S0=function(n){var t=n.getComponent("toolbox",0),e=["feature","dataZoom"];if(t&&null!=t.get(e)){var i=t.getModel(e),r=[],o=ju(n,I0(i));return M0(o.xAxisModels,function(s){return a(s,"xAxis","xAxisIndex")}),M0(o.yAxisModels,function(s){return a(s,"yAxis","yAxisIndex")}),r}function a(s,l,u){var h=s.componentIndex,c={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:"\0_ec_\0toolbox-dataZoom_"+l+h};c[u]=h,r.push(c)}},mt(null==Xg.get("dataZoom")&&S0),Xg.set("dataZoom",S0);var kz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(st);function NT(n){var t=n.get("confine");return null!=t?!!t:"richText"===n.get("renderMode")}function ET(n){if($e.domSupported)for(var t=document.documentElement.style,e=0,i=n.length;e<i;e++)if(n[e]in t)return n[e]}var zT=ET(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function BT(n,t){if(!n)return t;t=Bg(t,!0);var e=n.indexOf(t);return(n=-1===e?t:"-"+n.slice(0,e)+"-"+t).toLowerCase()}var Lz=BT(ET(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),C0=BT(zT,"transform"),Pz="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+($e.transform3dSupported?"will-change:transform;":"");function VT(n,t,e){var i=n.toFixed(0)+"px",r=t.toFixed(0)+"px";if(!$e.transformSupported)return e?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=$e.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return e?"top:0;left:0;"+C0+":"+a+";":[["top",0],["left",0],[zT,a]]}function FT(n,t,e,i,r){var l,h,o=t&&t.painter;if(e){var a=o&&o.getViewportRoot();a&&(l=n,h=document.body,vu(xr,a,i,r,!0)&&vu(l,h,xr[0],xr[1]))}else{n[0]=i,n[1]=r;var s=o&&o.getViewportRootOffset();s&&(n[0]+=s.offsetLeft,n[1]+=s.offsetTop)}n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var Rz=function(){function n(t,e,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,$e.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=e.getZr(),a=this._appendToBody=i&&i.appendToBody;FT(this._styleCoord,o,a,e.getWidth()/2,e.getHeight()/2),a?document.body.appendChild(r):t.appendChild(r),this._container=t;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=o.handler;On(o.painter.getViewportRoot(),l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return n.prototype.update=function(t){var e,r,o=this._container,a=("position",(r=(e=o).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?r.position:null),s=o.style;"absolute"!==s.position&&"absolute"!==a&&(s.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},n.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,o=this._styleCoord;i.innerHTML?r.cssText=Pz+function Oz(n,t,e){var f,y,x,i=[],r=n.get("transitionDuration"),o=n.get("backgroundColor"),a=n.get("shadowBlur"),s=n.get("shadowColor"),l=n.get("shadowOffsetX"),u=n.get("shadowOffsetY"),h=n.getModel("textStyle"),c=lb(n,"html");return i.push("box-shadow:"+l+"px "+u+"px "+a+"px "+s),t&&r&&i.push((x="opacity"+(y=" "+(f=r)/2+"s "+"cubic-bezier(0.23,1,0.32,1)")+",visibility"+y,e||(y=" "+f+"s cubic-bezier(0.23,1,0.32,1)",x+=$e.transformSupported?","+C0+y:",left"+y+",top"+y),Lz+":"+x)),o&&i.push("background-color:"+o),V(["width","color","radius"],function(f){var g="border-"+f,m=Bg(g),y=n.get(m);null!=y&&i.push(g+":"+y+("color"===f?"":"px"))}),i.push(function(f){var g=[],m=f.get("fontSize"),y=f.getTextColor();y&&g.push("color:"+y),g.push("font:"+f.getFont()),m&&g.push("line-height:"+Math.round(3*m/2)+"px");var x=f.get("textShadowColor"),b=f.get("textShadowBlur")||0,S=f.get("textShadowOffsetX")||0,M=f.get("textShadowOffsetY")||0;return x&&b&&g.push("text-shadow:"+S+"px "+M+"px "+b+"px "+x),V(["decoration","align"],function(C){var T=f.get(C);T&&g.push("text-"+C+":"+T)}),g.join(";")}(h)),null!=c&&i.push("padding:"+xs(c).join("px ")+"px"),i.join(";")+";"}(t,!this._firstShow,this._longHide)+VT(o[0],o[1],!0)+"border-color:"+_s(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(t,e,i,r,o){var a=this.el;if(null!=t){var s="";if(De(o)&&"item"===i.get("trigger")&&!NT(i)&&(s=function(h,c,p){if(!De(p)||"inside"===p)return"";var f=h.get("backgroundColor"),g=h.get("borderWidth");c=_s(c);var m,y,x="left"===(m=p)?"right":"right"===m?"left":"top"===m?"bottom":"top",b=Math.max(1.5*Math.round(g),6),S="",M=C0+":";je(["left","right"],x)>-1?(S+="top:50%",M+="translateY(-50%) rotate("+(y="left"===x?-225:-45)+"deg)"):(S+="left:50%",M+="translateX(-50%) rotate("+(y="top"===x?225:45)+"deg)");var C=y*Math.PI/180,T=b+g,D=T*Math.abs(Math.cos(C))+T*Math.abs(Math.sin(C)),k=c+" solid "+g+"px;";return'<div style="'+["position:absolute;width:"+b+"px;height:"+b+"px;",(S+=";"+x+":-"+Math.round(100*((D-Math.SQRT2*g)/2+Math.SQRT2*g-(D-T)/2))/100+"px")+";"+M+";","border-bottom:"+k,"border-right:"+k,"background-color:"+f+";"].join("")+'"></div>'}(i,r,o)),De(t))a.innerHTML=t+s;else if(t){a.innerHTML="",ce(t)||(t=[t]);for(var l=0;l<t.length;l++)Hi(t[l])&&t[l].parentNode!==a&&a.appendChild(t[l]);if(s&&a.childNodes.length){var u=document.createElement("div");u.innerHTML=s,a.appendChild(u)}}}else a.innerHTML=""},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},n.prototype.moveTo=function(t,e){var i=this._styleCoord;if(FT(i,this._zr,this._appendToBody,t,e),null!=i[0]&&null!=i[1]){var r=this.el.style;V(VT(i[0],i[1]),function(o){r[o[0]]=o[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",$e.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},n.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(F(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}(),Nz=function(){function n(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),GT(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return n.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(t,e,i,r,o){var a=this;Oe(t)&&Dt(""),this.el&&this._zr.remove(this.el);var s=i.getModel("textStyle");this.el=new gt({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:s.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:lb(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),V(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){a.el.style[u]=i.get(u)}),V(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){a.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),i=WT(t.style);return[e.width+i.left+i.right,e.height+i.top+i.bottom]},n.prototype.moveTo=function(t,e){var i=this.el;if(i){var r=this._styleCoord;GT(r,this._zr,t,e),t=r[0],e=r[1];var o=i.style,a=ka(o.borderWidth||0),s=WT(o);i.x=t+a+s.left,i.y=e+a+s.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(F(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function ka(n){return Math.max(0,n)}function WT(n){var t=ka(n.shadowBlur||0),e=ka(n.shadowOffsetX||0),i=ka(n.shadowOffsetY||0);return{left:ka(t-e),right:ka(t+e),top:ka(t-i),bottom:ka(t+i)}}function GT(n,t,e,i){n[0]=e,n[1]=i,n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var Ez=new ht({shape:{x:-1,y:-1,width:2,height:2}}),zz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.init=function(e,i){if(!$e.node&&i.getDom()){var r,o=e.getComponent("tooltip"),a=this._renderMode="auto"===(r=o.get("renderMode"))?$e.domSupported?"html":"richText":r||"html";this._tooltipContent="richText"===a?new Nz(i):new Rz(i.getDom(),i,{appendToBody:o.get("appendToBody",!0)})}},t.prototype.render=function(e,i,r){if(!$e.node&&r.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=i,this._api=r,this._alwaysShowContent=e.get("alwaysShowContent");var o=this._tooltipContent;o.update(e),o.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?zl(this,"_updatePosition",50,"fixRate"):wh(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");ZC("itemTooltip",this._api,F(function(i,r,o){"none"!==e&&(e.indexOf(i)>=0?this._tryShow(r,o):"leave"===i&&this._hide(o))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,i=this._ecModel,r=this._api,o=e.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==o&&"click"!==o){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&a.manuallyShowTip(e,i,r,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,i,r,o){if(o.from!==this.uid&&!$e.node&&r.getDom()){var a=HT(o,r);this._ticket="";var s=o.dataByCoordSys,l=function(g,m,y){var x=Ff(g).queryOptionMap,b=x.keys()[0];if(b&&"series"!==b){var S,M=Zu(m,b,x.get(b),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(M&&(y.getViewOfComponentModel(M).group.traverse(function(C){var T=Ze(C).tooltipConfig;if(T&&T.name===g.name)return S=C,!0}),S))return{componentMainType:b,componentIndex:M.componentIndex,el:S}}}(o,i,r);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&null!=o.x&&null!=o.y){var h=Ez;h.x=o.x,h.y=o.y,h.update(),Ze(h).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:h},a)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},a);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(e,i,r,o))return;var c=KC(o,i),p=c.point[0],f=c.point[1];null!=p&&null!=f&&this._tryShow({offsetX:p,offsetY:f,target:c.el,position:o.position,positionDefault:"bottom"},a)}else null!=o.x&&null!=o.y&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},a))}},t.prototype.manuallyHideTip=function(e,i,r,o){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(HT(o,r))},t.prototype._manuallyAxisShowTip=function(e,i,r,o){var a=o.seriesIndex,s=o.dataIndex,l=i.getComponent("axisPointer").coordSysAxesInfo;if(null!=a&&null!=s&&null!=l){var u=i.getSeriesByIndex(a);if(u&&"axis"===mc([u.getData().getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return r.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:o.position}),!0}},t.prototype._tryShow=function(e,i){var r=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(r){var a,s;this._lastDataByCoordSys=null,Vl(r,function(l){return null!=Ze(l).dataIndex?(a=l,!0):null!=Ze(l).tooltipConfig?(s=l,!0):void 0},!0),a?this._showSeriesItemTooltip(e,a,i):s?this._showComponentItemTooltip(e,s,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},t.prototype._showOrMove=function(e,i){var r=e.get("showDelay");i=F(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},t.prototype._showAxisTooltip=function(e,i){var r=this._ecModel,o=this._tooltipModel,a=[i.offsetX,i.offsetY],s=mc([i.tooltipOption],o),l=this._renderMode,u=[],h=Bn("section",{blocks:[],noHeader:!0}),c=[],p=new hm;V(e,function(b){V(b.dataByAxis,function(S){var M=r.getComponent(S.axisDim+"Axis",S.axisIndex),C=S.value;if(M&&null!=C){var T=GC(C,M.axis,r,S.seriesDataIndices,S.valueLabelOpt),D=Bn("section",{header:T,noHeader:!wn(T),sortBlocks:!0,blocks:[]});h.blocks.push(D),V(S.seriesDataIndices,function(k){var R=r.getSeriesByIndex(k.seriesIndex),N=k.dataIndexInside,E=R.getDataParams(N);if(!(E.dataIndex<0)){E.axisDim=S.axisDim,E.axisIndex=S.axisIndex,E.axisType=S.axisType,E.axisId=S.axisId,E.axisValue=qm(M.axis,{value:C}),E.axisValueLabel=T,E.marker=p.makeTooltipMarker("item",_s(E.color),l);var B=H_(R.formatTooltip(N,!0,null)),G=B.frag;if(G){var H=mc([R],o).get("valueFormatter");D.blocks.push(H?ae({valueFormatter:H},G):G)}B.text&&c.push(B.text),u.push(E)}})}})}),h.blocks.reverse(),c.reverse();var f=i.position,g=s.get("order"),m=ob(h,p,l,g,r.get("useUTC"),s.get("textStyle"));m&&c.unshift(m);var x=c.join("richText"===l?"\n\n":"<br/>");this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(e,u)?this._updatePosition(s,f,a[0],a[1],this._tooltipContent,u):this._showTooltipContent(s,x,u,Math.random()+"",a[0],a[1],f,null,p)})},t.prototype._showSeriesItemTooltip=function(e,i,r){var o=this._ecModel,a=Ze(i),s=a.seriesIndex,l=o.getSeriesByIndex(s),u=a.dataModel||l,h=a.dataIndex,c=a.dataType,p=u.getData(c),f=this._renderMode,g=e.positionDefault,m=mc([p.getItemModel(h),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null),y=m.get("trigger");if(null==y||"item"===y){var x=u.getDataParams(h,c),b=new hm;x.marker=b.makeTooltipMarker("item",_s(x.color),f);var S=H_(u.formatTooltip(h,!1,c)),M=m.get("order"),C=m.get("valueFormatter"),T=S.frag,D=T?ob(C?ae({valueFormatter:C},T):T,b,f,M,o.get("useUTC"),m.get("textStyle")):S.text,k="item_"+u.name+"_"+h;this._showOrMove(m,function(){this._showTooltipContent(m,D,x,k,e.offsetX,e.offsetY,e.position,e.target,b)}),r({type:"showTip",dataIndexInside:h,dataIndex:p.getRawIndex(h),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,i,r){var o=Ze(i),a=o.tooltipConfig.option||{};De(a)&&(a={content:a,formatter:a});var s=[a],l=this._ecModel.getComponent(o.componentMainType,o.componentIndex);l&&s.push(l),s.push({formatter:a.content});var u=e.positionDefault,h=mc(s,this._tooltipModel,u?{position:u}:null),c=h.get("content"),p=Math.random()+"",f=new hm;this._showOrMove(h,function(){var g=Re(h.get("formatterParams")||{});this._showTooltipContent(h,c,g,p,e.offsetX,e.offsetY,e.position,i,f)}),r({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,i,r,o,a,s,l,u,h){if(this._ticket="",e.get("showContent")&&e.get("show")){var c=this._tooltipContent;c.setEnterable(e.get("enterable"));var p=e.get("formatter");l=l||e.get("position");var f=i,g=this._getNearestPoint([a,s],r,e.get("trigger"),e.get("borderColor")).color;if(p)if(De(p)){var m=e.ecModel.get("useUTC"),y=ce(r)?r[0]:r;f=p,y&&y.axisType&&y.axisType.indexOf("time")>=0&&(f=ph(y.axisValue,f,m)),f=Wg(f,r,!0)}else if(ze(p)){var x=F(function(b,S){b===this._ticket&&(c.setContent(S,h,e,g,l),this._updatePosition(e,l,a,s,c,r,u))},this);this._ticket=o,f=p(r,o,x)}else f=p;c.setContent(f,h,e,g,l),c.show(e,g),this._updatePosition(e,l,a,s,c,r,u)}},t.prototype._getNearestPoint=function(e,i,r,o){return"axis"===r||ce(i)?{color:o||("html"===this._renderMode?"#fff":"none")}:ce(i)?void 0:{color:o||i.color||i.borderColor}},t.prototype._updatePosition=function(e,i,r,o,a,s,l){var u=this._api.getWidth(),h=this._api.getHeight();i=i||e.get("position");var b,S,C,T,D,k,R,N,E,c=a.getSize(),p=e.get("align"),f=e.get("verticalAlign"),g=l&&l.getBoundingRect().clone();if(l&&g.applyTransform(l.transform),ze(i)&&(i=i([r,o],s,a.el,g,{viewSize:[u,h],contentSize:c.slice()})),ce(i))r=Te(i[0],u),o=Te(i[1],h);else if(Oe(i)){var m=i;m.width=c[0],m.height=c[1];var y=In(m,{width:u,height:h});r=y.x,o=y.y,p=null,f=null}else if(De(i)&&l){var x=function(b,S,M,C){var T=M[0],D=M[1],k=Math.ceil(Math.SQRT2*C)+8,R=0,N=0,E=S.width,B=S.height;switch(b){case"inside":R=S.x+E/2-T/2,N=S.y+B/2-D/2;break;case"top":R=S.x+E/2-T/2,N=S.y-D-k;break;case"bottom":R=S.x+E/2-T/2,N=S.y+B+k;break;case"left":R=S.x-T-k,N=S.y+B/2-D/2;break;case"right":R=S.x+E+k,N=S.y+B/2-D/2}return[R,N]}(i,g,c,e.get("borderWidth"));r=x[0],o=x[1]}else b=r,S=o,C=u,T=h,D=p?null:20,k=f?null:20,N=(R=a.getSize())[0],E=R[1],null!=D&&(b+N+D+2>C?b-=N+D:b+=D),null!=k&&(S+E+k>T?S-=E+k:S+=k),r=(x=[b,S])[0],o=x[1];p&&(r-=UT(p)?c[0]/2:"right"===p?c[0]:0),f&&(o-=UT(f)?c[1]/2:"bottom"===f?c[1]:0),NT(e)&&(x=function(b,S,M,C,T){var D=M.getSize(),k=D[0],R=D[1];return b=Math.min(b+k,C)-k,S=Math.min(S+R,T)-R,[b=Math.max(b,0),S=Math.max(S,0)]}(r,o,a,u,h),r=x[0],o=x[1]),a.moveTo(r,o)},t.prototype._updateContentNotChangedOnAxis=function(e,i){var r=this._lastDataByCoordSys,o=this._cbParamsList,a=!!r&&r.length===e.length;return a&&V(r,function(s,l){var u=s.dataByAxis||[],h=(e[l]||{}).dataByAxis||[];(a=a&&u.length===h.length)&&V(u,function(c,p){var f=h[p]||{},g=c.seriesDataIndices||[],m=f.seriesDataIndices||[];(a=a&&c.value===f.value&&c.axisType===f.axisType&&c.axisId===f.axisId&&g.length===m.length)&&V(g,function(y,x){var b=m[x];a=a&&y.seriesIndex===b.seriesIndex&&y.dataIndex===b.dataIndex}),o&&V(c.seriesDataIndices,function(y){var x=y.seriesIndex,b=i[x],S=o[x];b&&S&&S.data!==b.data&&(a=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=i,!!a},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,i){!$e.node&&i.getDom()&&(wh(this,"_updatePosition"),this._tooltipContent.dispose(),a0("itemTooltip",i))},t.type="tooltip",t}(Yt);function mc(n,t,e){var i,r=t.ecModel;e?(i=new Ct(e,r,r),i=new Ct(t.option,i,r)):i=t;for(var o=n.length-1;o>=0;o--){var a=n[o];a&&(a instanceof Ct&&(a=a.get("tooltip",!0)),De(a)&&(a={formatter:a}),a&&(i=new Ct(a,i,r)))}return i}function HT(n,t){return n.dispatchAction||F(t.dispatchAction,t)}function UT(n){return"center"===n||"middle"===n}var Bz=["rect","polygon","keep","clear"];function Vz(n,t){var l,u,e=zt(n?n.brush:[]);if(e.length){var i=[];V(e,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(i=i.concat(u))});var r=n&&n.toolbox;ce(r)&&(r=r[0]),r||(n.toolbox=[r={feature:{}}]);var o=r.feature||(r.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,i),u={},V(l=s,function(h){u[h]=1}),l.length=0,V(u,function(h,c){l.push(c)}),t&&!s.length&&s.push.apply(s,Bz)}}var YT=V;function XT(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!0}function T0(n,t,e){var i={};return YT(t,function(r){var o,a=i[r]=((o=function(){}).prototype.__hidden=o.prototype,new o);YT(n[r],function(s,l){if(Fn.isValidType(l)){var u={type:l,visual:s};e&&e(u,r),a[l]=new Fn(u),"opacity"===l&&((u=Re(u)).type="colorAlpha",a.__hidden.__alphaForOpacity=new Fn(u))}})}),i}function jT(n,t,e){var i;V(e,function(r){t.hasOwnProperty(r)&&XT(t[r])&&(i=!0)}),i&&V(e,function(r){t.hasOwnProperty(r)&&XT(t[r])?n[r]=Re(t[r]):delete n[r]})}var ZT={lineX:qT(0),lineY:qT(1),rect:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])},rect:function(n,t,e){return n&&e.boundingRect.intersect(n)}},polygon:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])&&As(e.range,n[0],n[1])},rect:function(n,t,e){var i=e.range;if(!n||i.length<=1)return!1;var r=n.x,o=n.y,a=n.width,s=n.height,l=i[0];return!!(As(i,r,o)||As(i,r+a,o)||As(i,r,o+s)||As(i,r+a,o+s)||ue.create(n).contain(l[0],l[1])||uh(r,o,r+a,o,i)||uh(r,o,r,o+s,i)||uh(r+a,o,r+a,o+s,i)||uh(r,o+s,r+a,o+s,i))||void 0}}};function qT(n){var t=["x","y"],e=["width","height"];return{point:function(i,r,o){if(i)return vc(i[n],o.range)},rect:function(i,r,o){if(i){var a=o.range,s=[i[t[n]],i[t[n]]+i[e[n]]];return s[1]<s[0]&&s.reverse(),vc(s[0],a)||vc(s[1],a)||vc(a[0],s)||vc(a[1],s)}}}}function vc(n,t){return t[0]<=n&&n<=t[1]}var KT=["inBrush","outOfBrush"],D0="__ecInBrushSelectEvent";function $T(n){n.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new x0(t.option,n)).setInputRanges(t.areas,n)})}function Wz(n,t,e){var i,r,o=[];n.eachComponent({mainType:"brush"},function(a){e&&"takeGlobalCursor"===e.type&&a.setBrushOption("brush"===e.key?e.brushOption:{brushType:!1})}),$T(n),n.eachComponent({mainType:"brush"},function(a,s){var l={brushId:a.id,brushIndex:s,brushName:a.name,areas:Re(a.areas),selected:[]};o.push(l);var u=a.option,h=u.brushLink,c=[],p=[],f=[],g=!1;s||(i=u.throttleType,r=u.throttleDelay);var m=oe(a.areas,function(S){var T,D,k,M=Hz[S.brushType],C=Ee({boundingRect:M?M(S):void 0},S);return C.selectors=(D=(T=C).brushType,k={point:function(R){return ZT[D].point(R,k,T)},rect:function(R){return ZT[D].rect(R,k,T)}}),C}),y=T0(a.option,KT,function(S){S.mappingMethod="fixed"});function x(S){return"all"===h||!!c[S]}function b(S){return!!S.length}ce(h)&&V(h,function(S){c[S]=1}),n.eachSeries(function(S,M){var T,D,k,C=f[M]=[];"parallel"===S.subType?(D=M,k=(T=S).coordinateSystem,g=g||k.hasAxisBrushed(),x(D)&&k.eachActiveState(T.getData(),function(R,N){"active"===R&&(p[N]=1)})):function(T,D,k){if(T.brushSelector&&(E=D,null==(B=a.option.seriesIndex)||"all"===B||!(ce(B)?je(B,E)<0:E!==B))&&(V(m,function(N){a.brushTargetManager.controlSeries(N,T,n)&&k.push(N),g=g||b(k)}),x(D)&&b(k))){var R=T.getData();R.each(function(N){JT(T,k,R,N)&&(p[N]=1)})}var E,B}(S,M,C)}),n.eachSeries(function(S,M){var C={seriesId:S.id,seriesIndex:M,seriesName:S.name,dataIndex:[]};l.selected.push(C);var T=f[M],D=S.getData(),k=x(M)?function(R){return p[R]?(C.dataIndex.push(D.getRawIndex(R)),"inBrush"):"outOfBrush"}:function(R){return JT(S,T,D,R)?(C.dataIndex.push(D.getRawIndex(R)),"inBrush"):"outOfBrush"};(x(M)?g:b(T))&&function(R,N,E,B,G,H){var Y,j={};function Z(te){return pm(E,Y,te)}function q(te,ne){kb(E,Y,te,ne)}V(R,function(te){var ne=Fn.prepareVisualTypes(N[te]);j[te]=ne}),E.each(function J(te,ne){var le=E.getRawDataItem(Y=te);if(!le||!1!==le.visualMap)for(var ye=B.call(void 0,te),ie=N[ye],he=j[ye],xe=0,be=he.length;xe<be;xe++){var ge=he[xe];ie[ge]&&ie[ge].applyVisual(te,Z,q)}})}(KT,y,D,k)})}),function(a,s,l,u,h){if(h){var c=a.getZr();c[D0]||(c.__ecBrushSelect||(c.__ecBrushSelect=Gz),zl(c,"__ecBrushSelect",l,s)(a,u))}}(t,i,r,o,e)}function Gz(n,t){if(!n.isDisposed()){var e=n.getZr();e[D0]=!0,n.dispatchAction({type:"brushSelect",batch:t}),e[D0]=!1}}function JT(n,t,e,i){for(var r=0,o=t.length;r<o;r++){var a=t[r];if(n.brushSelector(i,e,a.selectors,a))return!0}}var Hz={rect:function(n){return QT(n.range)},polygon:function(n){for(var t,e=n.range,i=0,r=e.length;i<r;i++){var o=e[i];o[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&QT(t)}};function QT(n){return new ue(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var Uz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.init=function(e,i){this.ecModel=e,this.api=i,(this._brushController=new Sy(i.getZr())).on("brush",F(this._onBrush,this)).mount()},t.prototype.render=function(e,i,r,o){this.model=e,this._updateController(e,i,r,o)},t.prototype.updateTransform=function(e,i,r,o){$T(i),this._updateController(e,i,r,o)},t.prototype.updateVisual=function(e,i,r,o){this.updateTransform(e,i,r,o)},t.prototype.updateView=function(e,i,r,o){this._updateController(e,i,r,o)},t.prototype._updateController=function(e,i,r,o){(!o||o.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(r)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var i=this.model.id,r=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:Re(r),$from:i}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:Re(r),$from:i})},t.type="brush",t}(Yt),Yz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return Q(t,n),t.prototype.optionUpdated=function(e,i){var r=this.option;!i&&jT(r,e,["inBrush","outOfBrush"]);var o=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:"#ddd"},o.hasOwnProperty("liftZ")||(o.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=oe(e,function(i){return eD(this.option,i)},this))},t.prototype.setBrushOption=function(e){this.brushOption=eD(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(st);function eD(n,t){return qe({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Ct(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},t,!0)}var Xz=["rect","polygon","lineX","lineY","keep","clear"],jz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Q(t,n),t.prototype.render=function(e,i,r){var o,a,s;i.eachComponent({mainType:"brush"},function(l){o=l.brushType,a=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=o,this._brushMode=a,V(e.get("type",!0),function(l){e.setIconStatus(l,("keep"===l?"multiple"===a:"clear"===l?s:l===o)?"emphasis":"normal")})},t.prototype.updateView=function(e,i,r){this.render(e,i,r)},t.prototype.getIcons=function(){var e=this.model,i=e.get("icon",!0),r={};return V(e.get("type",!0),function(o){i[o]&&(r[o]=i[o])}),r},t.prototype.onclick=function(e,i,r){var o=this._brushType,a=this._brushMode;"clear"===r?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===r?o:o!==r&&r,brushMode:"keep"===r?"multiple"===a?"single":"multiple":a}})},t.getDefaultOption=function(e){return{show:!0,type:Xz.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(pr),Zz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return Q(t,n),t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(st),qz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.render=function(e,i,r){if(this.group.removeAll(),e.get("show")){var o=this.group,a=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),u=pe(e.get("textBaseline"),e.get("textVerticalAlign")),h=new gt({style:$t(a,{text:e.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),c=h.getBoundingRect(),p=e.get("subtext"),f=new gt({style:$t(s,{text:p,fill:s.getTextColor(),y:c.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),g=e.get("link"),m=e.get("sublink"),y=e.get("triggerEvent",!0);h.silent=!g&&!y,f.silent=!m&&!y,g&&h.on("click",function(){Md(g,"_"+e.get("target"))}),m&&f.on("click",function(){Md(m,"_"+e.get("subtarget"))}),Ze(h).eventData=Ze(f).eventData=y?{componentType:"title",componentIndex:e.componentIndex}:null,o.add(h),p&&o.add(f);var x=o.getBoundingRect(),b=e.getBoxLayoutParams();b.width=x.width,b.height=x.height;var S=In(b,{width:r.getWidth(),height:r.getHeight()},e.get("padding"));l||("middle"===(l=e.get("left")||e.get("right"))&&(l="center"),"right"===l?S.x+=S.width:"center"===l&&(S.x+=S.width/2)),u||("center"===(u=e.get("top")||e.get("bottom"))&&(u="middle"),"bottom"===u?S.y+=S.height:"middle"===u&&(S.y+=S.height/2),u=u||"top"),o.x=S.x,o.y=S.y,o.markRedraw();var M={align:l,verticalAlign:u};h.setStyle(M),f.setStyle(M),x=o.getBoundingRect();var C=S.margin,T=e.getItemStyle(["color","opacity"]);T.fill=e.get("backgroundColor");var D=new ht({shape:{x:x.x-C[3],y:x.y-C[0],width:x.width+C[1]+C[3],height:x.height+C[0]+C[2],r:e.get("borderRadius")},style:T,subPixelOptimize:!0,silent:!0});o.add(D)}},t.type="title",t}(Yt),tD=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return Q(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r),this._initData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var i=this._data.count();this.option.loop?e=(e%i+i)%i:(e>=i&&(e=i-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var e,i=this.option,r=i.data||[],o=i.axisType,a=this._names=[];"category"===o?(e=[],V(r,function(l,u){var h,c=An(hl(l),"");Oe(l)?(h=Re(l)).value=u:h=u,e.push(h),a.push(c)})):e=r,(this._data=new ai([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[o]||"number"}],this)).initData(e,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(st),nD=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.type="timeline.slider",t.defaultOption=da(tD.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(tD);Nt(nD,rm.prototype);var Kz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.type="timeline",t}(Yt),$z=function(n){function t(e,i,r,o){var a=n.call(this,e,i,r)||this;return a.type=o||"value",a}return Q(t,n),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(sr),A0=Math.PI,iD=_t(),Jz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.init=function(e,i){this.api=i},t.prototype.render=function(e,i,r){if(this.model=e,this.api=r,this.ecModel=i,this.group.removeAll(),e.get("show",!0)){var o=this._layout(e,r),a=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(o,e);e.formatTooltip=function(u){return Bn("nameValue",{noName:!0,value:l.scale.getLabel({value:u})})},V(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](o,a,l,e)},this),this._renderAxisLabel(o,s,l,e),this._position(o,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,i){var r,o,a,s,B,G,l=e.get(["label","position"]),u=e.get("orient"),h=(G=i,In((B=e).getBoxLayoutParams(),{width:G.getWidth(),height:G.getHeight()},B.get("padding"))),c={horizontal:"center",vertical:(r=null==l||"auto"===l?"horizontal"===u?h.y+h.height/2<i.getHeight()/2?"-":"+":h.x+h.width/2<i.getWidth()/2?"+":"-":De(l)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][l]:l)>=0||"+"===r?"left":"right"},p={horizontal:r>=0||"+"===r?"top":"bottom",vertical:"middle"},f={horizontal:0,vertical:A0/2},g="vertical"===u?h.height:h.width,m=e.getModel("controlStyle"),y=m.get("show",!0),x=y?m.get("itemSize"):0,b=y?m.get("itemGap"):0,S=x+b,M=e.get(["label","rotate"])||0;M=M*A0/180;var C=m.get("position",!0),T=y&&m.get("showPlayBtn",!0),D=y&&m.get("showPrevBtn",!0),k=y&&m.get("showNextBtn",!0),R=0,N=g;"left"===C||"bottom"===C?(T&&(o=[0,0],R+=S),D&&(a=[R,0],R+=S),k&&(s=[N-x,0],N-=S)):(T&&(o=[N-x,0],N-=S),D&&(a=[0,0],R+=S),k&&(s=[N-x,0],N-=S));var E=[R,N];return e.get("inverse")&&E.reverse(),{viewRect:h,mainLength:g,orient:u,rotation:f[u],labelRotation:M,labelPosOpt:r,labelAlign:e.get(["label","align"])||c[u],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||p[u],playPosition:o,prevBtnPosition:a,nextBtnPosition:s,axisExtent:E,controlSize:x,controlGap:b}},t.prototype._position=function(e,i){var r=this._mainGroup,o=this._labelGroup,a=e.viewRect;if("vertical"===e.orient){var s=[1,0,0,1,0,0],l=a.x,u=a.y+a.height;Ni(s,s,[-l,-u]),Xr(s,s,-A0/2),Ni(s,s,[l,u]),(a=a.clone()).applyTransform(s)}var h=b(a),c=b(r.getBoundingRect()),p=b(o.getBoundingRect()),f=[r.x,r.y],g=[o.x,o.y];g[0]=f[0]=h[0][0];var m,y=e.labelPosOpt;function x(M){M.originX=h[0][0]-M.x,M.originY=h[1][0]-M.y}function b(M){return[[M.x,M.x+M.width],[M.y,M.y+M.height]]}function S(M,C,T,D,k){M[D]+=T[D][k]-C[D][k]}null==y||De(y)?(S(f,c,h,1,m="+"===y?0:1),S(g,p,h,1,1-m)):(S(f,c,h,1,m=y>=0?0:1),g[1]=f[1]+y),r.setPosition(f),o.setPosition(g),r.rotation=o.rotation=e.rotation,x(r),x(o)},t.prototype._createAxis=function(e,i){var r=i.getData(),o=i.get("axisType"),a=function(u,h){if(h=h||u.get("type"))switch(h){case"category":return new ip({ordinalMeta:u.getCategories(),extent:[1/0,-1/0]});case"time":return new jm({locale:u.ecModel.getLocaleModel(),useUTC:u.ecModel.get("useUTC")});default:return new Po}}(i,o);a.getTicks=function(){return r.mapArray(["value"],function(u){return{value:u}})};var s=r.getDataExtent("value");a.setExtent(s[0],s[1]),a.calcNiceTicks();var l=new $z("value",a,e.axisExtent,o);return l.model=i,l},t.prototype._createGroup=function(e){var i=this[e]=new He;return this.group.add(i),i},t.prototype._renderAxisLine=function(e,i,r,o){var a=r.getExtent();if(o.get(["lineStyle","show"])){var s=new kn({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:ae({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(s);var l=this._progressLine=new kn({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:Ee({lineCap:"round",lineWidth:s.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(l)}},t.prototype._renderAxisTick=function(e,i,r,o){var a=this,s=o.getData(),l=r.scale.getTicks();this._tickSymbols=[],V(l,function(u){var h=r.dataToCoord(u.value),c=s.getItemModel(u.value),p=c.getModel("itemStyle"),f=c.getModel(["emphasis","itemStyle"]),g=c.getModel(["progress","itemStyle"]),m={x:h,y:0,onclick:F(a._changeTimeline,a,u.value)},y=rD(c,p,i,m);y.ensureState("emphasis").style=f.getItemStyle(),y.ensureState("progress").style=g.getItemStyle(),la(y);var x=Ze(y);c.get("tooltip")?(x.dataIndex=u.value,x.dataModel=o):x.dataIndex=x.dataModel=null,a._tickSymbols.push(y)})},t.prototype._renderAxisLabel=function(e,i,r,o){var a=this;if(r.getLabelModel().get("show")){var s=o.getData(),l=r.getViewLabels();this._tickLabels=[],V(l,function(u){var h=u.tickValue,c=s.getItemModel(h),p=c.getModel("label"),f=c.getModel(["emphasis","label"]),g=c.getModel(["progress","label"]),m=r.dataToCoord(u.tickValue),y=new gt({x:m,y:0,rotation:e.labelRotation-e.rotation,onclick:F(a._changeTimeline,a,h),silent:!1,style:$t(p,{text:u.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});y.ensureState("emphasis").style=$t(f),y.ensureState("progress").style=$t(g),i.add(y),la(y),iD(y).dataIndex=h,a._tickLabels.push(y)})}},t.prototype._renderControl=function(e,i,r,o){var a=e.controlSize,s=e.rotation,l=o.getModel("controlStyle").getItemStyle(),u=o.getModel(["emphasis","controlStyle"]).getItemStyle(),h=o.getPlayState(),c=o.get("inverse",!0);function p(f,g,m,y){if(f){var x=Tt(pe(o.get(["controlStyle",g+"BtnSize"]),a),a),b=(C=[0,-x/2,x,x],D=(T={x:f[0],y:f[1],originX:a/2,originY:0,rotation:y?-s:0,rectHover:!0,style:l,onclick:m}).style,k=bl(o.get(["controlStyle",g+"Icon"]),T||{},new ue(C[0],C[1],C[2],C[3])),D&&k.setStyle(D),k);b.ensureState("emphasis").style=u,i.add(b),la(b)}var C,T,D,k}p(e.nextBtnPosition,"next",F(this._changeTimeline,this,c?"-":"+")),p(e.prevBtnPosition,"prev",F(this._changeTimeline,this,c?"+":"-")),p(e.playPosition,h?"stop":"play",F(this._handlePlayClick,this,!h),!0)},t.prototype._renderCurrentPointer=function(e,i,r,o){var a=o.getData(),s=o.getCurrentIndex(),l=a.getItemModel(s).getModel("checkpointStyle"),u=this;this._currentPointer=rD(l,l,this._mainGroup,{},this._currentPointer,{onCreate:function(c){c.draggable=!0,c.drift=F(u._handlePointerDrag,u),c.ondragend=F(u._handlePointerDragend,u),oD(c,u._progressLine,s,r,o,!0)},onUpdate:function(c){oD(c,u._progressLine,s,r,o)}})},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,i,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,i){var r=this._toAxisCoord(e)[0],o=Ei(this._axis.getExtent().slice());r>o[1]&&(r=o[1]),r<o[0]&&(r=o[0]),this._currentPointer.x=r,this._currentPointer.markRedraw(),this._progressLine.shape.x2=r,this._progressLine.dirty();var a=this._findNearestTick(r),s=this.model;(i||a!==s.getCurrentIndex()&&s.get("realtime"))&&this._changeTimeline(a)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=e.model;e._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return Ar(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var i,r=this.model.getData(),o=1/0,a=this._axis;return r.each(["value"],function(s,l){var u=a.dataToCoord(s),h=Math.abs(u-e);h<o&&(o=h,i=l)}),i},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var i=this.model.getCurrentIndex();"+"===e?e=i+1:"-"===e&&(e=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),i=this._tickSymbols,r=this._tickLabels;if(i)for(var o=0;o<i.length;o++)i&&i[o]&&i[o].toggleState("progress",o<e);if(r)for(o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",iD(r[o]).dataIndex<=e)},t.type="timeline.slider",t}(Kz);function rD(n,t,e,i,r,o){var a=t.get("color");r?(r.setColor(a),e.add(r),o&&o.onUpdate(r)):((r=pn(n.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),e.add(r),o&&o.onCreate(r));var s=t.getItemStyle(["color"]);r.setStyle(s),i=qe({rectHover:!0,z2:100},i,!0);var l=Ch(n.get("symbolSize"));i.scaleX=l[0]/2,i.scaleY=l[1]/2;var u=Fl(n.get("symbolOffset"),l);u&&(i.x=(i.x||0)+u[0],i.y=(i.y||0)+u[1]);var h=n.get("symbolRotate");return i.rotation=(h||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function oD(n,t,e,i,r,o){if(!n.dragging){var a=r.getModel("checkpointStyle"),s=i.dataToCoord(r.getData().get("value",e));if(o||!a.get("animation",!0))n.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function Qz(n){var t=n&&n.timeline;ce(t)||(t=t?[t]:[]),V(t,function(e){e&&function(i){var r=i.type,o={number:"value",time:"time"};if(o[r]&&(i.axisType=o[r],delete i.type),aD(i),Xs(i,"controlPosition")){var a=i.controlStyle||(i.controlStyle={});Xs(a,"position")||(a.position=i.controlPosition),"none"!==a.position||Xs(a,"show")||(a.show=!1,delete a.position),delete i.controlPosition}V(i.data||[],function(s){Oe(s)&&!ce(s)&&(!Xs(s,"value")&&Xs(s,"name")&&(s.value=s.name),aD(s))})}(e)})}function aD(n){var t=n.itemStyle||(n.itemStyle={}),e=t.emphasis||(t.emphasis={}),i=n.label||n.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};V(i,function(a,s){o[s]||Xs(r,s)||(r[s]=a)}),e.label&&!Xs(i,"emphasis")&&(i.emphasis=e.label,delete e.label)}function Xs(n,t){return n.hasOwnProperty(t)}function k0(n,t){if(!n)return!1;for(var e=ce(n)?n:[n],i=0;i<e.length;i++)if(e[i]&&e[i][t])return!0;return!1}function rf(n){ts(n,"label",["show"])}var of=_t(),zo=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return Q(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r),this._mergeOption(e,r,!1,!0)},t.prototype.isAnimationEnabled=function(){if($e.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,i){this._mergeOption(e,i,!1,!1)},t.prototype._mergeOption=function(e,i,r,o){var a=this.mainType;r||i.eachSeries(function(s){var l=s.get(this.mainType,!0),u=of(s)[a];l&&l.data?(u?u._mergeOption(l,i,!0):(o&&rf(l),V(l.data,function(h){h instanceof Array?(rf(h[0]),rf(h[1])):rf(h)}),ae(u=this.createMarkerModelFromSeries(l,this,i),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),of(s)[a]=u):of(s)[a]=null},this)},t.prototype.formatTooltip=function(e,i,r){var o=this.getData(),a=this.getRawValue(e),s=o.getName(e);return Bn("section",{header:this.name,blocks:[Bn("nameValue",{name:s,value:a,noName:!s,noValue:null==a})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,i){return of(e)[i]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(st);Nt(zo,rm.prototype);var e3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(zo);function L0(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function af(n,t,e,i,r,o){var a=[],s=Lo(t,i)?t.getCalculationInfo("stackResultDimension"):i,l=O0(t,s,n),u=t.indicesOfNearest(s,l)[0];a[r]=t.get(e,u),a[o]=t.get(s,u);var h=t.get(i,u),c=Cr(t.get(i,u));return(c=Math.min(c,20))>=0&&(a[o]=+a[o].toFixed(c)),[a,h]}var P0={min:We(af,"min"),max:We(af,"max"),average:We(af,"average"),median:We(af,"median")};function yc(n,t){var c,e=n.getData(),i=n.coordinateSystem;if(t&&(c=t,isNaN(parseFloat(c.x))||isNaN(parseFloat(c.y)))&&!ce(t.coord)&&i){var r=i.dimensions,o=sD(t,e,i,n);if((t=Re(t)).type&&P0[t.type]&&o.baseAxis&&o.valueAxis){var a=je(r,o.baseAxis.dim),s=je(r,o.valueAxis.dim),l=P0[t.type](e,o.baseDataDim,o.valueDataDim,a,s);t.coord=l[0],t.value=l[1]}else{for(var u=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],h=0;h<2;h++)P0[u[h]]&&(u[h]=O0(e,e.mapDimension(r[h]),u[h]));t.coord=u}}return t}function sD(n,t,e,i){var a,s,r={};return null!=n.valueIndex||null!=n.valueDim?(r.valueDataDim=null!=n.valueIndex?t.getDimension(n.valueIndex):n.valueDim,r.valueAxis=e.getAxis((a=r.valueDataDim,(s=i.getData().getDimensionInfo(a))&&s.coordDim)),r.baseAxis=e.getOtherAxis(r.valueAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=e.getOtherAxis(r.baseAxis),r.baseDataDim=t.mapDimension(r.baseAxis.dim),r.valueDataDim=t.mapDimension(r.valueAxis.dim)),r}function xc(n,t){return!(n&&n.containData&&t.coord&&!L0(t))||n.containData(t.coord)}function lD(n,t){return n?function(e,i,r,o){return ma(o<2?e.coord&&e.coord[o]:e.value,t[o])}:function(e,i,r,o){return ma(e.value,t[o])}}function O0(n,t,e){if("average"===e){var i=0,r=0;return n.each(t,function(o,a){isNaN(o)||(i+=o,r++)}),i/r}return"median"===e?n.getMedian(t):n.getDataExtent(t)["max"===e?1:0]}var R0=_t(),N0=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.init=function(){this.markerGroupMap=Ne()},t.prototype.render=function(e,i,r){var o=this,a=this.markerGroupMap;a.each(function(s){R0(s).keep=!1}),i.eachSeries(function(s){var l=zo.getMarkerModelFromSeries(s,o.type);l&&o.renderSeries(s,l,i,r)}),a.each(function(s){!R0(s).keep&&o.group.remove(s.group)})},t.prototype.markKeep=function(e){R0(e).keep=!0},t.prototype.toggleBlurSeries=function(e,i){var r=this;V(e,function(o){var a=zo.getMarkerModelFromSeries(o,r.type);a&&a.getData().eachItemGraphicEl(function(s){s&&(i?tx(s):ug(s))})})},t.type="marker",t}(Yt);function uD(n,t,e){var i=t.coordinateSystem;n.each(function(r){var o,a=n.getItemModel(r),s=Te(a.get("x"),e.getWidth()),l=Te(a.get("y"),e.getHeight());if(isNaN(s)||isNaN(l)){if(t.getMarkerPosition)o=t.getMarkerPosition(n.getValues(n.dimensions,r));else if(i){var u=n.get(i.dimensions[0],r),h=n.get(i.dimensions[1],r);o=i.dataToPoint([u,h])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),n.setItemLayout(r,o)})}var t3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.updateTransform=function(e,i,r){i.eachSeries(function(o){var a=zo.getMarkerModelFromSeries(o,"markPoint");a&&(uD(a.getData(),o,r),this.markerGroupMap.get(o.id).updateLayout())},this)},t.prototype.renderSeries=function(e,i,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,new Yh),c=function(p,f,g){var m;m=p?oe(p&&p.dimensions,function(S){return ae(ae({},f.getData().getDimensionInfo(f.getData().mapDimension(S))||{}),{name:S,ordinalMeta:null})}):[{name:"value",type:"float"}];var y=new ai(m,g),x=oe(g.get("data"),We(yc,f));p&&(x=dt(x,We(xc,p)));var b=lD(!!p,m);return y.initData(x,null,b),y}(a,e,i);i.setData(c),uD(i.getData(),e,o),c.each(function(p){var f=c.getItemModel(p),g=f.getShallow("symbol"),m=f.getShallow("symbolSize"),y=f.getShallow("symbolRotate"),x=f.getShallow("symbolOffset"),b=f.getShallow("symbolKeepAspect");if(ze(g)||ze(m)||ze(y)||ze(x)){var S=i.getRawValue(p),M=i.getDataParams(p);ze(g)&&(g=g(S,M)),ze(m)&&(m=m(S,M)),ze(y)&&(y=y(S,M)),ze(x)&&(x=x(S,M))}var C=f.getModel("itemStyle").getItemStyle(),T=Ih(l,"color");C.fill||(C.fill=T),c.setItemVisual(p,{symbol:g,symbolSize:m,symbolRotate:y,symbolOffset:x,symbolKeepAspect:b,style:C})}),h.updateData(c),this.group.add(h.group),c.eachItemGraphicEl(function(p){p.traverse(function(f){Ze(f).dataModel=i})}),this.markKeep(h),h.group.silent=i.get("silent")||e.get("silent")},t.type="markPoint",t}(N0),n3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(zo),sf=_t(),i3=function(n,t,e,i){var r,o=n.getData();if(ce(i))r=i;else{var a=i.type;if("min"===a||"max"===a||"average"===a||"median"===a||null!=i.xAxis||null!=i.yAxis){var s=void 0,l=void 0;if(null!=i.yAxis||null!=i.xAxis)s=t.getAxis(null!=i.yAxis?"y":"x"),l=_e(i.yAxis,i.xAxis);else{var u=sD(i,o,t,n);s=u.valueAxis,l=O0(o,Fm(o,u.valueDataDim),a)}var h="x"===s.dim?0:1,c=1-h,p=Re(i),f={coord:[]};p.type=null,p.coord=[],p.coord[c]=-1/0,f.coord[c]=1/0;var g=e.get("precision");g>=0&&ot(l)&&(l=+l.toFixed(Math.min(g,20))),p.coord[h]=f.coord[h]=l,r=[p,f,{type:a,valueIndex:i.valueIndex,value:l}]}else r=[]}var m=[yc(n,r[0]),yc(n,r[1]),ae({},r[2])];return m[2].type=m[2].type||null,qe(m[2],m[0]),qe(m[2],m[1]),m};function lf(n){return!isNaN(n)&&!isFinite(n)}function hD(n,t,e,i){var r=1-n,o=i.dimensions[n];return lf(t[r])&&lf(e[r])&&t[n]===e[n]&&i.getAxis(o).containData(t[n])}function r3(n,t){if("cartesian2d"===n.type){var e=t[0].coord,i=t[1].coord;if(e&&i&&(hD(1,e,i,n)||hD(0,e,i,n)))return!0}return xc(n,t[0])&&xc(n,t[1])}function E0(n,t,e,i,r){var o,a=i.coordinateSystem,s=n.getItemModel(t),l=Te(s.get("x"),r.getWidth()),u=Te(s.get("y"),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(n.getValues(n.dimensions,t));else{var h=a.dimensions,c=n.get(h[0],t),p=n.get(h[1],t);o=a.dataToPoint([c,p])}if(Rs(a,"cartesian2d")){var f=a.getAxis("x"),g=a.getAxis("y");lf(n.get((h=a.dimensions)[0],t))?o[0]=f.toGlobalCoord(f.getExtent()[e?0:1]):lf(n.get(h[1],t))&&(o[1]=g.toGlobalCoord(g.getExtent()[e?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];n.setItemLayout(t,o)}var o3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.updateTransform=function(e,i,r){i.eachSeries(function(o){var a=zo.getMarkerModelFromSeries(o,"markLine");if(a){var s=a.getData(),l=sf(a).from,u=sf(a).to;l.each(function(h){E0(l,h,!0,o,r),E0(u,h,!1,o,r)}),s.each(function(h){s.setItemLayout(h,[l.getItemLayout(h),u.getItemLayout(h)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,i,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,new cy);this.group.add(h.group);var c=function(M,C,T){var D;D=M?oe(M&&M.dimensions,function(G){return ae(ae({},C.getData().getDimensionInfo(C.getData().mapDimension(G))||{}),{name:G,ordinalMeta:null})}):[{name:"value",type:"float"}];var k=new ai(D,T),R=new ai(D,T),N=new ai([],T),E=oe(T.get("data"),We(i3,C,M,T));M&&(E=dt(E,We(r3,M)));var B=lD(!!M,D);return k.initData(oe(E,function(G){return G[0]}),null,B),R.initData(oe(E,function(G){return G[1]}),null,B),N.initData(oe(E,function(G){return G[2]})),N.hasItemOption=!0,{from:k,to:R,line:N}}(a,e,i),p=c.from,f=c.to,g=c.line;sf(i).from=p,sf(i).to=f,i.setData(g);var m=i.get("symbol"),y=i.get("symbolSize"),x=i.get("symbolRotate"),b=i.get("symbolOffset");function S(M,C,T){var D=M.getItemModel(C);E0(M,C,T,e,o);var k=D.getModel("itemStyle").getItemStyle();null==k.fill&&(k.fill=Ih(l,"color")),M.setItemVisual(C,{symbolKeepAspect:D.get("symbolKeepAspect"),symbolOffset:pe(D.get("symbolOffset",!0),b[T?0:1]),symbolRotate:pe(D.get("symbolRotate",!0),x[T?0:1]),symbolSize:pe(D.get("symbolSize"),y[T?0:1]),symbol:pe(D.get("symbol",!0),m[T?0:1]),style:k})}ce(m)||(m=[m,m]),ce(y)||(y=[y,y]),ce(x)||(x=[x,x]),ce(b)||(b=[b,b]),c.from.each(function(M){S(p,M,!0),S(f,M,!1)}),g.each(function(M){var C=g.getItemModel(M).getModel("lineStyle").getLineStyle();g.setItemLayout(M,[p.getItemLayout(M),f.getItemLayout(M)]),null==C.stroke&&(C.stroke=p.getItemVisual(M,"style").fill),g.setItemVisual(M,{fromSymbolKeepAspect:p.getItemVisual(M,"symbolKeepAspect"),fromSymbolOffset:p.getItemVisual(M,"symbolOffset"),fromSymbolRotate:p.getItemVisual(M,"symbolRotate"),fromSymbolSize:p.getItemVisual(M,"symbolSize"),fromSymbol:p.getItemVisual(M,"symbol"),toSymbolKeepAspect:f.getItemVisual(M,"symbolKeepAspect"),toSymbolOffset:f.getItemVisual(M,"symbolOffset"),toSymbolRotate:f.getItemVisual(M,"symbolRotate"),toSymbolSize:f.getItemVisual(M,"symbolSize"),toSymbol:f.getItemVisual(M,"symbol"),style:C})}),h.updateData(g),c.line.eachItemGraphicEl(function(M){Ze(M).dataModel=i,M.traverse(function(C){Ze(C).dataModel=i})}),this.markKeep(h),h.group.silent=i.get("silent")||e.get("silent")},t.type="markLine",t}(N0),a3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.createMarkerModelFromSeries=function(e,i,r){return new t(e,i,r)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(zo),uf=_t(),s3=function(n,t,e,i){var r=yc(n,i[0]),o=yc(n,i[1]),a=r.coord,s=o.coord;a[0]=_e(a[0],-1/0),a[1]=_e(a[1],-1/0),s[0]=_e(s[0],1/0),s[1]=_e(s[1],1/0);var l=Ut([{},r,o]);return l.coord=[r.coord,o.coord],l.x0=r.x,l.y0=r.y,l.x1=o.x,l.y1=o.y,l};function hf(n){return!isNaN(n)&&!isFinite(n)}function cD(n,t,e,i){var r=1-n;return hf(t[r])&&hf(e[r])}function l3(n,t){var a,s,l,e=t.coord[0],i=t.coord[1],r={coord:e,x:t.x0,y:t.y0},o={coord:i,x:t.x1,y:t.y1};return Rs(n,"cartesian2d")?!(!e||!i||!cD(1,e,i)&&!cD(0,e,i))||(s=r,l=o,!((a=n)&&a.containZone&&s.coord&&l.coord&&!L0(s)&&!L0(l))||a.containZone(s.coord,l.coord)):xc(n,r)||xc(n,o)}function dD(n,t,e,i,r){var o,a=i.coordinateSystem,s=n.getItemModel(t),l=Te(s.get(e[0]),r.getWidth()),u=Te(s.get(e[1]),r.getHeight());if(isNaN(l)||isNaN(u)){if(i.getMarkerPosition)o=i.getMarkerPosition(n.getValues(e,t));else{var h=[f=n.get(e[0],t),g=n.get(e[1],t)];a.clampData&&a.clampData(h,h),o=a.dataToPoint(h,!0)}if(Rs(a,"cartesian2d")){var c=a.getAxis("x"),p=a.getAxis("y"),f=n.get(e[0],t),g=n.get(e[1],t);hf(f)?o[0]=c.toGlobalCoord(c.getExtent()["x0"===e[0]?0:1]):hf(g)&&(o[1]=p.toGlobalCoord(p.getExtent()["y0"===e[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}else o=[l,u];return o}var pD=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],u3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.updateTransform=function(e,i,r){i.eachSeries(function(o){var a=zo.getMarkerModelFromSeries(o,"markArea");if(a){var s=a.getData();s.each(function(l){var u=oe(pD,function(h){return dD(s,l,h,o,r)});s.setItemLayout(l,u),s.getItemGraphicEl(l).setShape("points",u)})}},this)},t.prototype.renderSeries=function(e,i,r,o){var a=e.coordinateSystem,s=e.id,l=e.getData(),u=this.markerGroupMap,h=u.get(s)||u.set(s,{group:new He});this.group.add(h.group),this.markKeep(h);var c=function(p,f,g){var m,y;if(p){var b=oe(p&&p.dimensions,function(C){var T=f.getData();return ae(ae({},T.getDimensionInfo(T.mapDimension(C))||{}),{name:C,ordinalMeta:null})});y=oe(["x0","y0","x1","y1"],function(C,T){return{name:C,type:b[T%2].type}}),m=new ai(y,g)}else m=new ai(y=[{name:"value",type:"float"}],g);var S=oe(g.get("data"),We(s3,f,p,g));return p&&(S=dt(S,We(l3,p))),m.initData(S,null,p?function(C,T,D,k){return ma(C.coord[Math.floor(k/2)][k%2],y[k])}:function(C,T,D,k){return ma(C.value,y[k])}),m.hasItemOption=!0,m}(a,e,i);i.setData(c),c.each(function(p){var f=oe(pD,function(D){return dD(c,p,D,e,o)}),g=a.getAxis("x").scale,m=a.getAxis("y").scale,y=g.getExtent(),x=m.getExtent(),b=[g.parse(c.get("x0",p)),g.parse(c.get("x1",p))],S=[m.parse(c.get("y0",p)),m.parse(c.get("y1",p))];Ei(b),Ei(S),c.setItemLayout(p,{points:f,allClipped:y[0]>b[1]||y[1]<b[0]||x[0]>S[1]||x[1]<S[0]});var C=c.getItemModel(p).getModel("itemStyle").getItemStyle(),T=Ih(l,"color");C.fill||(C.fill=T,De(C.fill)&&(C.fill=Za(C.fill,.4))),C.stroke||(C.stroke=T),c.setItemVisual(p,"style",C)}),c.diff(uf(h).data).add(function(p){var f=c.getItemLayout(p);if(!f.allClipped){var g=new ni({shape:{points:f.points}});c.setItemGraphicEl(p,g),h.group.add(g)}}).update(function(p,f){var g=uf(h).data.getItemGraphicEl(f),m=c.getItemLayout(p);m.allClipped?g&&h.group.remove(g):(g?vt(g,{shape:{points:m.points}},i,p):g=new ni({shape:{points:m.points}}),c.setItemGraphicEl(p,g),h.group.add(g))}).remove(function(p){var f=uf(h).data.getItemGraphicEl(p);h.group.remove(f)}).execute(),c.eachItemGraphicEl(function(p,f){var g=c.getItemModel(f),m=c.getItemVisual(f,"style");p.useStyle(c.getItemVisual(f,"style")),ri(p,jn(g),{labelFetcher:i,labelDataIndex:f,defaultText:c.getName(f)||"",inheritColor:De(m.fill)?Za(m.fill,1):"#000"}),qn(p,g),un(p,null,null,g.get(["emphasis","disabled"])),Ze(p).dataModel=i}),uf(h).data=c,h.group.silent=i.get("silent")||e.get("silent")},t.type="markArea",t}(N0),z0=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return Q(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),this._updateSelector(e)},t.prototype._updateSelector=function(e){var i=e.selector,r=this.ecModel;!0===i&&(i=e.selector=["all","inverse"]),ce(i)&&V(i,function(o,a){var s,l;De(o)&&(o={type:o}),i[a]=qe(o,(s=r,"all"===(l=o.type)?{type:"all",title:s.getLocaleModel().get(["legend","selector","all"])}:"inverse"===l?{type:"inverse",title:s.getLocaleModel().get(["legend","selector","inverse"])}:void 0))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var i=!1,r=0;r<e.length;r++){var o=e[r].get("name");if(this.isSelected(o)){this.select(o),i=!0;break}}!i&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var i=[],r=[];e.eachRawSeries(function(a){var s;if(r.push(a.name),a.legendVisualProvider){var u=a.legendVisualProvider.getAllNames();e.isSeriesFiltered(a)||(r=r.concat(u)),u.length?i=i.concat(u):s=!0}else s=!0;s&&Vf(a)&&i.push(a.name)}),this._availableNames=r;var o=oe(this.get("data")||i,function(a){return(De(a)||ot(a))&&(a={name:a}),new Ct(a,this,this.ecModel)},this);this._data=o},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var i=this.option.selected;"single"===this.get("selectedMode")&&V(this._data,function(r){i[r.get("name")]=!1}),i[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var i=this.option.selected;i.hasOwnProperty(e)||(i[e]=!0),this[i[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var i=this.option.selected;V(this._data,function(r){i[r.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var i=this.option.selected;V(this._data,function(r){var o=r.get("name",!0);i.hasOwnProperty(o)||(i[o]=!0),i[o]=!i[o]})},t.prototype.isSelected=function(e){var i=this.option.selected;return!(i.hasOwnProperty(e)&&!i[e])&&je(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(st),uu=We,B0=V,cf=He,fD=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return Q(t,n),t.prototype.init=function(){this.group.add(this._contentGroup=new cf),this.group.add(this._selectorGroup=new cf),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,i,r){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var a=e.get("align"),s=e.get("orient");a&&"auto"!==a||(a="right"===e.get("left")&&"vertical"===s?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);!l||u&&"auto"!==u||(u="horizontal"===s?"end":"start"),this.renderInner(a,e,i,r,l,s,u);var h=e.getBoxLayoutParams(),c={width:r.getWidth(),height:r.getHeight()},p=e.get("padding"),f=In(h,c,p),g=this.layoutInner(e,a,f,o,l,u),m=In(Ee({width:g.width,height:g.height},h),c,p);this.group.x=m.x-g.x,this.group.y=m.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=ST(g,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,i,r,o,a,s,l){var u=this.getContentGroup(),h=Ne(),c=i.get("selectedMode"),p=[];r.eachRawSeries(function(f){!f.get("legendHoverLink")&&p.push(f.id)}),B0(i.getData(),function(f,g){var m=f.get("name");if(!this.newlineDisabled&&(""===m||"\n"===m)){var y=new cf;return y.newline=!0,void u.add(y)}var x=r.getSeriesByName(m)[0];if(!h.get(m))if(x){var b=x.getData(),S=b.getVisual("legendLineStyle")||{},M=b.getVisual("legendIcon"),C=b.getVisual("style");this._createItem(x,m,g,f,i,e,S,C,M,c,o).on("click",uu(gD,m,null,o,p)).on("mouseover",uu(V0,x.name,null,o,p)).on("mouseout",uu(F0,x.name,null,o,p)),h.set(m,!0)}else r.eachRawSeries(function(T){if(!h.get(m)&&T.legendVisualProvider){var D=T.legendVisualProvider;if(!D.containName(m))return;var k=D.indexOfName(m),R=D.getItemVisual(k,"style"),N=D.getItemVisual(k,"legendIcon"),E=Rn(R.fill);E&&0===E[3]&&(E[3]=.2,R=ae(ae({},R),{fill:yi(E,"rgba")})),this._createItem(T,m,g,f,i,e,{},R,N,c,o).on("click",uu(gD,null,m,o,p)).on("mouseover",uu(V0,null,m,o,p)).on("mouseout",uu(F0,null,m,o,p)),h.set(m,!0)}},this)},this),a&&this._createSelector(a,i,o,s,l)},t.prototype._createSelector=function(e,i,r,o,a){var s=this.getSelectorGroup();B0(e,function(l){var u=l.type,h=new gt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:"all"===u?"legendAllSelect":"legendInverseSelect"})}});s.add(h),ri(h,{normal:i.getModel("selectorLabel"),emphasis:i.getModel(["emphasis","selectorLabel"])},{defaultText:l.title}),la(h)})},t.prototype._createItem=function(e,i,r,o,a,s,l,u,h,c,p){var Y,j,Z,f=e.visualDrawType,g=a.get("itemWidth"),m=a.get("itemHeight"),y=a.isSelected(i),x=o.get("symbolRotate"),b=o.get("symbolKeepAspect"),S=o.get("icon"),M=function(Y,j,Z,q,J,te,ne){function le(Ce,Pe){"auto"===Ce.lineWidth&&(Ce.lineWidth=Pe.lineWidth>0?2:0),B0(Ce,function(Ye,Ke){"inherit"===Ce[Ke]&&(Ce[Ke]=Pe[Ke])})}var ye=j.getModel("itemStyle"),ie=ye.getItemStyle(),he=0===Y.lastIndexOf("empty",0)?"fill":"stroke",xe=ye.getShallow("decal");ie.decal=xe&&"inherit"!==xe?Gl(xe,ne):q.decal,"inherit"===ie.fill&&(ie.fill=q[J]),"inherit"===ie.stroke&&(ie.stroke=q[he]),"inherit"===ie.opacity&&(ie.opacity=("fill"===J?q:Z).opacity),le(ie,q);var be=j.getModel("lineStyle"),ge=be.getLineStyle();if(le(ge,Z),"auto"===ie.fill&&(ie.fill=q.fill),"auto"===ie.stroke&&(ie.stroke=q.fill),"auto"===ge.stroke&&(ge.stroke=q.fill),!te){var we=j.get("inactiveBorderWidth");ie.lineWidth="auto"===we?q.lineWidth>0&&ie[he]?2:0:ie.lineWidth,ie.fill=j.get("inactiveColor"),ie.stroke=j.get("inactiveBorderColor"),ge.stroke=be.get("inactiveColor"),ge.lineWidth=be.get("inactiveWidth")}return{itemStyle:ie,lineStyle:ge}}(h=S||h||"roundRect",o,l,u,f,y,p),C=new cf,T=o.getModel("textStyle");if(!ze(e.getLegendIcon)||S&&"inherit"!==S){var D="inherit"===S&&e.getData().getVisual("symbol")?"inherit"===x?e.getData().getVisual("symbolRotate"):x:0;C.add(((Z=pn(j=(Y={itemWidth:g,itemHeight:m,icon:h,iconRotate:D,itemStyle:M.itemStyle,lineStyle:M.lineStyle,symbolKeepAspect:b}).icon||"roundRect",0,0,Y.itemWidth,Y.itemHeight,Y.itemStyle.fill,Y.symbolKeepAspect)).setStyle(Y.itemStyle),Z.rotation=(Y.iconRotate||0)*Math.PI/180,Z.setOrigin([Y.itemWidth/2,Y.itemHeight/2]),j.indexOf("empty")>-1&&(Z.style.stroke=Z.style.fill,Z.style.fill="#fff",Z.style.lineWidth=2),Z))}else C.add(e.getLegendIcon({itemWidth:g,itemHeight:m,icon:h,iconRotate:x,itemStyle:M.itemStyle,lineStyle:M.lineStyle,symbolKeepAspect:b}));var k="left"===s?g+5:-5,R=s,N=a.get("formatter"),E=i;De(N)&&N?E=N.replace("{name}",i??""):ze(N)&&(E=N(i));var B=o.get("inactiveColor");C.add(new gt({style:$t(T,{text:E,x:k,y:m/2,fill:y?T.getTextColor():B,align:R,verticalAlign:"middle"})}));var G=new ht({shape:C.getBoundingRect(),invisible:!0}),H=o.getModel("tooltip");return H.get("show")&&wl({el:G,componentModel:a,itemName:i,itemTooltipOption:H.option}),C.add(G),C.eachChild(function(Y){Y.silent=!0}),G.silent=!c,this.getContentGroup().add(C),la(C),C.__legendDataIndex=r,C},t.prototype.layoutInner=function(e,i,r,o,a,s){var l=this.getContentGroup(),u=this.getSelectorGroup();ws(e.get("orient"),l,e.get("itemGap"),r.width,r.height);var h=l.getBoundingRect(),c=[-h.x,-h.y];if(u.markRedraw(),l.markRedraw(),a){ws("horizontal",u,e.get("selectorItemGap",!0));var p=u.getBoundingRect(),f=[-p.x,-p.y],g=e.get("selectorButtonGap",!0),m=e.getOrient().index,y=0===m?"width":"height",x=0===m?"height":"width",b=0===m?"y":"x";"end"===s?f[m]+=h[y]+g:c[m]+=p[y]+g,f[1-m]+=h[x]/2-p[x]/2,u.x=f[0],u.y=f[1],l.x=c[0],l.y=c[1];var S={x:0,y:0};return S[y]=h[y]+g+p[y],S[x]=Math.max(h[x],p[x]),S[b]=Math.min(0,p[b]+f[1-m]),S}return l.x=c[0],l.y=c[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Yt);function gD(n,t,e,i){F0(n,t,e,i),e.dispatchAction({type:"legendToggleSelect",name:n??t}),V0(n,t,e,i)}function mD(n){for(var t,e=n.getZr().storage.getDisplayList(),i=0,r=e.length;i<r&&!(t=e[i].states.emphasis);)i++;return t&&t.hoverLayer}function V0(n,t,e,i){mD(e)||e.dispatchAction({type:"highlight",seriesName:n,name:t,excludeSeriesId:i})}function F0(n,t,e,i){mD(e)||e.dispatchAction({type:"downplay",seriesName:n,name:t,excludeSeriesId:i})}function h3(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0})}function _c(n,t,e){var i,r={},o="toggleSelected"===n;return e.eachComponent("legend",function(a){o&&null!=i?a[i?"select":"unSelect"](t.name):"allSelect"===n||"inverseSelect"===n?a[n]():(a[n](t.name),i=a.isSelected(t.name)),V(a.getData(),function(s){var l=s.get("name");if("\n"!==l&&""!==l){var u=a.isSelected(l);r[l]=r.hasOwnProperty(l)?r[l]&&u:u}})}),"allSelect"===n||"inverseSelect"===n?{selected:r}:{name:t.name,selected:r}}function vD(n){n.registerComponentModel(z0),n.registerComponentView(fD),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,h3),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function(t){t.registerAction("legendToggleSelect","legendselectchanged",We(_c,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",We(_c,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",We(_c,"inverseSelect")),t.registerAction("legendSelect","legendselected",We(_c,"select")),t.registerAction("legendUnSelect","legendunselected",We(_c,"unSelect"))}(n)}var c3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,i,r){var o=Tl(e);n.prototype.init.call(this,e,i,r),yD(this,e,o)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),yD(this,this.option,e)},t.type="legend.scroll",t.defaultOption=da(z0.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(z0);function yD(n,t,e){var i=[1,1];i[n.getOrient().index]=0,pa(t,e,{type:"box",ignoreSize:!!i})}var xD=He,W0=["width","height"],G0=["x","y"],d3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return Q(t,n),t.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new xD),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new xD)},t.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,i,r,o,a,s,l){var u=this;n.prototype.renderInner.call(this,e,i,r,o,a,s,l);var h=this._controllerGroup,c=i.get("pageIconSize",!0),p=ce(c)?c:[c,c];g("pagePrev",0);var f=i.getModel("pageTextStyle");function g(m,y){var x=m+"DataIndex",b=bl(i.get("pageIcons",!0)[i.getOrient().name][y],{onclick:F(u._pageGo,u,x,i,o)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});b.name=m,h.add(b)}h.add(new gt({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1)},t.prototype.layoutInner=function(e,i,r,o,a,s){var l=this.getSelectorGroup(),u=e.getOrient().index,h=W0[u],c=G0[u],p=W0[1-u],f=G0[1-u];a&&ws("horizontal",l,e.get("selectorItemGap",!0));var g=e.get("selectorButtonGap",!0),m=l.getBoundingRect(),y=[-m.x,-m.y],x=Re(r);a&&(x[h]=r[h]-m[h]-g);var b=this._layoutContentAndController(e,o,x,u,h,p,f,c);if(a){if("end"===s)y[u]+=b[h]+g;else{var S=m[h]+g;y[u]-=S,b[c]-=S}b[h]+=m[h]+g,y[1-u]+=b[f]+b[p]/2-m[p]/2,b[p]=Math.max(b[p],m[p]),b[f]=Math.min(b[f],m[f]+y[1-u]),l.x=y[0],l.y=y[1],l.markRedraw()}return b},t.prototype._layoutContentAndController=function(e,i,r,o,a,s,l,u){var h=this.getContentGroup(),c=this._containerGroup,p=this._controllerGroup;ws(e.get("orient"),h,e.get("itemGap"),o?r.width:null,o?null:r.height),ws("horizontal",p,e.get("pageButtonItemGap",!0));var f=h.getBoundingRect(),g=p.getBoundingRect(),m=this._showController=f[a]>r[a],y=[-f.x,-f.y];i||(y[o]=h[u]);var x=[0,0],b=[-g.x,-g.y],S=pe(e.get("pageButtonGap",!0),e.get("itemGap",!0));m&&("end"===e.get("pageButtonPosition",!0)?b[o]+=r[a]-g[a]:x[o]+=g[a]+S),b[1-o]+=f[s]/2-g[s]/2,h.setPosition(y),c.setPosition(x),p.setPosition(b);var M={x:0,y:0};if(M[a]=m?r[a]:f[a],M[s]=Math.max(f[s],g[s]),M[l]=Math.min(0,g[l]+b[1-o]),c.__rectSize=r[a],m){var C={x:0,y:0};C[a]=Math.max(r[a]-g[a]-S,0),C[s]=M[s],c.setClipPath(new ht({shape:C})),c.__rectSize=C[a]}else p.eachChild(function(D){D.attr({invisible:!0,silent:!0})});var T=this._getPageInfo(e);return null!=T.pageIndex&&vt(h,{x:T.contentPosition[0],y:T.contentPosition[1]},m?e:null),this._updatePageInfoView(e,T),M},t.prototype._pageGo=function(e,i,r){var o=this._getPageInfo(i)[e];null!=o&&r.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:i.id})},t.prototype._updatePageInfoView=function(e,i){var r=this._controllerGroup;V(["pagePrev","pageNext"],function(h){var c=null!=i[h+"DataIndex"],p=r.childOfName(h);p&&(p.setStyle("fill",e.get(c?"pageIconColor":"pageIconInactiveColor",!0)),p.cursor=c?"pointer":"default")});var o=r.childOfName("pageText"),a=e.get("pageFormatter"),s=i.pageIndex,l=null!=s?s+1:0,u=i.pageCount;o&&a&&o.setStyle("text",De(a)?a.replace("{current}",null==l?"":l+"").replace("{total}",null==u?"":u+""):a({current:l,total:u}))},t.prototype._getPageInfo=function(e){var i=e.get("scrollDataIndex",!0),r=this.getContentGroup(),o=this._containerGroup.__rectSize,a=e.getOrient().index,s=W0[a],l=G0[a],u=this._findTargetItemIndex(i),h=r.children(),c=h[u],p=h.length,f=p?1:0,g={contentPosition:[r.x,r.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return g;var m=M(c);g.contentPosition[a]=-m.s;for(var y=u+1,x=m,b=m,S=null;y<=p;++y)(!(S=M(h[y]))&&b.e>x.s+o||S&&!C(S,x.s))&&(x=b.i>x.i?b:S)&&(null==g.pageNextDataIndex&&(g.pageNextDataIndex=x.i),++g.pageCount),b=S;for(y=u-1,x=m,b=m,S=null;y>=-1;--y)(S=M(h[y]))&&C(b,S.s)||!(x.i<b.i)||(b=x,null==g.pagePrevDataIndex&&(g.pagePrevDataIndex=x.i),++g.pageCount,++g.pageIndex),x=S;return g;function M(T){if(T){var D=T.getBoundingRect(),k=D[l]+T[l];return{s:k,e:k+D[s],i:T.__legendDataIndex}}}function C(T,D){return T.e>=D&&T.s<=D+o}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild(function(o,a){var s=o.__legendDataIndex;null==r&&null!=s&&(r=a),s===e&&(i=a)}),i??r):0;var i,r},t.type="legend.scroll",t}(fD);function p3(n){rt(vD),n.registerComponentModel(c3),n.registerComponentView(d3),function(t){t.registerAction("legendScroll","legendscroll",function(e,i){var r=e.scrollDataIndex;null!=r&&i.eachComponent({mainType:"legend",subType:"scroll",query:e},function(o){o.setScrollDataIndex(r)})})}(n)}var f3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.type="dataZoom.inside",t.defaultOption=da(fc.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(fc),H0=_t();function g3(n,t,e){H0(n).coordSysRecordMap.each(function(i){var r=i.dataZoomInfoMap.get(t.uid);r&&(r.getRange=e)})}function _D(n,t){if(t){n.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function m3(n,t){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function v3(n,t,e,i){return n.coordinateSystem.containPoint([e,i])}var x3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return Q(t,n),t.prototype.render=function(e,i,r){n.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),g3(r,e,{pan:F(U0.pan,this),zoom:F(U0.zoom,this),scrollMove:F(U0.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){(function(e,i){for(var r=H0(e).coordSysRecordMap,o=r.keys(),a=0;a<o.length;a++){var l=r.get(o[a]),u=l.dataZoomInfoMap;if(u){var h=i.uid;u.get(h)&&(u.removeKey(h),u.keys().length||_D(r,l))}}})(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(g0),U0={zoom:function(n,t,e,i){var r=this.range,o=r.slice(),a=n.axisModels[0];if(a){var s=Y0[t](null,[i.originX,i.originY],a,e,n),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/i.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var h=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Ws(0,o,[0,100],0,h.minSpan,h.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:bD(function(n,t,e,i,r,o){var a=Y0[i]([o.oldX,o.oldY],[o.newX,o.newY],t,r,e);return a.signal*(n[1]-n[0])*a.pixel/a.pixelLength}),scrollMove:bD(function(n,t,e,i,r,o){return Y0[i]([0,0],[o.scrollDelta,o.scrollDelta],t,r,e).signal*(n[1]-n[0])*o.scrollDelta})};function bD(n){return function(t,e,i,r){var o=this.range,a=o.slice(),s=t.axisModels[0];if(s)return Ws(n(a,s,t,e,i,r),a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}var Y0={grid:function(n,t,e,i,r){var o=e.axis,a={},s=r.model.coordinateSystem.getRect();return n=n||[0,0],"x"===o.dim?(a.pixel=t[0]-n[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=t[1]-n[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(n,t,e,i,r){var o=e.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return n=n?s.pointToCoord(n):[0,0],t=s.pointToCoord(t),"radiusAxis"===e.mainType?(a.pixel=t[0]-n[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=t[1]-n[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?-1:1),a},singleAxis:function(n,t,e,i,r){var o=e.axis,a=r.model.coordinateSystem.getRect(),s={};return n=n||[0,0],"horizontal"===o.orient?(s.pixel=t[0]-n[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=t[1]-n[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}};function wD(n){m0(n),n.registerComponentModel(f3),n.registerComponentView(x3),function y3(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(t,e){var i=H0(e),r=i.coordSysRecordMap||(i.coordSysRecordMap=Ne());r.each(function(o){o.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){V(vT(o).infoList,function(a){var u,h,c,p,s=a.model.uid,l=r.get(s)||r.set(s,(u=e,c={model:h=a.model,containsPoint:We(v3,h),dispatchAction:We(m3,u),dataZoomInfoMap:null,controller:null},p=c.controller=new Jh(u.getZr()),V(["pan","zoom","scrollMove"],function(f){p.on(f,function(g){var m=[];c.dataZoomInfoMap.each(function(y){if(g.isAvailableBehavior(y.model.option)){var x=(y.getRange||{})[f],b=x&&x(y.dzReferCoordSysInfo,c.model.mainType,c.controller,g);!y.model.get("disabled",!0)&&b&&m.push({dataZoomId:y.model.id,start:b[0],end:b[1]})}}),m.length&&c.dispatchAction(m)})}),c));(l.dataZoomInfoMap||(l.dataZoomInfoMap=Ne())).set(o.uid,{dzReferCoordSysInfo:a,model:o,getRange:null})})}),r.each(function(o){var a,p,f,g,m,s=o.controller,l=o.dataZoomInfoMap;if(l){var u=l.keys()[0];null!=u&&(a=l.get(u))}if(a){var h=(f="type_",g={type_true:2,type_move:1,type_false:0,type_undefined:-1},m=!0,l.each(function(y){var x=y.model,b=!x.get("disabled",!0)&&(!x.get("zoomLock",!0)||"move");g[f+b]>g[f+p]&&(p=b),m=m&&x.get("preventDefaultMouseMove",!0)}),{controlType:p,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!m}});s.enable(h.controlType,h.opt),s.setPointerChecker(o.containsPoint),zl(o,"dispatchAction",a.model.get("throttle",!0),"fixRate")}else _D(r,o)})})}(n)}var _3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=da(fc.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(fc),bc=ht,wc="horizontal",SD="vertical",b3=["line","bar","candlestick","scatter"],w3={easing:"cubicOut",duration:100,delay:0},S3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return Q(t,n),t.prototype.init=function(e,i){this.api=i,this._onBrush=F(this._onBrush,this),this._onBrushEnd=F(this._onBrushEnd,this)},t.prototype.render=function(e,i,r,o){if(n.prototype.render.apply(this,arguments),zl(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){wh(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new He;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(i),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,i=this.api,r=e.get("brushSelect")?7:0,o=this._findCoordRect(),a={width:i.getWidth(),height:i.getHeight()},s=this._orient===wc?{right:a.width-o.x-o.width,top:a.height-30-7-r,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},l=Tl(e.option);V(["right","top","width","height"],function(h){"ph"===l[h]&&(l[h]=s[h])});var u=In(l,a);this._location={x:u.x,y:u.y},this._size=[u.width,u.height],this._orient===SD&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,i=this._location,r=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),a=o&&o.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r!==wc||a?r===wc&&a?{scaleY:l?1:-1,scaleX:-1}:r!==SD||a?{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?1:-1,scaleX:1});var u=e.getBoundingRect([s]);e.x=i.x-u.x,e.y=i.y-u.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,i=this._size,r=this._displayables.sliderGroup,o=e.get("brushSelect");r.add(new bc({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var a=new bc({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:F(this._onClickPanel,this)}),s=this.api.getZr();o?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(a)},t.prototype._renderDataShadow=function(){var R,N,E,B,e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var i=this._size,r=this._shadowSize||[],o=e.series,a=o.getRawData(),s=o.getShadowDim?o.getShadowDim():e.otherDim;if(null!=s){var l=this._shadowPolygonPts,u=this._shadowPolylinePts;if(a!==this._shadowData||s!==this._shadowDim||i[0]!==r[0]||i[1]!==r[1]){var h=a.getDataExtent(s),c=.3*(h[1]-h[0]);h=[h[0]-c,h[1]+c];var p,f=[0,i[1]],m=[[i[0],0],[0,0]],y=[],x=i[0]/(a.count()-1),b=0,S=Math.round(a.count()/i[0]);a.each([s],function(k,R){if(S>0&&R%S)b+=x;else{var N=null==k||isNaN(k)||""===k,E=N?0:kt(k,h,f,!0);N&&!p&&R?(m.push([m[m.length-1][0],0]),y.push([y[y.length-1][0],0])):!N&&p&&(m.push([b,0]),y.push([b,0])),m.push([b,E]),y.push([b,E]),b+=x,p=N}}),l=this._shadowPolygonPts=m,u=this._shadowPolylinePts=y}this._shadowData=a,this._shadowDim=s,this._shadowSize=[i[0],i[1]];for(var M=this.dataZoomModel,C=0;C<3;C++){var T=(R=void 0,N=void 0,void 0,void 0,R=M.getModel(1===C?"selectedDataBackground":"dataBackground"),N=new He,E=new ni({shape:{points:l},segmentIgnoreThreshold:1,style:R.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),B=new ii({shape:{points:u},segmentIgnoreThreshold:1,style:R.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),N.add(E),N.add(B),N);this._displayables.sliderGroup.add(T),this._displayables.dataShadowSegs.push(T)}}}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,i=e.get("showDataShadow");if(!1!==i){var r,o=this.ecModel;return e.eachTargetAxis(function(a,s){V(e.getAxisProxy(a,s).getTargetSeriesModels(),function(l){if(!(r||!0!==i&&je(b3,l.get("type"))<0)){var u,h=o.getComponent(Aa(a),s).axis,c={x:"y",y:"x",radius:"angle",angle:"radius"}[a],p=l.coordinateSystem;null!=c&&p.getOtherAxis&&(u=p.getOtherAxis(h).inverse),c=l.getData().mapDimension(c),r={thisAxis:h,series:l,thisDim:a,otherDim:c,otherAxisInverse:u}}},this)},this),r}},t.prototype._renderHandle=function(){var e=this.group,i=this._displayables,r=i.handles=[null,null],o=i.handleLabels=[null,null],a=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,h=l.get("borderRadius")||0,c=l.get("brushSelect"),p=i.filler=new bc({silent:c,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(p),a.add(new bc({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:h},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),V([0,1],function(S){var M=l.get("handleIcon");!Bd[M]&&M.indexOf("path://")<0&&M.indexOf("image://")<0&&(M="path://"+M);var C=pn(M,-1,0,2,2,null,!0);C.attr({cursor:MD(this._orient),draggable:!0,drift:F(this._onDragMove,this,S),ondragend:F(this._onDragEnd,this),onmouseover:F(this._showDataInfo,this,!0),onmouseout:F(this._showDataInfo,this,!1),z2:5});var T=C.getBoundingRect(),D=l.get("handleSize");this._handleHeight=Te(D,this._size[1]),this._handleWidth=T.width/T.height*this._handleHeight,C.setStyle(l.getModel("handleStyle").getItemStyle()),C.style.strokeNoScale=!0,C.rectHover=!0,C.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),la(C);var k=l.get("handleColor");null!=k&&(C.style.fill=k),a.add(r[S]=C);var R=l.getModel("textStyle");e.add(o[S]=new gt({silent:!0,invisible:!0,style:$t(R,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:R.getTextColor(),font:R.getFont()}),z2:10}))},this);var f=p;if(c){var g=Te(l.get("moveHandleSize"),s[1]),m=i.moveHandle=new ht({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:g}}),y=.8*g,x=i.moveHandleIcon=pn(l.get("moveHandleIcon"),-y/2,-y/2,y,y,"#fff",!0);x.silent=!0,x.y=s[1]+g/2-.5,m.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var b=Math.min(s[1]/2,Math.max(g,10));(f=i.moveZone=new ht({invisible:!0,shape:{y:s[1]-b,height:g+b}})).on("mouseover",function(){u.enterEmphasis(m)}).on("mouseout",function(){u.leaveEmphasis(m)}),a.add(m),a.add(x),a.add(f)}f.attr({draggable:!0,cursor:MD(this._orient),drift:F(this._onDragMove,this,"all"),ondragstart:F(this._showDataInfo,this,!0),ondragend:F(this._onDragEnd,this),onmouseover:F(this._showDataInfo,this,!0),onmouseout:F(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[kt(e[0],[0,100],i,!0),kt(e[1],[0,100],i,!0)]},t.prototype._updateInterval=function(e,i){var r=this.dataZoomModel,o=this._handleEnds,a=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Ws(i,o,a,r.get("zoomLock")?"all":e,null!=s.minSpan?kt(s.minSpan,l,a,!0):null,null!=s.maxSpan?kt(s.maxSpan,l,a,!0):null);var u=this._range,h=this._range=Ei([kt(o[0],a,l,!0),kt(o[1],a,l,!0)]);return!u||u[0]!==h[0]||u[1]!==h[1]},t.prototype._updateView=function(e){var i=this._displayables,r=this._handleEnds,o=Ei(r.slice()),a=this._size;V([0,1],function(f){var m=this._handleHeight;i.handles[f].attr({scaleX:m/2,scaleY:m/2,x:r[f]+(f?-1:1),y:a[1]/2-m/2})},this),i.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:a[1]});var s={x:o[0],width:o[1]-o[0]};i.moveHandle&&(i.moveHandle.setShape(s),i.moveZone.setShape(s),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=i.dataShadowSegs,u=[0,o[0],o[1],a[0]],h=0;h<l.length;h++){var c=l[h],p=c.getClipPath();p||(p=new ht,c.setClipPath(p)),p.setShape({x:u[h],y:0,width:u[h+1]-u[h],height:a[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var i=this.dataZoomModel,r=this._displayables,o=r.handleLabels,a=this._orient,s=["",""];if(i.get("showDetail")){var l=i.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,h=this._range,c=e?l.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(c[0],u),this._formatLabel(c[1],u)]}}var p=Ei(this._handleEnds.slice());function f(g){var m=ha(r.handles[g].parent,this.group),y=gd(0===g?"right":"left",m),x=this._handleWidth/2+5,b=Ar([p[g]+(0===g?-x:x),this._size[1]/2],m);o[g].setStyle({x:b[0],y:b[1],verticalAlign:a===wc?"middle":y,align:a===wc?y:"center",text:s[g]})}f.call(this,0),f.call(this,1)},t.prototype._formatLabel=function(e,i){var r=this.dataZoomModel,o=r.get("labelFormatter"),a=r.get("labelPrecision");null!=a&&"auto"!==a||(a=i.getPixelPrecision());var s=null==e||isNaN(e)?"":"category"===i.type||"time"===i.type?i.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(a,20));return ze(o)?o(e,s):De(o)?o.replace("{value}",s):s},t.prototype._showDataInfo=function(e){var i=this._displayables,r=i.handleLabels;r[0].attr("invisible",!(e=this._dragging||e)),r[1].attr("invisible",!e),i.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},t.prototype._onDragMove=function(e,i,r,o){this._dragging=!0,ci(o.event);var a=Ar([i,r],this._displayables.sliderGroup.getLocalTransform(),!0),s=this._updateInterval(e,a[0]),l=this.dataZoomModel.get("realtime");this._updateView(!l),s&&l&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var i=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(r[0]<0||r[0]>i[0]||r[1]<0||r[1]>i[1])){var o=this._handleEnds,s=this._updateInterval("all",r[0]-(o[0]+o[1])/2);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){this._brushStart=new X(e.offsetX,e.offsetY),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,i){i.attr("ignore",!0);var r=i.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),a=[0,100];this._range=Ei([kt(r.x,o,a,!0),kt(r.x+r.width,o,a,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(ci(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,i){var r=this._displayables,a=r.brushRect;a||(a=r.brushRect=new bc({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(a)),a.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(e,i),h=l.transformCoordToLocal(s.x,s.y),c=this._size;u[0]=Math.max(Math.min(c[0],u[0]),0),a.setShape({x:h[0],y:0,width:u[0]-h[0],height:c[1]})},t.prototype._dispatchZoomAction=function(e){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?w3:null,start:i[0],end:i[1]})},t.prototype._findCoordRect=function(){var e,i=vT(this.dataZoomModel).infoList;if(!e&&i.length){var r=i[0].model.coordinateSystem;e=r.getRect&&r.getRect()}if(!e){var o=this.api.getWidth(),a=this.api.getHeight();e={x:.2*o,y:.2*a,width:.6*o,height:.6*a}}return e},t.type="dataZoom.slider",t}(g0);function MD(n){return"vertical"===n?"ns-resize":"ew-resize"}function ID(n){n.registerComponentModel(_3),n.registerComponentView(S3),m0(n)}var CD=function(n,t,e){var i=Re((M3[n]||{})[t]);return e&&ce(i)?i[i.length-1]:i},M3={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},TD=Fn.mapVisual,I3=Fn.eachVisual,C3=ce,DD=V,T3=Ei,D3=kt,df=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return Q(t,n),t.prototype.init=function(e,i,r){this.mergeDefaultAndTheme(e,r)},t.prototype.optionUpdated=function(e,i){!i&&jT(this.option,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var i=this.stateList;e=F(e,this),this.controllerVisuals=T0(this.option.controller,i,e),this.targetVisuals=T0(this.option.target,i,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,i=[];return null==e||"all"===e?this.ecModel.eachSeries(function(r,o){i.push(o)}):i=zt(e),i},t.prototype.eachTargetSeries=function(e,i){V(this.getTargetSeriesIndices(),function(r){var o=this.ecModel.getSeriesByIndex(r);o&&e.call(i,o)},this)},t.prototype.isTargetSeries=function(e){var i=!1;return this.eachTargetSeries(function(r){r===e&&(i=!0)}),i},t.prototype.formatValueText=function(e,i,r){var o,a=this.option,s=a.precision,l=this.dataBound,u=a.formatter;r=r||["<",">"],ce(e)&&(e=e.slice(),o=!0);var h=i?e:o?[c(e[0]),c(e[1])]:c(e);return De(u)?u.replace("{value}",o?h[0]:h).replace("{value2}",o?h[1]:h):ze(u)?o?u(e[0],e[1]):u(e):o?e[0]===l[0]?r[0]+" "+h[1]:e[1]===l[1]?r[1]+" "+h[0]:h[0]+" - "+h[1]:h;function c(p){return p===l[0]?"min":p===l[1]?"max":(+p).toFixed(Math.min(s,20))}},t.prototype.resetExtent=function(){var e=this.option,i=T3([e.min,e.max]);this._dataExtent=i},t.prototype.getDataDimensionIndex=function(e){var i=this.option.dimension;if(null!=i)return e.getDimensionIndex(i);for(var r=e.dimensions,o=r.length-1;o>=0;o--){var s=e.getDimensionInfo(r[o]);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,i=this.option,r={inRange:i.inRange,outOfRange:i.outOfRange},o=i.target||(i.target={}),a=i.controller||(i.controller={});qe(o,r),qe(a,r);var s=this.isCategory();function l(u){C3(i.color)&&!u.inRange&&(u.inRange={color:i.color.slice().reverse()}),u.inRange=u.inRange||{color:e.get("gradientColor")}}l.call(this,o),l.call(this,a),function(u,h,c){var p=u[h],f=u[c];p&&!f&&(f=u[c]={},DD(p,function(g,m){if(Fn.isValidType(m)){var y=CD(m,"inactive",s);null!=y&&(f[m]=y,"color"!==m||f.hasOwnProperty("opacity")||f.hasOwnProperty("colorAlpha")||(f.opacity=[0,0]))}}))}.call(this,o,"inRange","outOfRange"),function(u){var h=(u.inRange||{}).symbol||(u.outOfRange||{}).symbol,c=(u.inRange||{}).symbolSize||(u.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),f=this.getItemSymbol()||"roundRect";DD(this.stateList,function(g){var m=this.itemSize,y=u[g];y||(y=u[g]={color:s?p:[p]}),null==y.symbol&&(y.symbol=h&&Re(h)||(s?f:[f])),null==y.symbolSize&&(y.symbolSize=c&&Re(c)||(s?m[0]:[m[0],m[0]])),y.symbol=TD(y.symbol,function(S){return"none"===S?f:S});var x=y.symbolSize;if(null!=x){var b=-1/0;I3(x,function(S){S>b&&(b=S)}),y.symbolSize=TD(x,function(S){return D3(S,[0,b],[0,m[0]],!0)})}},this)}.call(this,a)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(st),AD=[20,140],A3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.optionUpdated=function(e,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=AD[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=AD[1])},t.prototype._resetRange=function(){var e=this.getExtent(),i=this.option.range;!i||i.auto?(e.auto=1,this.option.range=e):ce(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],e[0]),i[1]=Math.min(i[1],e[1]))},t.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),V(this.stateList,function(e){var i=this.option.controller[e].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),i=Ei((this.get("range")||[]).slice());return i[0]>e[1]&&(i[0]=e[1]),i[1]>e[1]&&(i[1]=e[1]),i[0]<e[0]&&(i[0]=e[0]),i[1]<e[0]&&(i[1]=e[0]),i},t.prototype.getValueState=function(e){var i=this.option.range,r=this.getExtent();return(i[0]<=r[0]||i[0]<=e)&&(i[1]>=r[1]||e<=i[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var i=[];return this.eachTargetSeries(function(r){var o=[],a=r.getData();a.each(this.getDataDimensionIndex(a),function(s,l){e[0]<=s&&s<=e[1]&&o.push(l)},this),i.push({seriesId:r.id,dataIndex:o})},this),i},t.prototype.getVisualMeta=function(e){var i=kD(0,0,this.getExtent()),r=kD(0,0,this.option.range.slice()),o=[];function a(f,g){o.push({value:f,color:e(f,g)})}for(var s=0,l=0,u=r.length,h=i.length;l<h&&(!r.length||i[l]<=r[0]);l++)i[l]<r[s]&&a(i[l],"outOfRange");for(var c=1;s<u;s++,c=0)c&&o.length&&a(r[s],"outOfRange"),a(r[s],"inRange");for(c=1;l<h;l++)(!r.length||r[r.length-1]<i[l])&&(c&&(o.length&&a(o[o.length-1].value,"outOfRange"),c=0),a(i[l],"outOfRange"));var p=o.length;return{stops:o,outerColors:[p?o[0].color:"transparent",p?o[p-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=da(df.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(df);function kD(n,t,e){if(e[0]===e[1])return e.slice();for(var i=(e[1]-e[0])/200,r=e[0],o=[],a=0;a<=200&&r<e[1];a++)o.push(r),r+=i;return o.push(e[1]),o}var LD=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return Q(t,n),t.prototype.init=function(e,i){this.ecModel=e,this.api=i},t.prototype.render=function(e,i,r,o){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,i,r,o):this.group.removeAll()},t.prototype.renderBackground=function(e){var i=this.visualMapModel,r=xs(i.get("padding")||0),o=e.getBoundingRect();e.add(new ht({z2:-1,silent:!0,shape:{x:o.x-r[3],y:o.y-r[0],width:o.width+r[3]+r[1],height:o.height+r[0]+r[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,i,r){var o=(r=r||{}).forceState,a=this.visualMapModel,s={};if("color"===i){var l=a.get("contentColor");s.color=l}function u(p){return s[p]}function h(p,f){s[p]=f}var c=a.controllerVisuals[o||a.getValueState(e)];return V(Fn.prepareVisualTypes(c),function(p){var f=c[p];r.convertOpacityToAlpha&&"opacity"===p&&(p="colorAlpha",f=c.__alphaForOpacity),Fn.dependsOn(p,i)&&f&&f.applyVisual(e,u,h)}),s[i]},t.prototype.positionGroup=function(e){var r=this.api;Cd(e,this.visualMapModel.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},t.prototype.doRender=function(e,i,r,o){},t.type="visualMap",t}(Yt),PD=[["left","right","width"],["top","bottom","height"]];function OD(n,t,e){var i=n.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:t.getWidth(),height:t.getHeight()},a="horizontal"===i.orient?1:0,s=PD[a],l=[0,null,10],u={},h=0;h<3;h++)u[PD[1-a][h]]=l[h],u[s[h]]=2===h?e[0]:i[s[h]];var c=[["x","width",3],["y","height",0]][a],p=In(u,o,i.padding);return s[(p.margin[c[2]]||0)+p[c[0]]+.5*p[c[1]]<.5*o[c[1]]?0:1]}function pf(n,t){return V(n||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),n}var so=kt,k3=V,RD=Math.min,X0=Math.max,L3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return Q(t,n),t.prototype.doRender=function(e,i,r,o){this._api=r,o&&"selectDataRange"===o.type&&o.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,i=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(i);var r=e.get("text");this._renderEndsText(i,r,0),this._renderEndsText(i,r,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},t.prototype._renderEndsText=function(e,i,r){if(i){var o=i[1-r];o=null!=o?o+"":"";var a=this.visualMapModel,s=a.get("textGap"),l=a.itemSize,u=this._shapes.mainGroup,h=this._applyTransform([l[0]/2,0===r?-s:l[1]+s],u),c=this._applyTransform(0===r?"bottom":"top",u),p=this._orient;this.group.add(new gt({style:$t(this.visualMapModel.textStyleModel,{x:h[0],y:h[1],verticalAlign:"horizontal"===p?"middle":c,align:"horizontal"===p?c:"center",text:o})}))}},t.prototype._renderBar=function(e){var i=this.visualMapModel,r=this._shapes,o=i.itemSize,a=this._orient,s=this._useHandle,l=OD(i,this.api,o),u=r.mainGroup=this._createBarGroup(l),h=new He;u.add(h),h.add(r.outOfRange=ND()),h.add(r.inRange=ND(null,s?zD(this._orient):null,F(this._dragHandle,this,"all",!1),F(this._dragHandle,this,"all",!0))),h.setClipPath(new ht({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var c=i.textStyleModel.getTextRect("\u56fd"),p=X0(c.width,c.height);s&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(i,u,0,o,p,a),this._createHandle(i,u,1,o,p,a)),this._createIndicator(i,u,o,p,a),e.add(u)},t.prototype._createHandle=function(e,i,r,o,a,s){var l=F(this._dragHandle,this,r,!1),u=F(this._dragHandle,this,r,!0),h=Tt(e.get("handleSize"),o[0]),c=pn(e.get("handleIcon"),-h/2,-h/2,h,h,null,!0),p=zD(this._orient);c.attr({cursor:p,draggable:!0,drift:l,ondragend:u,onmousemove:function(x){ci(x.event)}}),c.x=o[0]/2,c.useStyle(e.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),gs(c,!0),i.add(c);var g=new gt({cursor:p,draggable:!0,drift:l,onmousemove:function(x){ci(x.event)},ondragend:u,style:$t(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});g.ensureState("blur").style={opacity:.1},g.stateTransition={duration:200},this.group.add(g);var m=[h,0],y=this._shapes;y.handleThumbs[r]=c,y.handleLabelPoints[r]=m,y.handleLabels[r]=g},t.prototype._createIndicator=function(e,i,r,o,a){var s=Tt(e.get("indicatorSize"),r[0]),l=pn(e.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var u=e.getModel("indicatorStyle").getItemStyle();if(l instanceof zn){var h=l.style;l.useStyle(ae({image:h.image,x:h.x,y:h.y,width:h.width,height:h.height},u))}else l.useStyle(u);i.add(l);var p=new gt({silent:!0,invisible:!0,style:$t(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(p);var f=[("horizontal"===a?o/2:6)+r[0]/2,0],g=this._shapes;g.indicator=l,g.indicatorLabel=p,g.indicatorLabelPoint=f,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,i,r,o){if(this._useHandle){if(this._dragging=!i,!i){var a=this._applyTransform([r,o],this._shapes.mainGroup,!0);this._updateInterval(e,a[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():ED(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,i=this._dataInterval=e.getSelected(),r=e.getExtent(),o=[0,e.itemSize[1]];this._handleEnds=[so(i[0],r,o,!0),so(i[1],r,o,!0)]},t.prototype._updateInterval=function(e,i){var r=this.visualMapModel,o=this._handleEnds,a=[0,r.itemSize[1]];Ws(i=i||0,o,a,e,0);var s=r.getExtent();this._dataInterval=[so(o[0],a,s,!0),so(o[1],a,s,!0)]},t.prototype._updateView=function(e){var i=this.visualMapModel,r=i.getExtent(),o=this._shapes,a=[0,i.itemSize[1]],s=e?a:this._handleEnds,l=this._createBarVisual(this._dataInterval,r,s,"inRange"),u=this._createBarVisual(r,r,a,"outOfRange");o.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),o.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(e,i,r,o){var a={forceState:o,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,a),l=[this.getControllerVisual(e[0],"symbolSize",a),this.getControllerVisual(e[1],"symbolSize",a)],u=this._createBarPoints(r,l);return{barColor:new yl(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(e,i){var r=[],o=(e[1]-e[0])/100;r.push({color:this.getControllerVisual(e[0],"color",i),offset:0});for(var a=1;a<100;a++){var s=e[0]+o*a;if(s>e[1])break;r.push({color:this.getControllerVisual(s,"color",i),offset:a/100})}return r.push({color:this.getControllerVisual(e[1],"color",i),offset:1}),r},t.prototype._createBarPoints=function(e,i){var r=this.visualMapModel.itemSize;return[[r[0]-i[0],e[0]],[r[0],e[0]],[r[0],e[1]],[r[0]-i[1],e[1]]]},t.prototype._createBarGroup=function(e){var i=this._orient,r=this.visualMapModel.get("inverse");return new He("horizontal"!==i||r?"horizontal"===i&&r?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==i||r?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,i){if(this._useHandle){var r=this._shapes,o=this.visualMapModel,a=r.handleThumbs,s=r.handleLabels,l=o.itemSize,u=o.getExtent();k3([0,1],function(h){var c=a[h];c.setStyle("fill",i.handlesColor[h]),c.y=e[h];var p=so(e[h],[0,l[1]],u,!0),f=this.getControllerVisual(p,"symbolSize");c.scaleX=c.scaleY=f/l[0],c.x=l[0]-f/2;var g=Ar(r.handleLabelPoints[h],ha(c,this.group));s[h].setStyle({x:g[0],y:g[1],text:o.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",r.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,i,r,o){var a=this.visualMapModel,s=a.getExtent(),l=a.itemSize,u=[0,l[1]],h=this._shapes,c=h.indicator;if(c){c.attr("invisible",!1);var p=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),f=this.getControllerVisual(e,"symbolSize"),g=so(e,s,u,!0),m=l[0]-f/2,y={x:c.x,y:c.y};c.y=g,c.x=m;var x=Ar(h.indicatorLabelPoint,ha(c,this.group)),b=h.indicatorLabel;b.attr("invisible",!1);var S=this._applyTransform("left",h.mainGroup),M="horizontal"===this._orient;b.setStyle({text:(r||"")+a.formatValueText(i),verticalAlign:M?S:"middle",align:M?"center":S});var C={x:m,y:g,style:{fill:p}},T={style:{x:x[0],y:x[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var D={duration:100,easing:"cubicInOut",additive:!0};c.x=y.x,c.y=y.y,c.animateTo(C,D),b.animateTo(T,D)}else c.attr(C),b.attr(T);this._firstShowIndicator=!1;var k=this._shapes.handleLabels;if(k)for(var R=0;R<k.length;R++)this._api.enterBlur(k[R])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(i){if(e._hovering=!0,!e._dragging){var r=e.visualMapModel.itemSize,o=e._applyTransform([i.offsetX,i.offsetY],e._shapes.mainGroup,!0,!0);o[1]=RD(X0(0,o[1]),r[1]),e._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=r[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,i){var y,x,b,S,r=this.visualMapModel;if(r.option.hoverLink){var a=[0,r.itemSize[1]],s=r.getExtent();e=RD(X0(a[0],e),a[1]);var l=(y=s,x=a,b=6,(S=r.get("hoverLinkDataSize"))&&(b=so(S,y,x,!0)/2),b),u=[e-l,e+l],h=so(e,a,s,!0),c=[so(u[0],a,s,!0),so(u[1],a,s,!0)];u[0]<a[0]&&(c[0]=-1/0),u[1]>a[1]&&(c[1]=1/0),i&&(c[0]===-1/0?this._showIndicator(h,c[1],"< ",l):c[1]===1/0?this._showIndicator(h,c[0],"> ",l):this._showIndicator(h,h,"\u2248 ",l));var p=this._hoverLinkDataIndices,f=[];(i||ED(r))&&(f=this._hoverLinkDataIndices=r.findTargetDataIndices(c));var g=function(m,y){var x={},b={};return S(m||[],x),S(y||[],b,x),[M(x),M(b)];function S(C,T,D){for(var k=0,R=C.length;k<R;k++){var N=An(C[k].seriesId,null);if(null==N)return;for(var E=zt(C[k].dataIndex),B=D&&D[N],G=0,H=E.length;G<H;G++){var Y=E[G];B&&B[Y]?B[Y]=null:(T[N]||(T[N]={}))[Y]=1}}}function M(C,T){var D=[];for(var k in C)if(C.hasOwnProperty(k)&&null!=C[k])if(T)D.push(+k);else{var R=M(C[k],!0);R.length&&D.push({seriesId:k,dataIndex:R})}return D}}(p,f);this._dispatchHighDown("downplay",pf(g[0],r)),this._dispatchHighDown("highlight",pf(g[1],r))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var i=e.target,r=this.visualMapModel;if(i&&null!=Ze(i).dataIndex){var o=Ze(i),a=this.ecModel.getSeriesByIndex(o.seriesIndex);if(r.isTargetSeries(a)){var s=a.getData(o.dataType),l=s.getStore().get(r.getDataDimensionIndex(s),o.dataIndex);isNaN(l)||this._showIndicator(l,l)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var r=0;r<i.length;r++)this._api.leaveBlur(i[r])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",pf(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,i,r,o){var a=ha(i,o?null:this.group);return ce(e)?Ar(e,a,r):gd(e,a,r)},t.prototype._dispatchHighDown=function(e,i){i&&i.length&&this.api.dispatchAction({type:e,batch:i})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(LD);function ND(n,t,e,i){return new ni({shape:{points:n},draggable:!!e,cursor:t,drift:e,onmousemove:function(r){ci(r.event)},ondragend:i})}function ED(n){return!!(n.get("hoverLinkOnHandle")??n.get("realtime"))}function zD(n){return"vertical"===n?"ns-resize":"ew-resize"}var P3={type:"selectDataRange",event:"dataRangeSelected",update:"update"},O3=function(n,t){t.eachComponent({mainType:"visualMap",query:n},function(e){e.setSelected(n.selected)})},R3=[{createOnAllSeries:!0,reset:function(n,t){var e=[];return t.eachComponent("visualMap",function(i){var r,o,a,s,l,u=n.pipelineContext;!i.isTargetSeries(n)||u&&u.large||e.push((r=i.stateList,o=i.targetVisuals,a=F(i.getValueState,i),s=i.getDataDimensionIndex(n.getData()),l={},V(r,function(h){var c=Fn.prepareVisualTypes(o[h]);l[h]=c}),{progress:function(h,c){var p,f;function g(R){return pm(c,f,R)}function m(R,N){kb(c,f,R,N)}null!=s&&(p=c.getDimensionIndex(s));for(var y=c.getStore();null!=(f=h.next());){var x=c.getRawDataItem(f);if(!x||!1!==x.visualMap)for(var b=null!=s?y.get(p,f):f,S=a(b),M=o[S],C=l[S],T=0,D=C.length;T<D;T++){var k=C[T];M[k]&&M[k].applyVisual(b,g,m)}}}}))}),e}},{createOnAllSeries:!0,reset:function(n,t){var e=n.getData(),i=[];t.eachComponent("visualMap",function(r){if(r.isTargetSeries(n)){var o=r.getVisualMeta(F(N3,null,n,r))||{stops:[],outerColors:[]},a=r.getDataDimensionIndex(e);a>=0&&(o.dimension=a,i.push(o))}}),n.getData().setVisual("visualMeta",i)}}];function N3(n,t,e,i){for(var r=t.targetVisuals[i],o=Fn.prepareVisualTypes(r),a={color:Ih(n.getData(),"color")},s=0,l=o.length;s<l;s++){var u=o[s],h=r["opacity"===u?"__alphaForOpacity":u];h&&h.applyVisual(e,c,p)}return a.color;function c(f){return a[f]}function p(f,g){a[f]=g}}var BD=V;function E3(n){var t=n&&n.visualMap;ce(t)||(t=t?[t]:[]),BD(t,function(e){if(e){hu(e,"splitList")&&!hu(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var i=e.pieces;i&&ce(i)&&BD(i,function(r){Oe(r)&&(hu(r,"start")&&!hu(r,"min")&&(r.min=r.start),hu(r,"end")&&!hu(r,"max")&&(r.max=r.end))})}})}function hu(n,t){return n&&n.hasOwnProperty&&n.hasOwnProperty(t)}var VD=!1;function FD(n){VD||(VD=!0,n.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),n.registerAction(P3,O3),V(R3,function(t){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,t)}),n.registerPreprocessor(E3))}function WD(n){n.registerComponentModel(A3),n.registerComponentView(L3),FD(n)}var z3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return Q(t,n),t.prototype.optionUpdated=function(e,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],B3[this._mode].call(this,this._pieceList),this._resetSelected(e,i);var o=this.option.categories;this.resetVisual(function(a,s){"categories"===r?(a.mappingMethod="category",a.categories=Re(o)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=oe(this._pieceList,function(l){return l=Re(l),"inRange"!==s&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var e=this.option,i={},r=Fn.listVisualTypes(),o=this.isCategory();function a(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}V(e.pieces,function(s){V(r,function(l){s.hasOwnProperty(l)&&(i[l]=1)})}),V(i,function(s,l){var u=!1;V(this.stateList,function(h){u=u||a(e,h,l)||a(e.target,h,l)},this),!u&&V(this.stateList,function(h){(e[h]||(e[h]={}))[l]=CD(l,"inRange"===h?"active":"inactive",o)})},this),n.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,i){var r=this.option,o=this._pieceList,a=(i?r:e).selected||{};if(r.selected=a,V(o,function(l,u){var h=this.getSelectedMapKey(l);a.hasOwnProperty(h)||(a[h]=!0)},this),"single"===r.selectedMode){var s=!1;V(o,function(l,u){var h=this.getSelectedMapKey(l);a[h]&&(s?a[h]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=Re(e)},t.prototype.getValueState=function(e){var i=Fn.findPieceIndex(e,this._pieceList);return null!=i&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var i=[],r=this._pieceList;return this.eachTargetSeries(function(o){var a=[],s=o.getData();s.each(this.getDataDimensionIndex(s),function(l,u){Fn.findPieceIndex(l,r)===e&&a.push(u)},this),i.push({seriesId:o.id,dataIndex:a})},this),i},t.prototype.getRepresentValue=function(e){var i;if(this.isCategory())i=e.value;else if(null!=e.value)i=e.value;else{var r=e.interval||[];i=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return i},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var i=[],r=["",""],o=this,a=this._pieceList.slice();if(a.length){var s=a[0].interval[0];s!==-1/0&&a.unshift({interval:[-1/0,s]}),(s=a[a.length-1].interval[1])!==1/0&&a.push({interval:[s,1/0]})}else a.push({interval:[-1/0,1/0]});var l=-1/0;return V(a,function(h){var c=h.interval;c&&(c[0]>l&&u([l,c[0]],"outOfRange"),u(c.slice()),l=c[1])},this),{stops:i,outerColors:r}}function u(h,c){var p=o.getRepresentValue({interval:h});c||(c=o.getValueState(p));var f=e(p,c);h[0]===-1/0?r[0]=f:h[1]===1/0?r[1]=f:i.push({value:h[0],color:f},{value:h[1],color:f})}},t.type="visualMap.piecewise",t.defaultOption=da(df.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(df),B3={splitNumber:function(n){var t=this.option,e=Math.min(t.precision,20),i=this.getExtent(),r=t.splitNumber;r=Math.max(parseInt(r,10),1),t.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(e)!==o&&e<5;)e++;t.precision=e,o=+o.toFixed(e),t.minOpen&&n.push({interval:[-1/0,i[0]],close:[0,0]});for(var a=0,s=i[0];a<r;s+=o,a++)n.push({interval:[s,a===r-1?i[1]:s+o],close:[1,1]});t.maxOpen&&n.push({interval:[i[1],1/0],close:[0,0]}),zf(n),V(n,function(u,h){u.index=h,u.text=this.formatValueText(u.interval)},this)},categories:function(n){var t=this.option;V(t.categories,function(e){n.push({text:this.formatValueText(e,!0),value:e})},this),GD(t,n)},pieces:function(n){var t=this.option;V(t.pieces,function(e,i){Oe(e)||(e={value:e});var r={text:"",index:i};if(null!=e.label&&(r.text=e.label),e.hasOwnProperty("value")){var o=r.value=e.value;r.interval=[o,o],r.close=[1,1]}else{for(var a=r.interval=[],s=r.close=[0,0],l=[1,0,1],u=[-1/0,1/0],h=[],c=0;c<2;c++){for(var p=[["gte","gt","min"],["lte","lt","max"]][c],f=0;f<3&&null==a[c];f++)a[c]=e[p[f]],s[c]=l[f],h[c]=2===f;null==a[c]&&(a[c]=u[c])}h[0]&&a[1]===1/0&&(s[0]=0),h[1]&&a[0]===-1/0&&(s[1]=0),a[0]===a[1]&&s[0]&&s[1]&&(r.value=a[0])}r.visual=Fn.retrieveVisuals(e),n.push(r)},this),GD(t,n),zf(n),V(n,function(e){var i=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][i[1]],[">","\u2265"][i[0]]])},this)}};function GD(n,t){var e=n.inverse;("vertical"===n.orient?!e:e)&&t.reverse()}var V3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return Q(t,n),t.prototype.doRender=function(){var e=this.group;e.removeAll();var i=this.visualMapModel,r=i.get("textGap"),o=i.textStyleModel,a=o.getFont(),s=o.getTextColor(),l=this._getItemAlign(),u=i.itemSize,h=this._getViewData(),c=h.endsText,p=_e(i.get("showLabel",!0),!c);c&&this._renderEndsText(e,c[0],u,p,l),V(h.viewPieceList,function(f){var g=f.piece,m=new He;m.onclick=F(this._onItemClick,this,g),this._enableHoverLink(m,f.indexInModelPieceList);var y=i.getRepresentValue(g);if(this._createItemSymbol(m,y,[0,0,u[0],u[1]]),p){var x=this.visualMapModel.getValueState(y);m.add(new gt({style:{x:"right"===l?-r:u[0]+r,y:u[1]/2,text:g.text,verticalAlign:"middle",align:l,font:a,fill:s,opacity:"outOfRange"===x?.5:1}}))}e.add(m)},this),c&&this._renderEndsText(e,c[1],u,p,l),ws(i.get("orient"),e,i.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,i){var r=this;e.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(a){var s=r.visualMapModel;s.option.hoverLink&&r.api.dispatchAction({type:a,batch:pf(s.findTargetDataIndices(i),s)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,i=e.option;if("vertical"===i.orient)return OD(e,this.api,e.itemSize);var r=i.align;return r&&"auto"!==r||(r="left"),r},t.prototype._renderEndsText=function(e,i,r,o,a){if(i){var s=new He;s.add(new gt({style:$t(this.visualMapModel.textStyleModel,{x:o?"right"===a?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:o?a:"center",text:i})})),e.add(s)}},t.prototype._getViewData=function(){var e=this.visualMapModel,i=oe(e.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),r=e.get("text"),o=e.get("orient"),a=e.get("inverse");return("horizontal"===o?a:!a)?i.reverse():r&&(r=r.slice().reverse()),{viewPieceList:i,endsText:r}},t.prototype._createItemSymbol=function(e,i,r){e.add(pn(this.getControllerVisual(i,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(i,"color")))},t.prototype._onItemClick=function(e){var i=this.visualMapModel,r=i.option,o=r.selectedMode;if(o){var a=Re(r.selected),s=i.getSelectedMapKey(e);"single"===o||!0===o?(a[s]=!0,V(a,function(l,u){a[u]=u===s})):a[s]=!a[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}},t.type="visualMap.piecewise",t}(LD);function HD(n){n.registerComponentModel(z3),n.registerComponentView(V3),FD(n)}var F3={label:{enabled:!0},decal:{show:!1}},UD=_t(),W3={};function G3(n,t){var e=n.getModel("aria");if(e.get("enabled")){var i=Re(F3);qe(i.label,n.getLocaleModel().get("aria"),!1),qe(e.option,i,!1),function(){if(e.getModel("decal").get("show")){var o=Ne();n.eachSeries(function(a){if(!a.isColorBySeries()){var s=o.get(a.type);s||o.set(a.type,s={}),UD(a).scope=s}}),n.eachRawSeries(function(a){if(!n.isSeriesFiltered(a))if(ze(a.enableAriaDecal))a.enableAriaDecal();else{var s=a.getData();if(a.isColorBySeries()){var l=Zg(a.ecModel,a.name,W3,n.getSeriesCount()),u=s.getVisual("decal");s.setVisual("decal",g(u,l))}else{var h=a.getRawData(),c={},p=UD(a).scope;s.each(function(m){var y=s.getRawIndex(m);c[y]=m});var f=h.count();h.each(function(m){var y=c[m],x=h.getName(m)||m+"",b=Zg(a.ecModel,x,p,f),S=s.getItemVisual(y,"decal");s.setItemVisual(y,"decal",g(S,b))})}}function g(m,y){var x=m?ae(ae({},y),m):y;return x.dirty=!0,x}})}}(),function(){var M,o=n.getLocaleModel().get("aria"),a=e.getModel("label");if(a.option=Ee(a.option,o),a.get("enabled")){var s=t.getZr().dom;if(a.get("description"))return void s.setAttribute("aria-label",a.get("description"));var l,u=n.getSeriesCount(),h=a.get(["data","maxCount"])||10,c=a.get(["series","maxCount"])||10,p=Math.min(u,c);if(!(u<1)){var f=((M=n.get("title"))&&M.length&&(M=M[0]),M&&M.text);l=f?r(a.get(["general","withTitle"]),{title:f}):a.get(["general","withoutTitle"]);var m=[];l+=r(a.get(u>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:u}),n.eachSeries(function(M,C){if(C<p){var T=void 0,D=M.get("name")?"withName":"withoutName";T=r(T=a.get(u>1?["series","multiple",D]:["series","single",D]),{seriesId:M.seriesIndex,seriesName:M.get("name"),seriesType:(j=M.subType,n.getLocaleModel().get(["series","typeNames"])[j]||"\u81ea\u5b9a\u4e49\u56fe")});var k=M.getData();k.count()>h?T+=r(a.get(["data","partialData"]),{displayCnt:h}):T+=a.get(["data","allData"]);for(var R=a.get(["data","separator","middle"]),N=a.get(["data","separator","end"]),E=[],B=0;B<k.count();B++)if(B<h){var G=k.getName(B),H=k.getValues(B),Y=a.get(["data",G?"withName":"withoutName"]);E.push(r(Y,{name:G,value:H.join(R)}))}T+=E.join(R)+N,m.push(T)}var j});var x=a.getModel(["series","multiple","separator"]),b=x.get("middle"),S=x.get("end");l+=m.join(b)+S,s.setAttribute("aria-label",l)}}}()}function r(o,a){if(!De(o))return o;var s=o;return V(a,function(l,u){s=s.replace(new RegExp("\\{\\s*"+u+"\\s*\\}","g"),l)}),s}}function H3(n){if(n&&n.aria){var t=n.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},V(["description","general","series","data"],function(e){null!=t[e]&&(t.label[e]=t[e])})}}var YD={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},U3=function(){function n(t){null==(this._condVal=De(t)?new RegExp(t):Me(t)?t:null)&&Dt("")}return n.prototype.evaluate=function(t){var e=typeof t;return De(e)?this._condVal.test(t):!!ot(e)&&this._condVal.test(t+"")},n}(),Y3=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),X3=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},n}(),j3=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},n}(),Z3=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),q3=function(){function n(){}return n.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),i=t?this.valueParser(e):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(t?i:e))return!1;return!0},n}();function j0(n,t){if(!0===n||!1===n){var e=new Y3;return e.value=n,e}return jD(n)||Dt(""),n.and?XD("and",n,t):n.or?XD("or",n,t):n.not?function(r,o){var a=r.not;jD(a)||Dt("");var l=new Z3;return l.child=j0(a,o),l.child||Dt(""),l}(n,t):function(r,o){for(var s=o.prepareGetValue(r),l=[],u=tt(r),h=r.parser,c=h?Y_(h):null,p=0;p<u.length;p++){var f=u[p];if("parser"!==f&&!o.valueGetterAttrMap.get(f)){var g=Le(YD,f)?YD[f]:f,m=r[f],y=c?c(m):m,x=$k(g,y)||"reg"===g&&new U3(y);x||Dt(""),l.push(x)}}l.length||Dt("");var b=new q3;return b.valueGetterParam=s,b.valueParser=c,b.getValue=o.getValue,b.subCondList=l,b}(n,t)}function XD(n,t,e){var i=t[n];ce(i)||Dt(""),i.length||Dt("");var o="and"===n?new X3:new j3;return o.children=oe(i,function(a){return j0(a,e)}),o.children.length||Dt(""),o}function jD(n){return Oe(n)&&!nn(n)}var K3=function(){function n(t,e){this._cond=j0(t,e)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),$3={type:"echarts:filter",transform:function(n){for(var t,e,i,r=n.upstream,o=(e=n.config,i={valueGetterAttrMap:Ne({dimension:!0}),prepareGetValue:function(u){var c=u.dimension;Le(u,"dimension")||Dt("");var p=r.getDimensionInfo(c);return p||Dt(""),{dimIdx:p.index}},getValue:function(u){return r.retrieveValueFromItem(t,u.dimIdx)}},new K3(e,i)),a=[],s=0,l=r.count();s<l;s++)t=r.getRawDataItem(s),o.evaluate()&&a.push(t);return{data:a}}},J3={type:"echarts:sort",transform:function(n){var t=n.upstream,i="",r=zt(n.config);r.length||Dt(i);var o=[];V(r,function(h){var c=h.dimension,p=h.order,f=h.parser,g=h.incomparable;null==c&&Dt(i),"asc"!==p&&"desc"!==p&&Dt(i),g&&"min"!==g&&"max"!==g&&Dt(""),"asc"!==p&&"desc"!==p&&Dt("");var x=t.getDimensionInfo(c);x||Dt(i);var b=f?Y_(f):null;f&&!b&&Dt(i),o.push({dimIdx:x.index,parser:b,comparator:new j_(p,g)})});var a=t.sourceFormat;a!==Do&&a!==ga&&Dt(i);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort(function(h,c){for(var p=0;p<o.length;p++){var f=o[p],g=t.retrieveValueFromItem(h,f.dimIdx),m=t.retrieveValueFromItem(c,f.dimIdx);f.parser&&(g=f.parser(g),m=f.parser(m));var y=f.comparator.evaluate(g,m);if(0!==y)return y}return 0}),{data:s}}},Q3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return Q(t,n),t.prototype.init=function(e,i,r){n.prototype.init.call(this,e,i,r),this._sourceManager=new Q_(this),eb(this)},t.prototype.mergeOption=function(e,i){n.prototype.mergeOption.call(this,e,i),eb(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Ss},t}(st),eB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return Q(t,n),t.type="dataset",t}(Yt),lo=Jr.CMD;function cu(n,t){return Math.abs(n-t)<1e-5}function Z0(n){var t,e,i,r,o,B,G,H,Y,j,Z,q,J,te,ne,le,ye,ie,be,ge,we,me,a=n.data,s=n.len(),l=[],u=0,h=0,c=0,p=0;function f(B,G){t&&t.length>2&&l.push(t),t=[B,G]}function g(B,G,H,Y){cu(B,H)&&cu(G,Y)||t.push(B,G,H,Y,H,Y)}for(var y=0;y<s;){var x=a[y++],b=1===y;switch(b&&(c=u=a[y],p=h=a[y+1],x!==lo.L&&x!==lo.C&&x!==lo.Q||(t=[c,p])),x){case lo.M:u=c=a[y++],h=p=a[y++],f(c,p);break;case lo.L:g(u,h,e=a[y++],i=a[y++]),u=e,h=i;break;case lo.C:t.push(a[y++],a[y++],a[y++],a[y++],u=a[y++],h=a[y++]);break;case lo.Q:e=a[y++],i=a[y++],r=a[y++],o=a[y++],t.push(u+2/3*(e-u),h+2/3*(i-h),r+2/3*(e-r),o+2/3*(i-o),r,o),u=r,h=o;break;case lo.A:var S=a[y++],M=a[y++],C=a[y++],T=a[y++],D=a[y++],k=a[y++]+D;y+=1;var R=!a[y++];e=Math.cos(D)*C+S,i=Math.sin(D)*T+M,b?f(c=e,p=i):g(u,h,e,i),u=Math.cos(k)*C+S,h=Math.sin(k)*T+M;for(var N=(R?-1:1)*Math.PI/2,E=D;R?E>k:E<k;E+=N)B=E,G=R?Math.max(E+N,k):Math.min(E+N,k),H=S,Y=M,j=C,Z=T,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,q=Math.abs(G-B),J=4*Math.tan(q/4)/3,te=G<B?-1:1,ne=Math.cos(B),le=Math.sin(B),ye=Math.cos(G),ie=Math.sin(G),t.push(ne*j+H-(we=j*J*te)*le,le*Z+Y+(me=Z*J*te)*ne,(be=ye*j+H)+we*ie,(ge=ie*Z+Y)-me*ye,be,ge);break;case lo.R:c=u=a[y++],p=h=a[y++],e=c+a[y++],i=p+a[y++],f(e,p),g(e,p,e,i),g(e,i,c,i),g(c,i,c,p),g(c,p,e,p);break;case lo.Z:t&&g(u,h,c,p),u=c,h=p}}return t&&t.length>2&&l.push(t),l}function q0(n,t,e,i,r,o,a,s,l,u){if(cu(n,e)&&cu(t,i)&&cu(r,a)&&cu(o,s))l.push(a,s);else{var h=2/u,c=h*h,p=a-n,f=s-t,g=Math.sqrt(p*p+f*f);p/=g,f/=g;var m=e-n,y=i-t,x=r-a,b=o-s,S=m*m+y*y,M=x*x+b*b;if(S<c&&M<c)l.push(a,s);else{var C=p*m+f*y,T=-p*x-f*b;if(S-C*C<c&&C>=0&&M-T*T<c&&T>=0)l.push(a,s);else{var D=[],k=[];Zi(n,e,r,a,.5,D),Zi(t,i,o,s,.5,k),q0(D[0],k[0],D[1],k[1],D[2],k[2],D[3],k[3],l,u),q0(D[4],k[4],D[5],k[5],D[6],k[6],D[7],k[7],l,u)}}}}function ZD(n,t,e){var o=Math.abs(n[t]/n[1-t]),a=Math.ceil(Math.sqrt(o*e)),s=Math.floor(e/a);0===s&&(s=1,a=e);for(var l=[],u=0;u<a;u++)l.push(s);var h=e-a*s;if(h>0)for(u=0;u<h;u++)l[u%a]+=1;return l}function qD(n,t,e){for(var i=n.r0,r=n.r,o=n.startAngle,s=Math.abs(n.endAngle-o),l=s*r,u=r-i,h=l>Math.abs(u),c=ZD([l,u],h?0:1,t),p=(h?s:u)/c.length,f=0;f<c.length;f++)for(var g=(h?u:s)/c[f],m=0;m<c[f];m++){var y={};h?(y.startAngle=o+p*f,y.endAngle=o+p*(f+1),y.r0=i+g*m,y.r=i+g*(m+1)):(y.startAngle=o+g*m,y.endAngle=o+g*(m+1),y.r0=i+p*f,y.r=i+p*(f+1)),y.clockwise=n.clockwise,y.cx=n.cx,y.cy=n.cy,e.push(y)}}function KD(n,t,e,i){return n*i-e*t}function tB(n,t,e,i,r,o,a,s){var l=e-n,u=i-t,h=a-r,c=s-o,p=KD(h,c,l,u);if(Math.abs(p)<1e-6)return null;var f=KD(n-r,t-o,h,c)/p;return f<0||f>1?null:new X(f*l+n,f*u+t)}function nB(n,t,e){var i=new X;X.sub(i,e,t),i.normalize();var r=new X;return X.sub(r,n,t),r.dot(i)}function du(n,t){var e=n[n.length-1];e&&e[0]===t[0]&&e[1]===t[1]||n.push(t)}function $D(n){var t=n.points,e=[],i=[];Jc(t,e,i);var r=new ue(e[0],e[1],i[0]-e[0],i[1]-e[1]),o=r.width,a=r.height,s=r.x,l=r.y,u=new X,h=new X;return o>a?(u.x=h.x=s+o/2,u.y=l,h.y=l+a):(u.y=h.y=l+a/2,u.x=s,h.x=s+o),function(c,p,f){for(var g=c.length,m=[],y=0;y<g;y++){var x=c[y],b=c[(y+1)%g],S=tB(x[0],x[1],b[0],b[1],p.x,p.y,f.x,f.y);S&&m.push({projPt:nB(S,p,f),pt:S,idx:y})}if(m.length<2)return[{points:c},{points:c}];m.sort(function(E,B){return E.projPt-B.projPt});var M=m[0],C=m[m.length-1];if(C.idx<M.idx){var T=M;M=C,C=T}var D=[M.pt.x,M.pt.y],k=[C.pt.x,C.pt.y],R=[D],N=[k];for(y=M.idx+1;y<=C.idx;y++)du(R,c[y].slice());for(du(R,k),du(R,D),y=C.idx+1;y<=M.idx+g;y++)du(N,c[y%g].slice());return du(N,D),du(N,k),[{points:R},{points:N}]}(t,u,h)}function ff(n,t,e,i){if(1===e)i.push(t);else{var r=Math.floor(e/2),o=n(t);ff(n,o[0],r,i),ff(n,o[1],e-r,i)}return i}function iB(n,t){t.setStyle(n.style),t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel}function oB(n,t){var e=n.length,i=t.length;if(e===i)return[n,t];for(var r=[],o=[],a=e<i?n:t,s=Math.min(e,i),l=Math.abs(i-e)/6,h=Math.ceil(l/((s-2)/6))+1,c=[a[0],a[1]],p=l,f=2;f<s;){var g=a[f-2],m=a[f-1],y=a[f++],x=a[f++],b=a[f++],S=a[f++],M=a[f++],C=a[f++];if(p<=0)c.push(y,x,b,S,M,C);else{for(var T=Math.min(p,h-1)+1,D=1;D<=T;D++){var k=D/T;Zi(g,y,b,M,k,r),Zi(m,x,S,C,k,o),c.push(r[1],o[1],r[2],o[2],g=r[3],m=o[3]),y=r[5],x=o[5],b=r[6],S=o[6]}p-=T-1}}return a===n?[c,t]:[n,c]}function JD(n,t){for(var e=n.length,i=n[e-2],r=n[e-1],o=[],a=0;a<t.length;)o[a++]=i,o[a++]=r;return o}function QD(n){for(var t=0,e=0,i=0,r=n.length,o=0,a=r-2;o<r;a=o,o+=2){var s=n[a],l=n[a+1],u=n[o],h=n[o+1],c=s*h-u*l;t+=c,e+=(s+u)*c,i+=(l+h)*c}return 0===t?[n[0]||0,n[1]||0]:[e/t/3,i/t/3,t]}function aB(n,t,e,i){for(var r=(n.length-2)/6,o=1/0,a=0,s=n.length,l=s-2,u=0;u<r;u++){for(var h=6*u,c=0,p=0;p<s;p+=2){var f=0===p?h:(h+p-2)%l+2,y=t[p]-i[0]-(n[f]-e[0]),x=t[p+1]-i[1]-(n[f+1]-e[1]);c+=y*y+x*x}c<o&&(o=c,a=u)}return a}function sB(n){for(var t=[],e=n.length,i=0;i<e;i+=2)t[i]=n[e-i-2],t[i+1]=n[e-i-1];return t}function gf(n){return n.__isCombineMorphing}var eA="__mOriginal_";function mf(n,t,e){var i=eA+t,r=n[i]||n[t];n[i]||(n[i]=n[t]);var o=e.replace,a=e.after,s=e.before;n[t]=function(){var l,u=arguments;return s&&s.apply(this,u),l=o?o.apply(this,u):r.apply(this,u),a&&a.apply(this,u),l}}function Sc(n,t){var e=eA+t;n[e]&&(n[t]=n[e],n[e]=null)}function tA(n,t){for(var e=0;e<n.length;e++)for(var i=n[e],r=0;r<i.length;){var o=i[r],a=i[r+1];i[r++]=t[0]*o+t[2]*a+t[4],i[r++]=t[1]*o+t[3]*a+t[5]}}function nA(n,t){var e=n.getUpdatedPathProxy(),i=t.getUpdatedPathProxy(),r=function(c,p){for(var f,g,m,y=[],x=[],b=0;b<Math.max(c.length,p.length);b++){var S=c[b],M=p[b],C=void 0,T=void 0;S?M?(g=C=(f=oB(S,M))[0],m=T=f[1]):(T=JD(m||S,S),C=S):(C=JD(g||M,M),T=M),y.push(C),x.push(T)}return[y,x]}(Z0(e),Z0(i)),o=r[0],a=r[1],s=n.getComputedTransform(),l=t.getComputedTransform();s&&tA(o,s),l&&tA(a,l),mf(t,"updateTransform",{replace:function(){this.transform=null}}),t.transform=null;var u=function(c,p,f,g){for(var m,y=[],x=0;x<c.length;x++){var b=c[x],S=p[x],M=QD(b),C=QD(S);null==m&&(m=M[2]<0!=C[2]<0);var T=[],D=[],k=0,R=1/0,N=[],E=b.length;m&&(b=sB(b));for(var B=6*aB(b,S,M,C),G=E-2,H=0;H<G;H+=2){var Y=(B+H)%G+2;T[H+2]=b[Y]-M[0],T[H+3]=b[Y+1]-M[1]}T[0]=b[B]-M[0],T[1]=b[B+1]-M[1];for(var j=g/10,Z=-g/2;Z<=g/2;Z+=j){var q=Math.sin(Z),J=Math.cos(Z),te=0;for(H=0;H<b.length;H+=2){var ne=T[H],le=T[H+1],ye=S[H]-C[0],ie=S[H+1]-C[1],he=ye*J-ie*q,xe=ye*q+ie*J;N[H]=he,N[H+1]=xe;var be=he-ne,ge=xe-le;te+=be*be+ge*ge}if(te<R){R=te,k=Z;for(var we=0;we<N.length;we++)D[we]=N[we]}}y.push({from:T,to:D,fromCp:M,toCp:C,rotation:-k})}return y}(o,a,0,Math.PI),h=[];mf(t,"buildPath",{replace:function(c){for(var p=t.__morphT,f=1-p,g=[],m=0;m<u.length;m++){var y=u[m],x=y.from,b=y.to,S=y.rotation*p,M=y.fromCp,C=y.toCp,T=Math.sin(S),D=Math.cos(S);Na(g,M,C,p);for(var k=0;k<x.length;k+=2){var E=x[k]*f+(Y=b[k])*p,B=x[k+1]*f+(j=b[k+1])*p;h[k]=E*D-B*T+g[0],h[k+1]=E*T+B*D+g[1]}var G=h[0],H=h[1];for(c.moveTo(G,H),k=2;k<x.length;){var Y=h[k++],j=h[k++],Z=h[k++],q=h[k++],J=h[k++],te=h[k++];G===Y&&H===j&&Z===J&&q===te?c.lineTo(J,te):c.bezierCurveTo(Y,j,Z,q,J,te),G=J,H=te}}}})}function K0(n,t,e){if(!n||!t)return t;var i=e.done,r=e.during;return nA(n,t),t.__morphT=0,t.animateTo({__morphT:1},Ee({during:function(o){t.dirtyShape(),r&&r(o)},done:function(){Sc(t,"buildPath"),Sc(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape(),i&&i()}},e)),t}function lB(n,t,e,i,r,o){n=r===e?0:Math.round(32767*(n-e)/(r-e)),t=o===i?0:Math.round(32767*(t-i)/(o-i));for(var a,s=0,l=32768;l>0;l/=2){var u=0,h=0;(n&l)>0&&(u=1),(t&l)>0&&(h=1),s+=l*l*(3*u^h),0===h&&(1===u&&(n=l-1-n,t=l-1-t),a=n,n=t,t=a)}return s}function vf(n){var t=1/0,e=1/0,i=-1/0,r=-1/0,o=oe(n,function(a){var s=a.getBoundingRect(),l=a.getComputedTransform(),u=s.x+s.width/2+(l?l[4]:0),h=s.y+s.height/2+(l?l[5]:0);return t=Math.min(u,t),e=Math.min(h,e),i=Math.max(u,i),r=Math.max(h,r),[u,h]});return oe(o,function(a,s){return{cp:a,z:lB(a[0],a[1],t,e,i,r),path:n[s]}}).sort(function(a,s){return a.z-s.z}).map(function(a){return a.path})}function iA(n){return function rB(n,t){var e,i=[],r=n.shape;switch(n.type){case"rect":(function(x,b,S){for(var M=x.width,C=x.height,T=M>C,D=ZD([M,C],T?0:1,b),k=T?"width":"height",R=T?"height":"width",N=T?"x":"y",E=T?"y":"x",B=x[k]/D.length,G=0;G<D.length;G++)for(var H=x[R]/D[G],Y=0;Y<D[G];Y++){var j={};j[N]=G*B,j[E]=Y*H,j[k]=B,j[R]=H,j.x+=x.x,j.y+=x.y,S.push(j)}})(r,t,i),e=ht;break;case"sector":qD(r,t,i),e=ti;break;case"circle":qD({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},t,i),e=ti;break;default:var o=n.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=oe(function(x,b){var S=Z0(x),M=[];b=b||1;for(var C=0;C<S.length;C++){var T=S[C],D=[],k=T[0],R=T[1];D.push(k,R);for(var N=2;N<T.length;){var E=T[N++],B=T[N++],G=T[N++],H=T[N++],Y=T[N++],j=T[N++];q0(k,R,E,B,G,H,Y,j,D,b),k=Y,R=j}M.push(D)}return M}(n.getUpdatedPathProxy(),a),function(x){return function(b){for(var S=[],M=0;M<b.length;)S.push([b[M++],b[M++]]);return S}(x)}),l=s.length;if(0===l)ff($D,{points:s[0]},t,i);else if(l===t)for(var u=0;u<l;u++)i.push({points:s[u]});else{var h=0,c=oe(s,function(x){var b=[],S=[];Jc(x,b,S);var M=(S[1]-b[1])*(S[0]-b[0]);return h+=M,{poly:x,area:M}});c.sort(function(x,b){return b.area-x.area});var p=t;for(u=0;u<l;u++){var f=c[u];if(p<=0)break;var g=u===l-1?p:Math.ceil(f.area/h*t);g<0||(ff($D,{points:f.poly},g,i),p-=g)}}e=ni}if(!e)return function(x,b){for(var S=[],M=0;M<b;M++)S.push(vg(x));return S}(n,t);var m=[];for(u=0;u<i.length;u++){var y=new e;y.setShape(i[u]),iB(n,y),m.push(y)}return m}(n.path,n.count)}function rA(n){return ce(n[0])}function oA(n,t){for(var e=[],i=n.length,r=0;r<i;r++)e.push({one:n[r],many:[]});for(r=0;r<t.length;r++){var o=t[r].length,a=void 0;for(a=0;a<o;a++)e[a%i].many.push(t[r][a])}var s=0;for(r=i-1;r>=0;r--)if(!e[r].many.length){var l=e[s].many;if(l.length<=1){if(!s)return e;s=0}o=l.length;var u=Math.ceil(o/2);e[r].many=l.slice(u,o),e[s].many=l.slice(0,u),s++}return e}var uB={clone:function(n){for(var t=[],e=1-Math.pow(1-n.path.style.opacity,1/n.count),i=0;i<n.count;i++){var r=vg(n.path);r.setStyle("opacity",e),t.push(r)}return t},split:null};function $0(n,t,e,i,r,o){if(n.length&&t.length){var a=xl("update",i,r);if(a&&a.duration>0){var s,l,u=i.getModel("universalTransition").get("delay"),h=Object.assign({setToFinal:!0},a);rA(n)&&(s=n,l=t),rA(t)&&(s=t,l=n);for(var c=s?s===n:n.length>t.length,p=s?oA(l,s):oA(c?t:n,[c?n:t]),f=0,g=0;g<p.length;g++)f+=p[g].many.length;var m=0;for(g=0;g<p.length;g++)y(p[g],c,m,f),m+=p[g].many.length}}function y(x,b,S,M,C){var T=x.many,D=x.one;if(1!==T.length||C)for(var k=Ee({dividePath:uB[e],individualDelay:u&&function(Z,q,J,te){return u(Z+S,M)}},h),R=b?function(Z,q,J){var te=[];!function nt(lt){for(var Rt=0;Rt<lt.length;Rt++){var Vt=lt[Rt];gf(Vt)?nt(Vt.childrenRef()):Vt instanceof at&&te.push(Vt)}}(Z);var ne=te.length;if(!ne)return{fromIndividuals:[],toIndividuals:[],count:0};var le=(J.dividePath||iA)({path:q,count:ne});if(le.length!==ne)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};te=vf(te),le=vf(le);for(var ye=J.done,ie=J.during,he=J.individualDelay,xe=new z,be=0;be<ne;be++){var ge=te[be],we=le[be];we.parent=q,we.copyTransform(xe),he||nA(ge,we)}function me(nt){for(var lt=0;lt<le.length;lt++)le[lt].addSelfToZr(nt)}function Ce(){q.__isCombineMorphing=!1,q.__morphT=-1,q.childrenRef=null,Sc(q,"addSelfToZr"),Sc(q,"removeSelfFromZr")}q.__isCombineMorphing=!0,q.childrenRef=function(){return le},mf(q,"addSelfToZr",{after:function(nt){me(nt)}}),mf(q,"removeSelfFromZr",{after:function(nt){for(var lt=0;lt<le.length;lt++)le[lt].removeSelfFromZr(nt)}});var Pe=le.length;if(he){var Ye=Pe,Ke=function(){0==--Ye&&(Ce(),ye&&ye())};for(be=0;be<Pe;be++){var At=he?Ee({delay:(J.delay||0)+he(be,Pe,te[be],le[be]),done:Ke},J):J;K0(te[be],le[be],At)}}else q.__morphT=0,q.animateTo({__morphT:1},Ee({during:function(nt){for(var lt=0;lt<Pe;lt++){var Rt=le[lt];Rt.__morphT=q.__morphT,Rt.dirtyShape()}ie&&ie(nt)},done:function(){Ce();for(var nt=0;nt<Z.length;nt++)Sc(Z[nt],"updateTransform");ye&&ye()}},J));return q.__zr&&me(q.__zr),{fromIndividuals:te,toIndividuals:le,count:Pe}}(T,D,k):function(Z,q,J){var te=q.length,ne=[],le=J.dividePath||iA;if(gf(Z)){!function we(me){for(var Ce=0;Ce<me.length;Ce++){var Pe=me[Ce];gf(Pe)?we(Pe.childrenRef()):Pe instanceof at&&ne.push(Pe)}}(Z.childrenRef());var ye=ne.length;if(ye<te)for(var ie=0,he=ye;he<te;he++)ne.push(vg(ne[ie++%ye]));ne.length=te}else{ne=le({path:Z,count:te});var xe=Z.getComputedTransform();for(he=0;he<ne.length;he++)ne[he].setLocalTransform(xe);if(ne.length!==te)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}ne=vf(ne),q=vf(q);var be=J.individualDelay;for(he=0;he<te;he++){var ge=be?Ee({delay:(J.delay||0)+be(he,te,ne[he],q[he])},J):J;K0(ne[he],q[he],ge)}return{fromIndividuals:ne,toIndividuals:q,count:q.length}}(D,T,k),N=R.fromIndividuals,E=R.toIndividuals,B=N.length,G=0;G<B;G++)H=u?Ee({delay:u(G,B)},h):h,o(N[G],E[G],b?T[G]:x.one,b?x.one:T[G],H);else{var H,Y=b?T[0]:D,j=b?D:T[0];gf(Y)?y({many:[Y],one:j},!0,S,M,!0):(K0(Y,j,H=u?Ee({delay:u(S,M)},h):h),o(Y,j,Y,j,H))}}}function js(n){if(!n)return[];if(ce(n)){for(var t=[],e=0;e<n.length;e++)t.push(js(n[e]));return t}var i=[];return n.traverse(function(r){r instanceof at&&!r.disableMorphing&&!r.invisible&&!r.ignore&&i.push(r)}),i}var hB=_t();function aA(n){var t=[];return V(n,function(e){var i=e.data;if(!(i.count()>1e4))for(var r=i.getIndices(),o=function(s){for(var l=s.dimensions,u=0;u<l.length;u++){var h=s.getDimensionInfo(l[u]);if(h&&0===h.otherDims.itemGroupId)return l[u]}}(i),a=0;a<r.length;a++)t.push({data:i,dim:e.dim||o,divide:e.divide,dataIndex:a})}),t}function J0(n,t,e){n.traverse(function(i){i instanceof at&&Kt(i,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function Q0(n){if(n.parent){var t=n.getComputedTransform();n.setLocalTransform(t),n.parent.remove(n)}}function pu(n){n.stopAnimation(),n.isGroup&&n.traverse(function(t){t.stopAnimation()})}function sA(n,t,e){var i=aA(n),r=aA(t);function o(x,b,S,M,C){(S||x)&&b.animateFrom({style:S&&S!==x?ae(ae({},S.style),x.style):x.style},C)}function a(x){for(var b=0;b<x.length;b++)if(x[b].dim)return x[b].dim}var s=a(i),l=a(r),u=!1;function h(x,b){return function(S){var M=S.data,C=S.dataIndex;if(b)return M.getId(C);var T=M.hostModel&&M.hostModel.get("dataGroupId"),D=x?s||l:l||s,k=D&&M.getDimensionInfo(D),R=k&&k.ordinalMeta;if(k){var N=M.get(k.name,C);return R&&R.categories[N]||N+""}var E=M.getRawDataItem(C);return E&&E.groupId?E.groupId+"":T||M.getId(C)}}var c=function(x,b){var S=x.length;if(S!==b.length)return!1;for(var M=0;M<S;M++){var C=x[M],T=b[M];if(C.data.getId(C.dataIndex)!==T.data.getId(T.dataIndex))return!1}return!0}(i,r),p={};if(!c)for(var f=0;f<r.length;f++){var g=r[f],m=g.data.getItemGraphicEl(g.dataIndex);m&&(p[m.id]=!0)}function y(x,b){var S=i[b],M=r[x],C=M.data.hostModel,T=S.data.getItemGraphicEl(S.dataIndex),D=M.data.getItemGraphicEl(M.dataIndex);T!==D?T&&p[T.id]||D&&(pu(D),T?(pu(T),Q0(T),u=!0,$0(js(T),js(D),M.divide,C,x,o)):J0(D,C,x)):D&&function cB(n,t,e){var i=xl("update",e,t);i&&n.traverse(function(r){if(r instanceof er){var o=Ix(r).oldStyle;o&&r.animateFrom({style:o},i)}})}(D,M.dataIndex,C)}new ko(i,r,h(!0,c),h(!1,c),null,"multiple").update(y).updateManyToOne(function(x,b){var S=r[x],M=S.data,C=M.hostModel,T=M.getItemGraphicEl(S.dataIndex),D=dt(oe(b,function(k){return i[k].data.getItemGraphicEl(i[k].dataIndex)}),function(k){return k&&k!==T&&!p[k.id]});T&&(pu(T),D.length?(V(D,function(k){pu(k),Q0(k)}),u=!0,$0(js(D),js(T),S.divide,C,x,o)):J0(T,C,S.dataIndex))}).updateOneToMany(function(x,b){var S=i[b],M=S.data.getItemGraphicEl(S.dataIndex);if(!M||!p[M.id]){var C=dt(oe(x,function(D){return r[D].data.getItemGraphicEl(r[D].dataIndex)}),function(D){return D&&D!==M}),T=r[x[0]].data.hostModel;C.length&&(V(C,function(D){return pu(D)}),M?(pu(M),Q0(M),u=!0,$0(js(M),js(C),S.divide,T,x[0],o)):V(C,function(D){return J0(D,T,x[0])}))}}).updateManyToMany(function(x,b){new ko(b,x,function(S){return i[S].data.getId(i[S].dataIndex)},function(S){return r[S].data.getId(r[S].dataIndex)}).update(function(S,M){y(x[S],b[M])}).execute()}).execute(),u&&V(t,function(x){var b=x.data.hostModel,S=b&&e.getViewOfSeriesModel(b),M=xl("update",b,0);S&&b.isAnimationEnabled()&&M&&M.duration>0&&S.group.traverse(function(C){C instanceof at&&!C.animators.length&&C.animateFrom({style:{opacity:0}},M)})})}function lA(n){return n.getModel("universalTransition").get("seriesKey")||n.id}function uA(n){return ce(n)?n.sort().join(","):n}function La(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function hA(n,t){for(var e=0;e<n.length;e++)if(null!=t.seriesIndex&&t.seriesIndex===n[e].seriesIndex||null!=t.seriesId&&t.seriesId===n[e].id)return e}rt([function(n){n.registerPainter("canvas",r5)}]),rt([function(n){n.registerPainter("svg",i5)}]),rt([function(n){n.registerChartView(c5),n.registerSeriesModel(o5),n.registerLayout(Xh("line",!0)),n.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,JS("line"))},function(n){n.registerChartView(m5),n.registerSeriesModel(f5),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,We(kw,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Lw("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,JS("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){e.eachComponent({mainType:t.componentType||"series",query:t},function(r){t.sortInfo&&r.axis.setCategorySortInfo(t.sortInfo)})})},function(n){n.registerChartView(M5),n.registerSeriesModel(I5),Lb("pie",n.registerAction),n.registerLayout(We(_5,"pie")),n.registerProcessor(Zh("pie")),n.registerProcessor({seriesType:"pie",reset:function(e,i){var r=e.getData();r.filterSelf(function(o){var a=r.mapDimension("value"),s=r.get(a,o);return!(ot(s)&&!isNaN(s)&&s<0)})}})},function(n){rt(RM),n.registerSeriesModel(C5),n.registerChartView(k5),n.registerLayout(Xh("scatter"))},function(n){rt(eO),n.registerChartView(j5),n.registerSeriesModel(Z5),n.registerLayout(Y5),n.registerProcessor(Zh("radar")),n.registerPreprocessor(X5)},function(n){rt(f2),n.registerChartView(vO),n.registerSeriesModel(yO),n.registerLayout(_O),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,xO),Lb("map",n.registerAction)},function(n){n.registerChartView(PO),n.registerSeriesModel(VO),n.registerLayout(FO),n.registerVisual(WO),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,i){i.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var o=e.dataIndex,a=r.getData().tree.getNodeByDataIndex(o);a.isExpand=!a.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,i,r){i.eachComponent({mainType:"series",subType:"tree",query:e},function(o){var a=Wv(o.coordinateSystem,e,void 0,r);o.setCenter&&o.setCenter(a.center),o.setZoom&&o.setZoom(a.zoom)})})}(n)},function(n){n.registerSeriesModel(GO),n.registerChartView(jO),n.registerVisual(KO),n.registerLayout(eR),function(t){for(var e=0;e<M2.length;e++)t.registerAction({type:M2[e],update:"updateView"},rn);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(i,r){r.eachComponent({mainType:"series",subType:"treemap",query:i},function(o,a){var s=nc(i,["treemapZoomToNode","treemapRootToNode"],o);if(s){var l=o.getViewRoot();l&&(i.direction=jv(l,s.node)?"rollUp":"drillDown"),o.resetViewRoot(s.node)}})})}(n)},function(n){n.registerChartView(cR),n.registerSeriesModel(pR),n.registerProcessor(nR),n.registerVisual(iR),n.registerVisual(rR),n.registerLayout(oR),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,sR),n.registerLayout(lR),n.registerCoordinateSystem("graphView",{dimensions:ec.dimensions,create:uR}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},rn),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},rn),n.registerAction(fR,function(t,e,i){e.eachComponent({mainType:"series",query:t},function(r){var o=Wv(r.coordinateSystem,t,void 0,i);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})},function(n){n.registerChartView(vR),n.registerSeriesModel(yR)},function(n){n.registerChartView(bR),n.registerSeriesModel(wR),n.registerLayout(SR),n.registerProcessor(Zh("funnel"))},function(n){rt(OI),n.registerChartView(MR),n.registerSeriesModel(IR),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,DR)},function(n){n.registerChartView(JR),n.registerSeriesModel(QR),n.registerLayout(eN),n.registerVisual(sN),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(i){i.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function(n){n.registerSeriesModel(EI),n.registerChartView(lN),n.registerVisual(dN),n.registerLayout(pN),n.registerTransform(fN)},function(n){n.registerChartView(mN),n.registerSeriesModel(HI),n.registerPreprocessor(bN),n.registerVisual(CN),n.registerLayout(TN)},function(n){n.registerChartView(AN),n.registerSeriesModel(kN),n.registerLayout(Xh("effectScatter"))},function(n){n.registerChartView(NN),n.registerSeriesModel(BN),n.registerLayout(ZI),n.registerVisual(VN)},function(n){n.registerChartView(WN),n.registerSeriesModel(GN)},function(n){n.registerChartView(UN),n.registerSeriesModel(jN),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,We(kw,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Lw("pictorialBar"))},function(n){n.registerChartView(ZN),n.registerSeriesModel(qN),n.registerLayout(KN),n.registerProcessor(Zh("themeRiver"))},function(n){n.registerChartView($N),n.registerSeriesModel(JN),n.registerLayout(We(QN,"sunburst")),n.registerProcessor(We(Zh,"sunburst")),n.registerVisual(eE),function(t){t.registerAction({type:Wy,update:"updateView"},function(e,i){i.eachComponent({mainType:"series",subType:"sunburst",query:e},function(r,o){var a=nc(e,[Wy],r);if(a){var s=r.getViewRoot();s&&(e.direction=jv(s,a.node)?"rollUp":"drillDown"),r.resetViewRoot(a.node)}})}),t.registerAction({type:dC,update:"none"},function(e,i,r){e=ae({},e),i.eachComponent({mainType:"series",subType:"sunburst",query:e},function(o){var a=nc(e,[dC],o);a&&(e.dataIndex=a.node.dataIndex)}),r.dispatchAction(ae(e,{type:"highlight"}))}),t.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,i,r){e=ae({},e),r.dispatchAction(ae(e,{type:"downplay"}))})}(n)},function(n){n.registerChartView(pE),n.registerSeriesModel(nE)}]),rt(function(n){rt(RM),rt(pc)}),rt(function(n){rt(pc),Ns.registerAxisPointerClass("PolarAxisPointer",CE),n.registerCoordinateSystem("polar",RE),n.registerComponentModel(DE),n.registerComponentView(YE),Jl(n,"angle",AE,HE),Jl(n,"radius",kE,UE),n.registerComponentView(EE),n.registerComponentView(FE),n.registerLayout(We(GE,"bar"))}),rt(f2),rt(function(n){rt(pc),Ns.registerAxisPointerClass("SingleAxisPointer",ez),n.registerComponentView(nz),n.registerComponentView(ZE),n.registerComponentModel($p),Jl(n,"single",$p,$p.defaultOption),n.registerCoordinateSystem("single",JE)}),rt(OI),rt(function(n){n.registerComponentModel(iz),n.registerComponentView(rz),n.registerCoordinateSystem("calendar",oz)}),rt(function(n){n.registerComponentModel(sz),n.registerComponentView(lz),n.registerPreprocessor(function(t){var e=t.graphic;ce(e)?t.graphic=e[0]&&e[0].elements?[t.graphic[0]]:[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}),rt(function(n){n.registerComponentModel(mz),n.registerComponentView(vz),lu("saveAsImage",yz),lu("magicType",_z),lu("dataView",wz),lu("dataZoom",Dz),lu("restore",Mz),rt(gz)}),rt(function(n){rt(pc),n.registerComponentModel(kz),n.registerComponentView(zz),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},rn),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},rn)}),rt(pc),rt(function(n){n.registerComponentView(Uz),n.registerComponentModel(Yz),n.registerPreprocessor(Vz),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,Wz),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(i){i.setAreas(t.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},rn),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},rn),lu("brush",jz)}),rt(function(n){n.registerComponentModel(Zz),n.registerComponentView(qz)}),rt(function(n){n.registerComponentModel(nD),n.registerComponentView(Jz),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,i,r){var o=i.getComponent("timeline");return o&&null!=e.currentIndex&&(o.setCurrentIndex(e.currentIndex),!o.get("loop",!0)&&o.isIndexMax()&&o.getPlayState()&&(o.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),i.resetOption("timeline",{replaceMerge:o.get("replaceMerge",!0)}),Ee({currentIndex:o.option.currentIndex},e)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,i){var r=i.getComponent("timeline");r&&null!=e.playState&&r.setPlayState(e.playState)})}(n),n.registerPreprocessor(Qz)}),rt(function(n){n.registerComponentModel(e3),n.registerComponentView(t3),n.registerPreprocessor(function(t){k0(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),rt(function(n){n.registerComponentModel(n3),n.registerComponentView(o3),n.registerPreprocessor(function(t){k0(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),rt(function(n){n.registerComponentModel(a3),n.registerComponentView(u3),n.registerPreprocessor(function(t){k0(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),rt(function(n){rt(vD),rt(p3)}),rt(function(n){rt(wD),rt(ID)}),rt(wD),rt(ID),rt(function(n){rt(WD),rt(HD)}),rt(WD),rt(HD),rt(function(n){n.registerPreprocessor(H3),n.registerVisual(n.PRIORITY.VISUAL.ARIA,G3)}),rt(function(n){n.registerTransform($3),n.registerTransform(J3)}),rt(function(n){n.registerComponentModel(Q3),n.registerComponentView(eB)}),rt(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,i){V(zt(i.seriesTransition),function(r){V(zt(r.to),function(o){for(var a=i.updatedSeries,s=0;s<a.length;s++)(null!=o.seriesIndex&&o.seriesIndex===a[s].seriesIndex||null!=o.seriesId&&o.seriesId===a[s].id)&&(a[s].__universalTransitionEnabled=!0)})})}),n.registerUpdateLifecycle("series:transition",function(t,e,i){var p,f,g,m,y,r=hB(e);if(r.oldSeries&&i.updatedSeries&&i.optionChanged){var o=i.seriesTransition;if(o)V(zt(o),function(p){var f,g,m,y,x,b;g=r,m=i,y=e,x=[],b=[],V(zt((f=p).from),function(S){var M=hA(g.oldSeries,S);M>=0&&x.push({data:g.oldData[M],divide:La(g.oldData[M]),dim:S.dimension})}),V(zt(f.to),function(S){var M=hA(m.updatedSeries,S);if(M>=0){var C=m.updatedSeries[M].getData();b.push({data:C,divide:La(C),dim:S.dimension})}}),x.length>0&&b.length>0&&sA(x,b,y)});else{var a=(p=r,f=i,g=Ne(),m=Ne(),y=Ne(),V(p.oldSeries,function(x,b){var S=p.oldData[b],M=lA(x),C=uA(M);m.set(C,S),ce(M)&&V(M,function(T){y.set(T,{data:S,key:C})})}),V(f.updatedSeries,function(x){if(x.isUniversalTransitionEnabled()&&x.isAnimationEnabled()){var b=x.getData(),S=lA(x),M=uA(S),C=m.get(M);if(C)g.set(M,{oldSeries:[{divide:La(C),data:C}],newSeries:[{divide:La(b),data:b}]});else if(ce(S)){var T=[];V(S,function(R){var N=m.get(R);N&&T.push({divide:La(N),data:N})}),T.length&&g.set(M,{oldSeries:T,newSeries:[{data:b,divide:La(b)}]})}else{var D=y.get(S);if(D){var k=g.get(D.key);k||(k={oldSeries:[{data:D.data,divide:La(D.data)}],newSeries:[]},g.set(D.key,k)),k.newSeries.push({data:b,divide:La(b)})}}}}),g);V(a.keys(),function(p){var f=a.get(p);sA(f.oldSeries,f.newSeries,e)})}V(i.updatedSeries,function(p){p.__universalTransitionEnabled&&(p.__universalTransitionEnabled=!1)})}for(var s=t.getSeries(),l=r.oldSeries=[],u=r.oldData=[],h=0;h<s.length;h++){var c=s[h].getData();c.count()<1e4&&(l.push(s[h]),u.push(c))}})}),rt(function(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,i){var r=nv(e).labelManager;r||(r=nv(e).labelManager=new UP),r.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(t,e,i){var r=nv(e).labelManager;i.updatedSeries.forEach(function(o){r.addLabelsOfSeries(e.getViewOfSeriesModel(o))}),r.updateLayoutConfig(e),r.layout(e),r.processLabelsOverall()})}),ke.Axis=sr,ke.ChartView=Ot,ke.ComponentModel=st,ke.ComponentView=Yt,ke.List=ai,ke.Model=Ct,ke.PRIORITY=jb,ke.SeriesModel=Bt,ke.color=Pu,ke.connect=function(n){if(ce(n)){var t=n;n=null,V(t,function(e){null!=e.group&&(n=e.group)}),n=n||"g_"+qL++,V(t,function(e){e.group=n})}return Zd[n]=!0,n},ke.dataTool={},ke.dependencies={zrender:"5.3.2"},ke.disConnect=sw,ke.disconnect=KL,ke.dispose=function(n){De(n)?n=Cs[n]:n instanceof Yd||(n=Lm(n)),n instanceof Yd&&!n.isDisposed()&&n.dispose()},ke.env=$e,ke.extendChartView=function(n){var t=Ot.extend(n);return Ot.registerClass(t),t},ke.extendComponentModel=function(n){var t=st.extend(n);return st.registerClass(t),t},ke.extendComponentView=function(n){var t=Yt.extend(n);return Yt.registerClass(t),t},ke.extendSeriesModel=function(n){var t=Bt.extend(n);return Bt.registerClass(t),t},ke.format=kP,ke.getCoordinateSystemDimensions=function(n){var t=Ll.get(n);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},ke.getInstanceByDom=Lm,ke.getInstanceById=function(n){return Cs[n]},ke.getMap=function(n){var t=Xb("getMap");return t&&t(n)},ke.graphic=AP,ke.helper=MP,ke.init=function(n,t,e){var i=!(e&&e.ssr);if(i){var r=Lm(n);if(r)return r}var o=new Yd(n,t,e);return o.id="ec_"+ZL++,Cs[o.id]=o,i&&f1(n,km,o.id),nw(o),Pr.trigger("afterinit",o),o},ke.innerDrawElementOnCanvas=vm,ke.matrix=v,ke.number=TP,ke.parseGeoJSON=Jm,ke.parseGeoJson=Jm,ke.registerAction=Or,ke.registerCoordinateSystem=hw,ke.registerLayout=cw,ke.registerLoading=Em,ke.registerLocale=Og,ke.registerMap=pw,ke.registerPostInit=lw,ke.registerPostUpdate=uw,ke.registerPreprocessor=Om,ke.registerProcessor=Rm,ke.registerTheme=Pm,ke.registerTransform=fw,ke.registerUpdateLifecycle=qd,ke.registerVisual=xa,ke.setCanvasCreator=function(n){tn({createCanvas:n})},ke.setPlatformAPI=tn,ke.throttle=Rd,ke.time=DP,ke.use=rt,ke.util=LP,ke.vector=Cc,ke.version="5.3.3",ke.zrUtil=yf,ke.zrender=fA,Object.defineProperty(ke,"__esModule",{value:!0})}),function(ke,It){"object"==typeof exports&&typeof module<"u"?It(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],It):It((ke=ke||self).bmap={},ke.echarts)}(this,function(ke,It){"use strict";function Q(Fe,wt){this._bmap=Fe,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=wt,this._projection=new BMap.MercatorProjection}function ho(Fe,wt){return wt=wt||[0,0],It.util.map([0,1],function(ut){var Ue=wt[ut],Je=Fe[ut]/2,tn=[],hn=[];return tn[ut]=Ue-Je,hn[ut]=Ue+Je,tn[1-ut]=hn[1-ut]=wt[1-ut],Math.abs(this.dataToPoint(tn)[ut]-this.dataToPoint(hn)[ut])},this)}var $e;function co(Fe){for(var wt in Fe)if(Fe.hasOwnProperty(wt))return;return 1}Q.prototype.dimensions=["lng","lat"],Q.prototype.setZoom=function(Fe){this._zoom=Fe},Q.prototype.setCenter=function(Fe){this._center=this._projection.lngLatToPoint(new BMap.Point(Fe[0],Fe[1]))},Q.prototype.setMapOffset=function(Fe){this._mapOffset=Fe},Q.prototype.getBMap=function(){return this._bmap},Q.prototype.dataToPoint=function(wt){var ut=new BMap.Point(wt[0],wt[1]);return[(wt=this._bmap.pointToOverlayPixel(ut)).x-(ut=this._mapOffset)[0],wt.y-ut[1]]},Q.prototype.pointToData=function(Fe){var wt=this._mapOffset;return[(Fe=this._bmap.overlayPixelToPoint({x:Fe[0]+wt[0],y:Fe[1]+wt[1]})).lng,Fe.lat]},Q.prototype.getViewRect=function(){var Fe=this._api;return new It.graphic.BoundingRect(0,0,Fe.getWidth(),Fe.getHeight())},Q.prototype.getRoamTransform=function(){return It.matrix.create()},Q.prototype.prepareCustoms=function(){var Fe=this.getViewRect();return{coordSys:{type:"bmap",x:Fe.x,y:Fe.y,width:Fe.width,height:Fe.height},api:{coord:It.util.bind(this.dataToPoint,this),size:It.util.bind(ho,this)}}},Q.dimensions=Q.prototype.dimensions,Q.create=function(Fe,wt){var ut,Ue=wt.getDom();Fe.eachComponent("bmap",function(Je){var tn,hn=wt.getZr().painter,Pt=hn.getViewportRoot();if(typeof BMap>"u")throw new Error("BMap api is not loaded");function si(cn){this._root=cn}if($e=$e||((si.prototype=new BMap.Overlay).initialize=function(cn){return cn.getPanes().labelPane.appendChild(this._root),this._root},si.prototype.draw=function(){},si),ut)throw new Error("Only one bmap component can exist");Je.__bmap||((jt=Ue.querySelector(".ec-extension-bmap"))&&(Pt.style.left="0px",Pt.style.top="0px",Ue.removeChild(jt)),(jt=document.createElement("div")).className="ec-extension-bmap",jt.style.cssText="position:absolute;width:100%;height:100%",Ue.appendChild(jt),(Lt=Je.get("mapOptions"))&&delete(Lt=It.util.clone(Lt)).mapType,tn=Je.__bmap=new BMap.Map(jt,Lt),jt=new $e(Pt),tn.addOverlay(jt),hn.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}),tn=Je.__bmap;var jt,Lt=Je.get("center");Pt=Je.get("zoom"),Lt&&Pt&&(jt=tn.getCenter(),hn=tn.getZoom(),Je.centerOrZoomChanged([jt.lng,jt.lat],hn)&&(hn=new BMap.Point(Lt[0],Lt[1]),tn.centerAndZoom(hn,Pt))),(ut=new Q(tn,wt)).setMapOffset(Je.__mapOffset||[0,0]),ut.setZoom(Pt),ut.setCenter(Lt),Je.coordinateSystem=ut}),Fe.eachSeries(function(Je){"bmap"===Je.get("coordinateSystem")&&(Je.coordinateSystem=ut)})},It.extendComponentModel({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(Fe,wt){this.option.center=Fe,this.option.zoom=wt},centerOrZoomChanged:function(Fe,wt){var ut,Ue=this.option;return ut=Fe,Fe=Ue.center,!(ut&&Fe&&ut[0]===Fe[0]&&ut[1]===Fe[1]&&wt===Ue.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},mapStyleV2:{},mapOptions:{},roam:!1}}),It.extendComponentView({type:"bmap",render:function(Fe,wt,ut){var Ue=!0,Je=Fe.getBMap(),tn=ut.getZr().painter.getViewportRoot(),hn=Fe.coordinateSystem,Lt=function(cn,Wi){var li,Jt,Ln,Wn;Ue||(Wn=tn.parentNode.parentNode.parentNode,Wn=(li=[-parseInt(Wn.style.left,10)||0,-parseInt(Wn.style.top,10)||0])[1]+"px",(Jt=tn.style).left!==(Ln=li[0]+"px")&&(Jt.left=Ln),Jt.top!==Wn&&(Jt.top=Wn),hn.setMapOffset(li),Fe.__mapOffset=li,ut.dispatchAction({type:"bmapRoam",animation:{duration:0}}))};function si(){Ue||ut.dispatchAction({type:"bmapRoam",animation:{duration:0}})}Je.removeEventListener("moving",this._oldMoveHandler),Je.removeEventListener("moveend",this._oldMoveHandler),Je.removeEventListener("zoomend",this._oldZoomEndHandler),Je.addEventListener("moving",Lt),Je.addEventListener("moveend",Lt),Je.addEventListener("zoomend",si),this._oldMoveHandler=Lt,this._oldZoomEndHandler=si,(Pt=Fe.get("roam"))&&"scale"!==Pt?Je.enableDragging():Je.disableDragging(),Pt&&"move"!==Pt?(Je.enableScrollWheelZoom(),Je.enableDoubleClickZoom(),Je.enablePinchToZoom()):(Je.disableScrollWheelZoom(),Je.disableDoubleClickZoom(),Je.disablePinchToZoom());var jt=Fe.__mapStyle,Pt=(Lt=Fe.get("mapStyle")||{},JSON.stringify(Lt));JSON.stringify(jt)!==Pt&&(co(Lt)||Je.setMapStyle(It.util.clone(Lt)),Fe.__mapStyle=JSON.parse(Pt)),jt=Fe.__mapStyle2,Lt=Fe.get("mapStyleV2")||{},Pt=JSON.stringify(Lt),JSON.stringify(jt)!==Pt&&(co(Lt)||Je.setMapStyleV2(It.util.clone(Lt)),Fe.__mapStyle2=JSON.parse(Pt)),Ue=!1}}),It.registerCoordinateSystem("bmap",Q),It.registerAction({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},function(Fe,wt){wt.eachComponent("bmap",function(ut){var Ue=ut.getBMap(),Je=Ue.getCenter();ut.setCenterAndZoom([Je.lng,Je.lat],Ue.getZoom())})}),ke.version="1.0.0",Object.defineProperty(ke,"__esModule",{value:!0})}),function(ke,It){"object"==typeof exports&&typeof module<"u"?module.exports=It(function(){try{return require("moment")}catch{}}()):"function"==typeof define&&define.amd?define(["require"],function(Q){return It(function(){try{return Q("moment")}catch{}}())}):(ke=ke||self).Chart=It(ke.moment)}(this,function(ke){"use strict";ke=ke&&ke.hasOwnProperty("default")?ke.default:ke;var v,It={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Q=(function(d){var v={};for(var _ in It)It.hasOwnProperty(_)&&(v[It[_]]=_);var w=d.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var I in w)if(w.hasOwnProperty(I)){if(!("channels"in w[I]))throw new Error("missing channels property: "+I);if(!("labels"in w[I]))throw new Error("missing channel labels property: "+I);if(w[I].labels.length!==w[I].channels)throw new Error("channel and label counts mismatch: "+I);var A=w[I].channels,L=w[I].labels;delete w[I].channels,delete w[I].labels,Object.defineProperty(w[I],"channels",{value:A}),Object.defineProperty(w[I],"labels",{value:L})}w.rgb.hsl=function(P){var O,z,W=P[0]/255,U=P[1]/255,X=P[2]/255,K=Math.min(W,U,X),$=Math.max(W,U,X),ee=$-K;return $===K?O=0:W===$?O=(U-X)/ee:U===$?O=2+(X-W)/ee:X===$&&(O=4+(W-U)/ee),(O=Math.min(60*O,360))<0&&(O+=360),z=(K+$)/2,[O,100*($===K?0:z<=.5?ee/($+K):ee/(2-$-K)),100*z]},w.rgb.hsv=function(P){var O,z,W,U,X,K=P[0]/255,$=P[1]/255,ee=P[2]/255,re=Math.max(K,$,ee),fe=re-Math.min(K,$,ee),de=function(Se){return(re-Se)/6/fe+.5};return 0===fe?U=X=0:(X=fe/re,O=de(K),z=de($),W=de(ee),K===re?U=W-z:$===re?U=1/3+O-W:ee===re&&(U=2/3+z-O),U<0?U+=1:U>1&&(U-=1)),[360*U,100*X,100*re]},w.rgb.hwb=function(P){var O=P[0],z=P[1],W=P[2];return[w.rgb.hsl(P)[0],1/255*Math.min(O,Math.min(z,W))*100,100*(W=1-1/255*Math.max(O,Math.max(z,W)))]},w.rgb.cmyk=function(P){var O,z=P[0]/255,W=P[1]/255,U=P[2]/255;return[100*((1-z-(O=Math.min(1-z,1-W,1-U)))/(1-O)||0),100*((1-W-O)/(1-O)||0),100*((1-U-O)/(1-O)||0),100*O]},w.rgb.keyword=function(P){var O=v[P];if(O)return O;var z,W,U,X=1/0;for(var K in It)if(It.hasOwnProperty(K)){var ee=(W=P,U=It[K],Math.pow(W[0]-U[0],2)+Math.pow(W[1]-U[1],2)+Math.pow(W[2]-U[2],2));ee<X&&(X=ee,z=K)}return z},w.keyword.rgb=function(P){return It[P]},w.rgb.xyz=function(P){var O=P[0]/255,z=P[1]/255,W=P[2]/255;return[100*(.4124*(O=O>.04045?Math.pow((O+.055)/1.055,2.4):O/12.92)+.3576*(z=z>.04045?Math.pow((z+.055)/1.055,2.4):z/12.92)+.1805*(W=W>.04045?Math.pow((W+.055)/1.055,2.4):W/12.92)),100*(.2126*O+.7152*z+.0722*W),100*(.0193*O+.1192*z+.9505*W)]},w.rgb.lab=function(P){var O=w.rgb.xyz(P),z=O[0],W=O[1],U=O[2];return W/=100,U/=108.883,z=(z/=95.047)>.008856?Math.pow(z,1/3):7.787*z+16/116,[116*(W=W>.008856?Math.pow(W,1/3):7.787*W+16/116)-16,500*(z-W),200*(W-(U=U>.008856?Math.pow(U,1/3):7.787*U+16/116))]},w.hsl.rgb=function(P){var O,z,W,U,X,K=P[0]/360,$=P[1]/100,ee=P[2]/100;if(0===$)return[X=255*ee,X,X];O=2*ee-(z=ee<.5?ee*(1+$):ee+$-ee*$),U=[0,0,0];for(var re=0;re<3;re++)(W=K+1/3*-(re-1))<0&&W++,W>1&&W--,U[re]=255*(X=6*W<1?O+6*(z-O)*W:2*W<1?z:3*W<2?O+(z-O)*(2/3-W)*6:O);return U},w.hsl.hsv=function(P){var O=P[0],z=P[1]/100,W=P[2]/100,U=z,X=Math.max(W,.01);return z*=(W*=2)<=1?W:2-W,U*=X<=1?X:2-X,[O,100*(0===W?2*U/(X+U):2*z/(W+z)),(W+z)/2*100]},w.hsv.rgb=function(P){var O=P[0]/60,z=P[1]/100,W=P[2]/100,U=Math.floor(O)%6,X=O-Math.floor(O),K=255*W*(1-z),$=255*W*(1-z*X),ee=255*W*(1-z*(1-X));switch(W*=255,U){case 0:return[W,ee,K];case 1:return[$,W,K];case 2:return[K,W,ee];case 3:return[K,$,W];case 4:return[ee,K,W];case 5:return[W,K,$]}},w.hsv.hsl=function(P){var O,z,W,U=P[0],X=P[1]/100,K=P[2]/100,$=Math.max(K,.01);return W=(2-X)*K,z=X*$,[U,100*(z=(z/=(O=(2-X)*$)<=1?O:2-O)||0),100*(W/=2)]},w.hwb.rgb=function(P){var O,z,W,U,X,K,$,ee=P[0]/360,re=P[1]/100,fe=P[2]/100,de=re+fe;switch(de>1&&(re/=de,fe/=de),W=6*ee-(O=Math.floor(6*ee)),0!=(1&O)&&(W=1-W),U=re+W*((z=1-fe)-re),O){default:case 6:case 0:X=z,K=U,$=re;break;case 1:X=U,K=z,$=re;break;case 2:X=re,K=z,$=U;break;case 3:X=re,K=U,$=z;break;case 4:X=U,K=re,$=z;break;case 5:X=z,K=re,$=U}return[255*X,255*K,255*$]},w.cmyk.rgb=function(P){var z=P[1]/100,W=P[2]/100,U=P[3]/100;return[255*(1-Math.min(1,P[0]/100*(1-U)+U)),255*(1-Math.min(1,z*(1-U)+U)),255*(1-Math.min(1,W*(1-U)+U))]},w.xyz.rgb=function(P){var O,z,W,U=P[0]/100,X=P[1]/100,K=P[2]/100;return z=-.9689*U+1.8758*X+.0415*K,W=.0557*U+-.204*X+1.057*K,O=(O=3.2406*U+-1.5372*X+-.4986*K)>.0031308?1.055*Math.pow(O,1/2.4)-.055:12.92*O,z=z>.0031308?1.055*Math.pow(z,1/2.4)-.055:12.92*z,W=W>.0031308?1.055*Math.pow(W,1/2.4)-.055:12.92*W,[255*(O=Math.min(Math.max(0,O),1)),255*(z=Math.min(Math.max(0,z),1)),255*(W=Math.min(Math.max(0,W),1))]},w.xyz.lab=function(P){var O=P[0],z=P[1],W=P[2];return z/=100,W/=108.883,O=(O/=95.047)>.008856?Math.pow(O,1/3):7.787*O+16/116,[116*(z=z>.008856?Math.pow(z,1/3):7.787*z+16/116)-16,500*(O-z),200*(z-(W=W>.008856?Math.pow(W,1/3):7.787*W+16/116))]},w.lab.xyz=function(P){var O,z,W;O=P[1]/500+(z=(P[0]+16)/116),W=z-P[2]/200;var X=Math.pow(z,3),K=Math.pow(O,3),$=Math.pow(W,3);return z=X>.008856?X:(z-16/116)/7.787,O=K>.008856?K:(O-16/116)/7.787,W=$>.008856?$:(W-16/116)/7.787,[O*=95.047,z*=100,W*=108.883]},w.lab.lch=function(P){var O,z=P[0],W=P[1],U=P[2];return(O=360*Math.atan2(U,W)/2/Math.PI)<0&&(O+=360),[z,Math.sqrt(W*W+U*U),O]},w.lch.lab=function(P){var O,W=P[1];return O=P[2]/360*2*Math.PI,[P[0],W*Math.cos(O),W*Math.sin(O)]},w.rgb.ansi16=function(P){var O=P[0],z=P[1],W=P[2],U=1 in arguments?arguments[1]:w.rgb.hsv(P)[2];if(0===(U=Math.round(U/50)))return 30;var X=30+(Math.round(W/255)<<2|Math.round(z/255)<<1|Math.round(O/255));return 2===U&&(X+=60),X},w.hsv.ansi16=function(P){return w.rgb.ansi16(w.hsv.rgb(P),P[2])},w.rgb.ansi256=function(P){var O=P[0],z=P[1],W=P[2];return O===z&&z===W?O<8?16:O>248?231:Math.round((O-8)/247*24)+232:16+36*Math.round(O/255*5)+6*Math.round(z/255*5)+Math.round(W/255*5)},w.ansi16.rgb=function(P){var O=P%10;if(0===O||7===O)return P>50&&(O+=3.5),[O=O/10.5*255,O,O];var z=.5*(1+~~(P>50));return[(1&O)*z*255,(O>>1&1)*z*255,(O>>2&1)*z*255]},w.ansi256.rgb=function(P){if(P>=232){var O=10*(P-232)+8;return[O,O,O]}var z;return P-=16,[Math.floor(P/36)/5*255,Math.floor((z=P%36)/6)/5*255,z%6/5*255]},w.rgb.hex=function(P){var O=(((255&Math.round(P[0]))<<16)+((255&Math.round(P[1]))<<8)+(255&Math.round(P[2]))).toString(16).toUpperCase();return"000000".substring(O.length)+O},w.hex.rgb=function(P){var O=P.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!O)return[0,0,0];var z=O[0];3===O[0].length&&(z=z.split("").map(function(U){return U+U}).join(""));var W=parseInt(z,16);return[W>>16&255,W>>8&255,255&W]},w.rgb.hcg=function(P){var O,z=P[0]/255,W=P[1]/255,U=P[2]/255,X=Math.max(Math.max(z,W),U),K=Math.min(Math.min(z,W),U),$=X-K;return O=$<=0?0:X===z?(W-U)/$%6:X===W?2+(U-z)/$:4+(z-W)/$+4,O/=6,[360*(O%=1),100*$,100*($<1?K/(1-$):0)]},w.hsl.hcg=function(P){var W,O=P[1]/100,z=P[2]/100,U=0;return(W=z<.5?2*O*z:2*O*(1-z))<1&&(U=(z-.5*W)/(1-W)),[P[0],100*W,100*U]},w.hsv.hcg=function(P){var z=P[2]/100,W=P[1]/100*z,U=0;return W<1&&(U=(z-W)/(1-W)),[P[0],100*W,100*U]},w.hcg.rgb=function(P){var z=P[1]/100,W=P[2]/100;if(0===z)return[255*W,255*W,255*W];var U,X=[0,0,0],K=P[0]/360%1*6,$=K%1,ee=1-$;switch(Math.floor(K)){case 0:X[0]=1,X[1]=$,X[2]=0;break;case 1:X[0]=ee,X[1]=1,X[2]=0;break;case 2:X[0]=0,X[1]=1,X[2]=$;break;case 3:X[0]=0,X[1]=ee,X[2]=1;break;case 4:X[0]=$,X[1]=0,X[2]=1;break;default:X[0]=1,X[1]=0,X[2]=ee}return[255*(z*X[0]+(U=(1-z)*W)),255*(z*X[1]+U),255*(z*X[2]+U)]},w.hcg.hsv=function(P){var O=P[1]/100,z=O+P[2]/100*(1-O),W=0;return z>0&&(W=O/z),[P[0],100*W,100*z]},w.hcg.hsl=function(P){var O=P[1]/100,z=P[2]/100*(1-O)+.5*O,W=0;return z>0&&z<.5?W=O/(2*z):z>=.5&&z<1&&(W=O/(2*(1-z))),[P[0],100*W,100*z]},w.hcg.hwb=function(P){var O=P[1]/100,z=O+P[2]/100*(1-O);return[P[0],100*(z-O),100*(1-z)]},w.hwb.hcg=function(P){var z=1-P[2]/100,W=z-P[1]/100,U=0;return W<1&&(U=(z-W)/(1-W)),[P[0],100*W,100*U]},w.apple.rgb=function(P){return[P[0]/65535*255,P[1]/65535*255,P[2]/65535*255]},w.rgb.apple=function(P){return[P[0]/255*65535,P[1]/255*65535,P[2]/255*65535]},w.gray.rgb=function(P){return[P[0]/100*255,P[0]/100*255,P[0]/100*255]},w.gray.hsl=w.gray.hsv=function(P){return[0,0,P[0]]},w.gray.hwb=function(P){return[0,100,P[0]]},w.gray.cmyk=function(P){return[0,0,0,P[0]]},w.gray.lab=function(P){return[P[0],0,0]},w.gray.hex=function(P){var O=255&Math.round(P[0]/100*255),z=((O<<16)+(O<<8)+O).toString(16).toUpperCase();return"000000".substring(z.length)+z},w.rgb.gray=function(P){return[(P[0]+P[1]+P[2])/3/255*100]}}(v={exports:{}}),v.exports);function $e(d,v){return function(_){return v(d(_))}}function co(d,v){for(var _=[v[d].parent,d],w=Q[v[d].parent][d],I=v[d].parent;v[I].parent;)_.unshift(v[I].parent),w=$e(Q[v[I].parent][I],w),I=v[I].parent;return w.conversion=_,w}var Fe={};Object.keys(Q).forEach(function(d){Fe[d]={},Object.defineProperty(Fe[d],"channels",{value:Q[d].channels}),Object.defineProperty(Fe[d],"labels",{value:Q[d].labels});var v=function(_){for(var w=function ho(d){var v=function(){for(var z={},W=Object.keys(Q),U=W.length,X=0;X<U;X++)z[W[X]]={distance:-1,parent:null};return z}(),_=[d];for(v[d].distance=0;_.length;)for(var w=_.pop(),I=Object.keys(Q[w]),A=I.length,L=0;L<A;L++){var P=I[L],O=v[P];-1===O.distance&&(O.distance=v[w].distance+1,O.parent=w,_.unshift(P))}return v}(_),I={},A=Object.keys(w),L=A.length,P=0;P<L;P++){var O=A[P];null!==w[O].parent&&(I[O]=co(O,w))}return I}(d);Object.keys(v).forEach(function(_){var I,A,w=v[_];Fe[d][_]=(A=function(L){if(null==L)return L;arguments.length>1&&(L=Array.prototype.slice.call(arguments));var P=I(L);if("object"==typeof P)for(var O=P.length,z=0;z<O;z++)P[z]=Math.round(P[z]);return P},"conversion"in(I=w)&&(A.conversion=I.conversion),A),Fe[d][_].raw=function(I){var A=function(L){return null==L?L:(arguments.length>1&&(L=Array.prototype.slice.call(arguments)),I(L))};return"conversion"in I&&(A.conversion=I.conversion),A}(w)})});var wt=Fe,ut={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ue={getRgba:Je,getHsla:tn,getRgb:function(d){var v=Je(d);return v&&v.slice(0,3)},getHsl:function(d){var v=tn(d);return v&&v.slice(0,3)},getHwb:hn,getAlpha:function(d){var v=Je(d);if(v||(v=tn(d))||(v=hn(d)))return v[3]},hexString:function(d,v){return v=void 0!==v&&3===d.length?v:d[3],"#"+cn(d[0])+cn(d[1])+cn(d[2])+(v>=0&&v<1?cn(Math.round(255*v)):"")},rgbString:function(d,v){return v<1||d[3]&&d[3]<1?si(d,v):"rgb("+d[0]+", "+d[1]+", "+d[2]+")"},rgbaString:si,percentString:function(d,v){return v<1||d[3]&&d[3]<1?jt(d,v):"rgb("+Math.round(d[0]/255*100)+"%, "+Math.round(d[1]/255*100)+"%, "+Math.round(d[2]/255*100)+"%)"},percentaString:jt,hslString:function(d,v){return v<1||d[3]&&d[3]<1?Lt(d,v):"hsl("+d[0]+", "+d[1]+"%, "+d[2]+"%)"},hslaString:Lt,hwbString:function(d,v){return void 0===v&&(v=void 0!==d[3]?d[3]:1),"hwb("+d[0]+", "+d[1]+"%, "+d[2]+"%"+(void 0!==v&&1!==v?", "+v:"")+")"},keyword:function(d){return Wi[d.slice(0,3)]}};function Je(d){if(d){var v=[0,0,0],_=1,w=d.match(/^#([a-fA-F0-9]{3,4})$/i),I="";if(w){I=(w=w[1])[3];for(var A=0;A<v.length;A++)v[A]=parseInt(w[A]+w[A],16);I&&(_=Math.round(parseInt(I+I,16)/255*100)/100)}else if(w=d.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(I=w[2],w=w[1],A=0;A<v.length;A++)v[A]=parseInt(w.slice(2*A,2*A+2),16);I&&(_=Math.round(parseInt(I,16)/255*100)/100)}else if(w=d.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(A=0;A<v.length;A++)v[A]=parseInt(w[A+1]);_=parseFloat(w[4])}else if(w=d.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(A=0;A<v.length;A++)v[A]=Math.round(2.55*parseFloat(w[A+1]));_=parseFloat(w[4])}else if(w=d.match(/(\w+)/)){if("transparent"==w[1])return[0,0,0,0];if(!(v=ut[w[1]]))return}for(A=0;A<v.length;A++)v[A]=Pt(v[A],0,255);return _=_||0==_?Pt(_,0,1):1,v[3]=_,v}}function tn(d){if(d){var v=d.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(v){var _=parseFloat(v[4]);return[Pt(parseInt(v[1]),0,360),Pt(parseFloat(v[2]),0,100),Pt(parseFloat(v[3]),0,100),Pt(isNaN(_)?1:_,0,1)]}}}function hn(d){if(d){var v=d.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(v){var _=parseFloat(v[4]);return[Pt(parseInt(v[1]),0,360),Pt(parseFloat(v[2]),0,100),Pt(parseFloat(v[3]),0,100),Pt(isNaN(_)?1:_,0,1)]}}}function si(d,v){return void 0===v&&(v=void 0!==d[3]?d[3]:1),"rgba("+d[0]+", "+d[1]+", "+d[2]+", "+v+")"}function jt(d,v){return"rgba("+Math.round(d[0]/255*100)+"%, "+Math.round(d[1]/255*100)+"%, "+Math.round(d[2]/255*100)+"%, "+(v||d[3]||1)+")"}function Lt(d,v){return void 0===v&&(v=void 0!==d[3]?d[3]:1),"hsla("+d[0]+", "+d[1]+"%, "+d[2]+"%, "+v+")"}function Pt(d,v,_){return Math.min(Math.max(v,d),_)}function cn(d){var v=d.toString(16).toUpperCase();return v.length<2?"0"+v:v}var Wi={};for(var li in ut)Wi[ut[li]]=li;var Jt=function(d){return d instanceof Jt?d:this instanceof Jt?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof d?(v=Ue.getRgba(d))?this.setValues("rgb",v):(v=Ue.getHsla(d))?this.setValues("hsl",v):(v=Ue.getHwb(d))&&this.setValues("hwb",v):"object"==typeof d&&(void 0!==(v=d).r||void 0!==v.red?this.setValues("rgb",v):void 0!==v.l||void 0!==v.lightness?this.setValues("hsl",v):void 0!==v.v||void 0!==v.value?this.setValues("hsv",v):void 0!==v.w||void 0!==v.whiteness?this.setValues("hwb",v):void 0===v.c&&void 0===v.cyan||this.setValues("cmyk",v)))):new Jt(d);var v};Jt.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var d=this.values;return 1!==d.alpha?d.hwb.concat([d.alpha]):d.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var d=this.values;return d.rgb.concat([d.alpha])},hslaArray:function(){var d=this.values;return d.hsl.concat([d.alpha])},alpha:function(d){return void 0===d?this.values.alpha:(this.setValues("alpha",d),this)},red:function(d){return this.setChannel("rgb",0,d)},green:function(d){return this.setChannel("rgb",1,d)},blue:function(d){return this.setChannel("rgb",2,d)},hue:function(d){return d&&(d=(d%=360)<0?360+d:d),this.setChannel("hsl",0,d)},saturation:function(d){return this.setChannel("hsl",1,d)},lightness:function(d){return this.setChannel("hsl",2,d)},saturationv:function(d){return this.setChannel("hsv",1,d)},whiteness:function(d){return this.setChannel("hwb",1,d)},blackness:function(d){return this.setChannel("hwb",2,d)},value:function(d){return this.setChannel("hsv",2,d)},cyan:function(d){return this.setChannel("cmyk",0,d)},magenta:function(d){return this.setChannel("cmyk",1,d)},yellow:function(d){return this.setChannel("cmyk",2,d)},black:function(d){return this.setChannel("cmyk",3,d)},hexString:function(){return Ue.hexString(this.values.rgb)},rgbString:function(){return Ue.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return Ue.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return Ue.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return Ue.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return Ue.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return Ue.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return Ue.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var d=this.values.rgb;return d[0]<<16|d[1]<<8|d[2]},luminosity:function(){for(var d=this.values.rgb,v=[],_=0;_<d.length;_++){var w=d[_]/255;v[_]=w<=.03928?w/12.92:Math.pow((w+.055)/1.055,2.4)}return.2126*v[0]+.7152*v[1]+.0722*v[2]},contrast:function(d){var v=this.luminosity(),_=d.luminosity();return v>_?(v+.05)/(_+.05):(_+.05)/(v+.05)},level:function(d){var v=this.contrast(d);return v>=7.1?"AAA":v>=4.5?"AA":""},dark:function(){var d=this.values.rgb;return(299*d[0]+587*d[1]+114*d[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var d=[],v=0;v<3;v++)d[v]=255-this.values.rgb[v];return this.setValues("rgb",d),this},lighten:function(d){var v=this.values.hsl;return v[2]+=v[2]*d,this.setValues("hsl",v),this},darken:function(d){var v=this.values.hsl;return v[2]-=v[2]*d,this.setValues("hsl",v),this},saturate:function(d){var v=this.values.hsl;return v[1]+=v[1]*d,this.setValues("hsl",v),this},desaturate:function(d){var v=this.values.hsl;return v[1]-=v[1]*d,this.setValues("hsl",v),this},whiten:function(d){var v=this.values.hwb;return v[1]+=v[1]*d,this.setValues("hwb",v),this},blacken:function(d){var v=this.values.hwb;return v[2]+=v[2]*d,this.setValues("hwb",v),this},greyscale:function(){var d=this.values.rgb,v=.3*d[0]+.59*d[1]+.11*d[2];return this.setValues("rgb",[v,v,v]),this},clearer:function(d){var v=this.values.alpha;return this.setValues("alpha",v-v*d),this},opaquer:function(d){var v=this.values.alpha;return this.setValues("alpha",v+v*d),this},rotate:function(d){var v=this.values.hsl,_=(v[0]+d)%360;return v[0]=_<0?360+_:_,this.setValues("hsl",v),this},mix:function(d,v){var _=d,w=void 0===v?.5:v,I=2*w-1,A=this.alpha()-_.alpha(),L=((I*A==-1?I:(I+A)/(1+I*A))+1)/2,P=1-L;return this.rgb(L*this.red()+P*_.red(),L*this.green()+P*_.green(),L*this.blue()+P*_.blue()).alpha(this.alpha()*w+_.alpha()*(1-w))},toJSON:function(){return this.rgb()},clone:function(){var d,v,_=new Jt,w=this.values,I=_.values;for(var A in w)w.hasOwnProperty(A)&&("[object Array]"===(v={}.toString.call(d=w[A]))?I[A]=d.slice(0):"[object Number]"===v?I[A]=d:console.error("unexpected color value:",d));return _}},Jt.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Jt.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Jt.prototype.getValues=function(d){for(var v=this.values,_={},w=0;w<d.length;w++)_[d.charAt(w)]=v[d][w];return 1!==v.alpha&&(_.a=v.alpha),_},Jt.prototype.setValues=function(d,v){var _,w,I=this.values,A=this.spaces,L=this.maxes,P=1;if(this.valid=!0,"alpha"===d)P=v;else if(v.length)I[d]=v.slice(0,d.length),P=v[d.length];else if(void 0!==v[d.charAt(0)]){for(_=0;_<d.length;_++)I[d][_]=v[d.charAt(_)];P=v.a}else if(void 0!==v[A[d][0]]){var O=A[d];for(_=0;_<d.length;_++)I[d][_]=v[O[_]];P=v.alpha}if(I.alpha=Math.max(0,Math.min(1,void 0===P?I.alpha:P)),"alpha"===d)return!1;for(_=0;_<d.length;_++)w=Math.max(0,Math.min(L[d][_],I[d][_])),I[d][_]=Math.round(w);for(var z in A)z!==d&&(I[z]=wt[d][z](I[d]));return!0},Jt.prototype.setSpace=function(d,v){var _=v[0];return void 0===_?this.getValues(d):("number"==typeof _&&(_=Array.prototype.slice.call(v)),this.setValues(d,_),this)},Jt.prototype.setChannel=function(d,v,_){var w=this.values[d];return void 0===_?w[v]:(_===w[v]||(w[v]=_,this.setValues(d,w)),this)},typeof window<"u"&&(window.Color=Jt);var Ln=Jt;function Wn(d){return-1===["__proto__","prototype","constructor"].indexOf(d)}var Pa,ct={noop:function(){},uid:(Pa=0,function(){return Pa++}),isNullOrUndef:function(d){return null==d},isArray:function(d){if(Array.isArray&&Array.isArray(d))return!0;var v=Object.prototype.toString.call(d);return"[object"===v.substr(0,7)&&"Array]"===v.substr(-6)},isObject:function(d){return null!==d&&"[object Object]"===Object.prototype.toString.call(d)},isFinite:function(d){return("number"==typeof d||d instanceof Number)&&isFinite(d)},valueOrDefault:function(d,v){return void 0===d?v:d},valueAtIndexOrDefault:function(d,v,_){return ct.valueOrDefault(ct.isArray(d)?d[v]:d,_)},callback:function(d,v,_){if(d&&"function"==typeof d.call)return d.apply(_,v)},each:function(d,v,_,w){var I,A,L;if(ct.isArray(d))if(A=d.length,w)for(I=A-1;I>=0;I--)v.call(_,d[I],I);else for(I=0;I<A;I++)v.call(_,d[I],I);else if(ct.isObject(d))for(A=(L=Object.keys(d)).length,I=0;I<A;I++)v.call(_,d[L[I]],L[I])},arrayEquals:function(d,v){var _,w,I,A;if(!d||!v||d.length!==v.length)return!1;for(_=0,w=d.length;_<w;++_)if(A=v[_],(I=d[_])instanceof Array&&A instanceof Array){if(!ct.arrayEquals(I,A))return!1}else if(I!==A)return!1;return!0},clone:function(d){if(ct.isArray(d))return d.map(ct.clone);if(ct.isObject(d)){for(var v=Object.create(d),_=Object.keys(d),w=_.length,I=0;I<w;++I)v[_[I]]=ct.clone(d[_[I]]);return v}return d},_merger:function(d,v,_,w){if(Wn(d)){var I=v[d],A=_[d];ct.isObject(I)&&ct.isObject(A)?ct.merge(I,A,w):v[d]=ct.clone(A)}},_mergerIf:function(d,v,_){if(Wn(d)){var w=v[d],I=_[d];ct.isObject(w)&&ct.isObject(I)?ct.mergeIf(w,I):v.hasOwnProperty(d)||(v[d]=ct.clone(I))}},merge:function(d,v,_){var w,I,A,L,P,O=ct.isArray(v)?v:[v],z=O.length;if(!ct.isObject(d))return d;for(w=(_=_||{}).merger||ct._merger,I=0;I<z;++I)if(ct.isObject(v=O[I]))for(P=0,L=(A=Object.keys(v)).length;P<L;++P)w(A[P],d,v,_);return d},mergeIf:function(d,v){return ct.merge(d,v,{merger:ct._mergerIf})},extend:Object.assign||function(d){return ct.merge(d,[].slice.call(arguments,1),{merger:function(v,_,w){_[v]=w[v]}})},inherits:function(d){var v=this,_=d&&d.hasOwnProperty("constructor")?d.constructor:function(){return v.apply(this,arguments)},w=function(){this.constructor=_};return w.prototype=v.prototype,_.prototype=new w,_.extend=ct.inherits,d&&ct.extend(_.prototype,d),_.__super__=v.prototype,_},_deprecated:function(d,v,_,w){void 0!==v&&console.warn(d+': "'+_+'" is deprecated. Please use "'+w+'" instead')}},xn=ct;ct.callCallback=ct.callback,ct.indexOf=function(d,v,_){return Array.prototype.indexOf.call(d,v,_)},ct.getValueOrDefault=ct.valueOrDefault,ct.getValueAtIndexOrDefault=ct.valueAtIndexOrDefault;var Re={linear:function(d){return d},easeInQuad:function(d){return d*d},easeOutQuad:function(d){return-d*(d-2)},easeInOutQuad:function(d){return(d/=.5)<1?.5*d*d:-.5*(--d*(d-2)-1)},easeInCubic:function(d){return d*d*d},easeOutCubic:function(d){return(d-=1)*d*d+1},easeInOutCubic:function(d){return(d/=.5)<1?.5*d*d*d:.5*((d-=2)*d*d+2)},easeInQuart:function(d){return d*d*d*d},easeOutQuart:function(d){return-((d-=1)*d*d*d-1)},easeInOutQuart:function(d){return(d/=.5)<1?.5*d*d*d*d:-.5*((d-=2)*d*d*d-2)},easeInQuint:function(d){return d*d*d*d*d},easeOutQuint:function(d){return(d-=1)*d*d*d*d+1},easeInOutQuint:function(d){return(d/=.5)<1?.5*d*d*d*d*d:.5*((d-=2)*d*d*d*d+2)},easeInSine:function(d){return 1-Math.cos(d*(Math.PI/2))},easeOutSine:function(d){return Math.sin(d*(Math.PI/2))},easeInOutSine:function(d){return-.5*(Math.cos(Math.PI*d)-1)},easeInExpo:function(d){return 0===d?0:Math.pow(2,10*(d-1))},easeOutExpo:function(d){return 1===d?1:1-Math.pow(2,-10*d)},easeInOutExpo:function(d){return 0===d?0:1===d?1:(d/=.5)<1?.5*Math.pow(2,10*(d-1)):.5*(2-Math.pow(2,-10*--d))},easeInCirc:function(d){return d>=1?d:-(Math.sqrt(1-d*d)-1)},easeOutCirc:function(d){return Math.sqrt(1-(d-=1)*d)},easeInOutCirc:function(d){return(d/=.5)<1?-.5*(Math.sqrt(1-d*d)-1):.5*(Math.sqrt(1-(d-=2)*d)+1)},easeInElastic:function(d){var v=1.70158,_=0,w=1;return 0===d?0:1===d?1:(_||(_=.3),w<1?(w=1,v=_/4):v=_/(2*Math.PI)*Math.asin(1/w),-w*Math.pow(2,10*(d-=1))*Math.sin((d-v)*(2*Math.PI)/_))},easeOutElastic:function(d){var v=1.70158,_=0,w=1;return 0===d?0:1===d?1:(_||(_=.3),w<1?(w=1,v=_/4):v=_/(2*Math.PI)*Math.asin(1/w),w*Math.pow(2,-10*d)*Math.sin((d-v)*(2*Math.PI)/_)+1)},easeInOutElastic:function(d){var v=1.70158,_=0,w=1;return 0===d?0:2==(d/=.5)?1:(_||(_=.45),w<1?(w=1,v=_/4):v=_/(2*Math.PI)*Math.asin(1/w),d<1?w*Math.pow(2,10*(d-=1))*Math.sin((d-v)*(2*Math.PI)/_)*-.5:w*Math.pow(2,-10*(d-=1))*Math.sin((d-v)*(2*Math.PI)/_)*.5+1)},easeInBack:function(d){var v=1.70158;return d*d*((v+1)*d-v)},easeOutBack:function(d){var v=1.70158;return(d-=1)*d*((v+1)*d+v)+1},easeInOutBack:function(d){var v=1.70158;return(d/=.5)<1?d*d*((1+(v*=1.525))*d-v)*.5:.5*((d-=2)*d*((1+(v*=1.525))*d+v)+2)},easeInBounce:function(d){return 1-Re.easeOutBounce(1-d)},easeOutBounce:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+.9375:7.5625*(d-=2.625/2.75)*d+.984375},easeInOutBounce:function(d){return d<.5?.5*Re.easeInBounce(2*d):.5*Re.easeOutBounce(2*d-1)+.5}},qe={effects:Re};xn.easingEffects=Re;var Ut=Math.PI,ae=Ut/180,Ee=2*Ut,Gn=Ut/2,je=Ut/4,Gi=2*Ut/3,Nt={clear:function(d){d.ctx.clearRect(0,0,d.width,d.height)},roundedRect:function(d,v,_,w,I,A){if(A){var L=Math.min(A,I/2,w/2),P=v+L,O=_+L,z=v+w-L,W=_+I-L;d.moveTo(v,O),P<z&&O<W?(d.arc(P,O,L,-Ut,-Gn),d.arc(z,O,L,-Gn,0),d.arc(z,W,L,0,Gn),d.arc(P,W,L,Gn,Ut)):P<z?(d.moveTo(P,_),d.arc(z,O,L,-Gn,Gn),d.arc(P,O,L,Gn,Ut+Gn)):O<W?(d.arc(P,O,L,-Ut,0),d.arc(P,W,L,0,Ut)):d.arc(P,O,L,-Ut,Ut),d.closePath(),d.moveTo(v,_)}else d.rect(v,_,w,I)},drawPoint:function(d,v,_,w,I,A){var L,P,O,z,W,U=(A||0)*ae;if(v&&"object"==typeof v&&("[object HTMLImageElement]"===(L=v.toString())||"[object HTMLCanvasElement]"===L))return d.save(),d.translate(w,I),d.rotate(U),d.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),void d.restore();if(!(isNaN(_)||_<=0)){switch(d.beginPath(),v){default:d.arc(w,I,_,0,Ee),d.closePath();break;case"triangle":d.moveTo(w+Math.sin(U)*_,I-Math.cos(U)*_),U+=Gi,d.lineTo(w+Math.sin(U)*_,I-Math.cos(U)*_),U+=Gi,d.lineTo(w+Math.sin(U)*_,I-Math.cos(U)*_),d.closePath();break;case"rectRounded":z=_-(W=.516*_),P=Math.cos(U+je)*z,O=Math.sin(U+je)*z,d.arc(w-P,I-O,W,U-Ut,U-Gn),d.arc(w+O,I-P,W,U-Gn,U),d.arc(w+P,I+O,W,U,U+Gn),d.arc(w-O,I+P,W,U+Gn,U+Ut),d.closePath();break;case"rect":if(!A){z=Math.SQRT1_2*_,d.rect(w-z,I-z,2*z,2*z);break}U+=je;case"rectRot":P=Math.cos(U)*_,O=Math.sin(U)*_,d.moveTo(w-P,I-O),d.lineTo(w+O,I-P),d.lineTo(w+P,I+O),d.lineTo(w-O,I+P),d.closePath();break;case"crossRot":U+=je;case"cross":P=Math.cos(U)*_,O=Math.sin(U)*_,d.moveTo(w-P,I-O),d.lineTo(w+P,I+O),d.moveTo(w+O,I-P),d.lineTo(w-O,I+P);break;case"star":P=Math.cos(U)*_,O=Math.sin(U)*_,d.moveTo(w-P,I-O),d.lineTo(w+P,I+O),d.moveTo(w+O,I-P),d.lineTo(w-O,I+P),U+=je,P=Math.cos(U)*_,O=Math.sin(U)*_,d.moveTo(w-P,I-O),d.lineTo(w+P,I+O),d.moveTo(w+O,I-P),d.lineTo(w-O,I+P);break;case"line":P=Math.cos(U)*_,O=Math.sin(U)*_,d.moveTo(w-P,I-O),d.lineTo(w+P,I+O);break;case"dash":d.moveTo(w,I),d.lineTo(w+Math.cos(U)*_,I+Math.sin(U)*_)}d.fill(),d.stroke()}},_isPointInArea:function(d,v){return d.x>v.left-1e-6&&d.x<v.right+1e-6&&d.y>v.top-1e-6&&d.y<v.bottom+1e-6},clipArea:function(d,v){d.save(),d.beginPath(),d.rect(v.left,v.top,v.right-v.left,v.bottom-v.top),d.clip()},unclipArea:function(d){d.restore()},lineTo:function(d,v,_,w){var I=_.steppedLine;if(I){if("middle"===I){var A=(v.x+_.x)/2;d.lineTo(A,w?_.y:v.y),d.lineTo(A,w?v.y:_.y)}else"after"===I&&!w||"after"!==I&&w?d.lineTo(v.x,_.y):d.lineTo(_.x,v.y);d.lineTo(_.x,_.y)}else _.tension?d.bezierCurveTo(w?v.controlPointPreviousX:v.controlPointNextX,w?v.controlPointPreviousY:v.controlPointNextY,w?_.controlPointNextX:_.controlPointPreviousX,w?_.controlPointNextY:_.controlPointPreviousY,_.x,_.y):d.lineTo(_.x,_.y)}},nn=Nt;xn.clear=Nt.clear,xn.drawRoundedRectangle=function(d){d.beginPath(),Nt.roundedRect.apply(Nt,arguments)};var V={_set:function(d,v){return xn.merge(this[d]||(this[d]={}),v)}};V._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var oe=V,_n=xn.valueOrDefault,dt={toLineHeight:function(d,v){var _=(""+d).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!_||"normal"===_[1])return 1.2*v;switch(d=+_[2],_[3]){case"px":return d;case"%":d/=100}return v*d},toPadding:function(d){var v,_,w,I;return xn.isObject(d)?(v=+d.top||0,_=+d.right||0,w=+d.bottom||0,I=+d.left||0):v=_=w=I=+d||0,{top:v,right:_,bottom:w,left:I,height:v+w,width:I+_}},_parseFont:function(d){var I,v=oe.global,_=_n(d.fontSize,v.defaultFontSize),w={family:_n(d.fontFamily,v.defaultFontFamily),lineHeight:xn.options.toLineHeight(_n(d.lineHeight,v.defaultLineHeight),_),size:_,style:_n(d.fontStyle,v.defaultFontStyle),weight:null,string:""};return w.string=!(I=w)||xn.isNullOrUndef(I.size)||xn.isNullOrUndef(I.family)?null:(I.style?I.style+" ":"")+(I.weight?I.weight+" ":"")+I.size+"px "+I.family,w},resolve:function(d,v,_,w){var I,A,L,P=!0;for(I=0,A=d.length;I<A;++I)if(void 0!==(L=d[I])&&(void 0!==v&&"function"==typeof L&&(L=L(v),P=!1),void 0!==_&&xn.isArray(L)&&(L=L[_],P=!1),void 0!==L))return w&&!P&&(w.cacheable=!1),L}},zr={_factorize:function(d){var v,_=[],w=Math.sqrt(d);for(v=1;v<w;v++)d%v==0&&(_.push(v),_.push(d/v));return w===(0|w)&&_.push(w),_.sort(function(I,A){return I-A}).pop(),_},log10:Math.log10||function(d){var v=Math.log(d)*Math.LOG10E,_=Math.round(v);return d===Math.pow(10,_)?_:v}},tt=zr;xn.log10=zr.log10;var F=xn,ce=nn,ze=dt,De=tt;F.easing=qe,F.canvas=ce,F.options=ze,F.math=De,F.rtl={getRtlAdapter:function(d,v,_){return d?(w=v,I=_,{x:function(A){return w+w+I-A},setWidth:function(A){I=A},textAlign:function(A){return"center"===A?A:"right"===A?"left":"right"},xPlus:function(A,L){return A-L},leftForLtr:function(A,L){return A-L}}):{x:function(w){return w},setWidth:function(w){},textAlign:function(w){return w},xPlus:function(w,I){return w+I},leftForLtr:function(w,I){return w}};var w,I},overrideTextDirection:function(d,v){var _,w;"ltr"!==v&&"rtl"!==v||(w=[(_=d.canvas.style).getPropertyValue("direction"),_.getPropertyPriority("direction")],_.setProperty("direction",v,"important"),d.prevTextDirection=w)},restoreTextDirection:function(d){var v=d.prevTextDirection;void 0!==v&&(delete d.prevTextDirection,d.canvas.style.setProperty("direction",v[0],v[1]))}};var ot=function(d){F.extend(this,d),this.initialize.apply(this,arguments)};F.extend(ot.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var d=this;return d._view||(d._view=F.extend({},d._model)),d._start={},d},transition:function(d){var v=this,_=v._model,w=v._start,I=v._view;return _&&1!==d?(I||(I=v._view={}),w||(w=v._start={}),function(A,L,P,O){var z,W,U,X,K,$,ee,re,fe,de=Object.keys(P);for(z=0,W=de.length;z<W;++z)if($=P[U=de[z]],L.hasOwnProperty(U)||(L[U]=$),(X=L[U])!==$&&"_"!==U[0]){if(A.hasOwnProperty(U)||(A[U]=X),(ee=typeof $)==typeof(K=A[U]))if("string"===ee){if((re=Ln(K)).valid&&(fe=Ln($)).valid){L[U]=fe.mix(re,O).rgbString();continue}}else if(F.isFinite(K)&&F.isFinite($)){L[U]=K+($-K)*O;continue}L[U]=$}}(w,I,_,d),v):(v._view=F.extend({},_),v._start=null,v)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return F.isNumber(this._model.x)&&F.isNumber(this._model.y)}}),ot.extend=F.inherits;var Oe=ot,Br=Oe.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),bn=Br;Object.defineProperty(Br.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Br.prototype,"chartInstance",{get:function(){return this.chart},set:function(d){this.chart=d}}),oe._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:F.noop,onComplete:F.noop}});var Hi={animations:[],request:null,addAnimation:function(d,v,_,w){var I,A,L=this.animations;for(v.chart=d,v.startTime=Date.now(),v.duration=_,w||(d.animating=!0),I=0,A=L.length;I<A;++I)if(L[I].chart===d)return void(L[I]=v);L.push(v),1===L.length&&this.requestAnimationFrame()},cancelAnimation:function(d){var v=F.findIndex(this.animations,function(_){return _.chart===d});-1!==v&&(this.animations.splice(v,1),d.animating=!1)},requestAnimationFrame:function(){var d=this;null===d.request&&(d.request=F.requestAnimFrame.call(window,function(){d.request=null,d.startDigest()}))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var d,v,_,w,I=this.animations,A=0;A<I.length;)v=(d=I[A]).chart,_=d.numSteps,w=Math.floor((Date.now()-d.startTime)/d.duration*_)+1,d.currentStep=Math.min(w,_),F.callback(d.render,[v,d],v),F.callback(d.onAnimationProgress,[d],v),d.currentStep>=_?(F.callback(d.onAnimationComplete,[d],v),v.animating=!1,I.splice(A,1)):++A}},ve=F.options.resolve,se=["push","pop","shift","splice","unshift"];function Me(d,v){var _=d._chartjs;if(_){var w=_.listeners,I=w.indexOf(v);-1!==I&&w.splice(I,1),w.length>0||(se.forEach(function(A){delete d[A]}),delete d._chartjs)}}var Ie=function(d,v){this.initialize(d,v)};F.extend(Ie.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(d,v){var _=this;_.chart=d,_.index=v,_.linkScales(),_.addElements(),_._type=_.getMeta().type},updateIndex:function(d){this.index=d},linkScales:function(){var d=this.getMeta(),v=this.chart,_=v.scales,w=this.getDataset(),I=v.options.scales;null!==d.xAxisID&&d.xAxisID in _&&!w.xAxisID||(d.xAxisID=w.xAxisID||I.xAxes[0].id),null!==d.yAxisID&&d.yAxisID in _&&!w.yAxisID||(d.yAxisID=w.yAxisID||I.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(d){return this.chart.scales[d]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&Me(this._data,this)},createMetaDataset:function(){var d=this.datasetElementType;return d&&new d({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(d){var v=this.dataElementType;return v&&new v({_chart:this.chart,_datasetIndex:this.index,_index:d})},addElements:function(){var d,v,_=this.getMeta(),w=this.getDataset().data||[],I=_.data;for(d=0,v=w.length;d<v;++d)I[d]=I[d]||this.createMetaData(d);_.dataset=_.dataset||this.createMetaDataset()},addElementAndReset:function(d){var v=this.createMetaData(d);this.getMeta().data.splice(d,0,v),this.updateElement(v,d,!0)},buildOrUpdateElements:function(){var d,v,_=this,w=_.getDataset(),I=w.data||(w.data=[]);_._data!==I&&(_._data&&Me(_._data,_),I&&Object.isExtensible(I)&&(v=_,(d=I)._chartjs?d._chartjs.listeners.push(v):(Object.defineProperty(d,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[v]}}),se.forEach(function(A){var L="onData"+A.charAt(0).toUpperCase()+A.slice(1),P=d[A];Object.defineProperty(d,A,{configurable:!0,enumerable:!1,value:function(){var O=Array.prototype.slice.call(arguments),z=P.apply(this,O);return F.each(d._chartjs.listeners,function(W){"function"==typeof W[L]&&W[L].apply(W,O)}),z}})}))),_._data=I),_.resyncElements()},_configure:function(){this._config=F.merge(Object.create(null),[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(d,v,_){"_meta"!==d&&"data"!==d&&F._merger(d,v,_)}})},_update:function(d){this._configure(),this._cachedDataOpts=null,this.update(d)},update:F.noop,transition:function(d){for(var v=this.getMeta(),_=v.data||[],w=_.length,I=0;I<w;++I)_[I].transition(d);v.dataset&&v.dataset.transition(d)},draw:function(){var d=this.getMeta(),v=d.data||[],_=v.length,w=0;for(d.dataset&&d.dataset.draw();w<_;++w)v[w].draw()},getStyle:function(d){var v,_=this.getMeta(),w=_.dataset;return this._configure(),!1!==(v=w&&void 0===d?this._resolveDatasetElementOptions(w||{}):this._resolveDataElementOptions(_.data[d=d||0]||{},d)).fill&&null!==v.fill||(v.backgroundColor=v.borderColor),v},_resolveDatasetElementOptions:function(d,v){var _,w,I,A,L=this,P=L.chart,O=L._config,z=d.custom||{},W=P.options.elements[L.datasetElementType.prototype._type]||{},U=L._datasetElementOptions,X={},K={chart:P,dataset:L.getDataset(),datasetIndex:L.index,hover:v};for(_=0,w=U.length;_<w;++_)I=U[_],A=v?"hover"+I.charAt(0).toUpperCase()+I.slice(1):I,X[I]=ve([z[A],O[A],W[A]],K);return X},_resolveDataElementOptions:function(d,v){var _=this,w=d&&d.custom,I=_._cachedDataOpts;if(I&&!w)return I;var A,L,P,O,z=_.chart,W=_._config,U=z.options.elements[_.dataElementType.prototype._type]||{},X=_._dataElementOptions,K={},$={chart:z,dataIndex:v,dataset:_.getDataset(),datasetIndex:_.index},ee={cacheable:!w};if(w=w||{},F.isArray(X))for(L=0,P=X.length;L<P;++L)K[O=X[L]]=ve([w[O],W[O],U[O]],$,v,ee);else for(L=0,P=(A=Object.keys(X)).length;L<P;++L)K[O=A[L]]=ve([w[O],W[X[O]],W[O],U[O]],$,v,ee);return ee.cacheable&&(_._cachedDataOpts=Object.freeze(K)),K},removeHoverStyle:function(d){F.merge(d._model,d.$previousStyle||{}),delete d.$previousStyle},setHoverStyle:function(d){var v=this.chart.data.datasets[d._datasetIndex],_=d._index,w=d.custom||{},I=d._model,A=F.getHoverColor;d.$previousStyle={backgroundColor:I.backgroundColor,borderColor:I.borderColor,borderWidth:I.borderWidth},I.backgroundColor=ve([w.hoverBackgroundColor,v.hoverBackgroundColor,A(I.backgroundColor)],void 0,_),I.borderColor=ve([w.hoverBorderColor,v.hoverBorderColor,A(I.borderColor)],void 0,_),I.borderWidth=ve([w.hoverBorderWidth,v.hoverBorderWidth,I.borderWidth],void 0,_)},_removeDatasetHoverStyle:function(){var d=this.getMeta().dataset;d&&this.removeHoverStyle(d)},_setDatasetHoverStyle:function(){var d,v,_,w,I,A,L=this.getMeta().dataset,P={};if(L){for(A=L._model,I=this._resolveDatasetElementOptions(L,!0),d=0,v=(w=Object.keys(I)).length;d<v;++d)P[_=w[d]]=A[_],A[_]=I[_];L.$previousStyle=P}},resyncElements:function(){var d=this.getMeta(),v=this.getDataset().data,_=d.data.length,w=v.length;w<_?d.data.splice(w,_-w):w>_&&this.insertElements(_,w-_)},insertElements:function(d,v){for(var _=0;_<v;++_)this.addElementAndReset(d+_)},onDataPush:function(){var d=arguments.length;this.insertElements(this.getDataset().data.length-d,d)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(d,v){this.getMeta().data.splice(d,v),this.insertElements(d,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Ie.extend=F.inherits;var _e=Ie,pe=2*Math.PI;function it(d,v){var _=v.startAngle,w=v.endAngle,I=v.pixelMargin,A=I/v.outerRadius,L=v.x,P=v.y;d.beginPath(),d.arc(L,P,v.outerRadius,_-A,w+A),v.innerRadius>I?d.arc(L,P,v.innerRadius-I,w+(A=I/v.innerRadius),_-A,!0):d.arc(L,P,I,w+Math.PI/2,_-Math.PI/2),d.closePath(),d.clip()}oe._set("global",{elements:{arc:{backgroundColor:oe.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var Ft=Oe.extend({_type:"arc",inLabelRange:function(d){var v=this._view;return!!v&&Math.pow(d-v.x,2)<Math.pow(v.radius+v.hoverRadius,2)},inRange:function(d,v){var _=this._view;if(_){for(var w=F.getAngleFromPoint(_,{x:d,y:v}),I=w.angle,A=w.distance,L=_.startAngle,P=_.endAngle;P<L;)P+=pe;for(;I>P;)I-=pe;for(;I<L;)I+=pe;return I>=L&&I<=P&&A>=_.innerRadius&&A<=_.outerRadius}return!1},getCenterPoint:function(){var d=this._view,v=(d.startAngle+d.endAngle)/2,_=(d.innerRadius+d.outerRadius)/2;return{x:d.x+Math.cos(v)*_,y:d.y+Math.sin(v)*_}},getArea:function(){var d=this._view;return Math.PI*((d.endAngle-d.startAngle)/(2*Math.PI))*(Math.pow(d.outerRadius,2)-Math.pow(d.innerRadius,2))},tooltipPosition:function(){var d=this._view,v=d.startAngle+(d.endAngle-d.startAngle)/2,_=(d.outerRadius-d.innerRadius)/2+d.innerRadius;return{x:d.x+Math.cos(v)*_,y:d.y+Math.sin(v)*_}},draw:function(){var d,v=this._chart.ctx,_=this._view,w="inner"===_.borderAlign?.33:0,I={x:_.x,y:_.y,innerRadius:_.innerRadius,outerRadius:Math.max(_.outerRadius-w,0),pixelMargin:w,startAngle:_.startAngle,endAngle:_.endAngle,fullCircles:Math.floor(_.circumference/pe)};if(v.save(),v.fillStyle=_.backgroundColor,v.strokeStyle=_.borderColor,I.fullCircles){for(I.endAngle=I.startAngle+pe,v.beginPath(),v.arc(I.x,I.y,I.outerRadius,I.startAngle,I.endAngle),v.arc(I.x,I.y,I.innerRadius,I.endAngle,I.startAngle,!0),v.closePath(),d=0;d<I.fullCircles;++d)v.fill();I.endAngle=I.startAngle+_.circumference%pe}v.beginPath(),v.arc(I.x,I.y,I.outerRadius,I.startAngle,I.endAngle),v.arc(I.x,I.y,I.innerRadius,I.endAngle,I.startAngle,!0),v.closePath(),v.fill(),_.borderWidth&&function St(d,v,_){var w="inner"===v.borderAlign;w?(d.lineWidth=2*v.borderWidth,d.lineJoin="round"):(d.lineWidth=v.borderWidth,d.lineJoin="bevel"),_.fullCircles&&function(I,A,L,P){var O,z=L.endAngle;for(P&&(L.endAngle=L.startAngle+pe,it(I,L),L.endAngle=z,L.endAngle===L.startAngle&&L.fullCircles&&(L.endAngle+=pe,L.fullCircles--)),I.beginPath(),I.arc(L.x,L.y,L.innerRadius,L.startAngle+pe,L.startAngle,!0),O=0;O<L.fullCircles;++O)I.stroke();for(I.beginPath(),I.arc(L.x,L.y,A.outerRadius,L.startAngle,L.startAngle+pe),O=0;O<L.fullCircles;++O)I.stroke()}(d,v,_,w),w&&it(d,_),d.beginPath(),d.arc(_.x,_.y,v.outerRadius,_.startAngle,_.endAngle),d.arc(_.x,_.y,_.innerRadius,_.endAngle,_.startAngle,!0),d.closePath(),d.stroke()}(v,_,I),v.restore()}}),mt=F.valueOrDefault,wn=oe.global.defaultColor;oe._set("global",{elements:{line:{tension:.4,backgroundColor:wn,borderWidth:3,borderColor:wn,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Di=Oe.extend({_type:"line",draw:function(){var d,v,_,w=this,I=w._view,A=w._chart.ctx,L=I.spanGaps,P=w._children.slice(),O=oe.global,z=O.elements.line,W=-1,U=w._loop;if(P.length){if(w._loop){for(d=0;d<P.length;++d)if(v=F.previousItem(P,d),!P[d]._view.skip&&v._view.skip){P=P.slice(d).concat(P.slice(0,d)),U=L;break}U&&P.push(P[0])}for(A.save(),A.lineCap=I.borderCapStyle||z.borderCapStyle,A.setLineDash&&A.setLineDash(I.borderDash||z.borderDash),A.lineDashOffset=mt(I.borderDashOffset,z.borderDashOffset),A.lineJoin=I.borderJoinStyle||z.borderJoinStyle,A.lineWidth=mt(I.borderWidth,z.borderWidth),A.strokeStyle=I.borderColor||O.defaultColor,A.beginPath(),(_=P[0]._view).skip||(A.moveTo(_.x,_.y),W=0),d=1;d<P.length;++d)_=P[d]._view,v=-1===W?F.previousItem(P,d):P[W],_.skip||(W!==d-1&&!L||-1===W?A.moveTo(_.x,_.y):F.canvas.lineTo(A,v._view,_),W=d);U&&A.closePath(),A.stroke(),A.restore()}}}),Ui=F.valueOrDefault,Ai=oe.global.defaultColor;function po(d){var v=this._view;return!!v&&Math.abs(d-v.x)<v.radius+v.hitRadius}oe._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Ai,borderColor:Ai,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Ne=Oe.extend({_type:"point",inRange:function(d,v){var _=this._view;return!!_&&Math.pow(d-_.x,2)+Math.pow(v-_.y,2)<Math.pow(_.hitRadius+_.radius,2)},inLabelRange:po,inXRange:po,inYRange:function(d){var v=this._view;return!!v&&Math.abs(d-v.y)<v.radius+v.hitRadius},getCenterPoint:function(){var d=this._view;return{x:d.x,y:d.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var d=this._view;return{x:d.x,y:d.y,padding:d.radius+d.borderWidth}},draw:function(d){var v=this._view,_=this._chart.ctx,w=v.pointStyle,I=v.rotation,A=v.radius,L=v.x,P=v.y,O=oe.global,z=O.defaultColor;v.skip||(void 0===d||F.canvas._isPointInArea(v,d))&&(_.strokeStyle=v.borderColor||z,_.lineWidth=Ui(v.borderWidth,O.elements.point.borderWidth),_.fillStyle=v.backgroundColor||z,F.canvas.drawPoint(_,w,A,L,P,I))}}),fr=oe.global.defaultColor;function ki(d){return d&&void 0!==d.width}function fo(d){var v,_,w,I,A;return ki(d)?(v=d.x-(A=d.width/2),_=d.x+A,w=Math.min(d.y,d.base),I=Math.max(d.y,d.base)):(A=d.height/2,v=Math.min(d.x,d.base),_=Math.max(d.x,d.base),w=d.y-A,I=d.y+A),{left:v,top:w,right:_,bottom:I}}function Le(d,v,_){return d===v?_:d===_?v:d}function gr(d,v,_){var w=null===v,I=null===_,A=!(!d||w&&I)&&fo(d);return A&&(w||v>=A.left&&v<=A.right)&&(I||_>=A.top&&_<=A.bottom)}oe._set("global",{elements:{rectangle:{backgroundColor:fr,borderColor:fr,borderSkipped:"bottom",borderWidth:0}}});var yf=Oe.extend({_type:"rectangle",draw:function(){var A,L,P,O,z,d=this._chart.ctx,v=this._view,_=(L=fo(A=v),z=function rn(d,v,_){var w,I,A,L,z,W,U,P=d.borderWidth,O=(U={},(W=(z=d).borderSkipped)&&(z.horizontal?z.base>z.x&&(W=Le(W,"left","right")):z.base<z.y&&(W=Le(W,"bottom","top")),U[W]=!0),U);return F.isObject(P)?(w=+P.top||0,I=+P.right||0,A=+P.bottom||0,L=+P.left||0):w=I=A=L=+P||0,{t:O.top||w<0?0:w>_?_:w,r:O.right||I<0?0:I>v?v:I,b:O.bottom||A<0?0:A>_?_:A,l:O.left||L<0?0:L>v?v:L}}(A,(P=L.right-L.left)/2,(O=L.bottom-L.top)/2),{outer:{x:L.left,y:L.top,w:P,h:O},inner:{x:L.left+z.l,y:L.top+z.t,w:P-z.l-z.r,h:O-z.t-z.b}}),w=_.outer,I=_.inner;d.fillStyle=v.backgroundColor,d.fillRect(w.x,w.y,w.w,w.h),w.w===I.w&&w.h===I.h||(d.save(),d.beginPath(),d.rect(w.x,w.y,w.w,w.h),d.clip(),d.fillStyle=v.borderColor,d.rect(I.x,I.y,I.w,I.h),d.fill("evenodd"),d.restore())},height:function(){var d=this._view;return d.base-d.y},inRange:function(d,v){return gr(this._view,d,v)},inLabelRange:function(d,v){var _=this._view;return ki(_)?gr(_,d,null):gr(_,null,v)},inXRange:function(d){return gr(this._view,d,null)},inYRange:function(d){return gr(this._view,null,d)},getCenterPoint:function(){var d,v,_=this._view;return ki(_)?(d=_.x,v=(_.y+_.base)/2):(d=(_.x+_.base)/2,v=_.y),{x:d,y:v}},getArea:function(){var d=this._view;return ki(d)?d.width*Math.abs(d.y-d.base):d.height*Math.abs(d.x-d.base)},tooltipPosition:function(){var d=this._view;return{x:d.x,y:d.y}}}),sn={},Yi=Di,Mc=Ne,gu=yf;sn.Arc=Ft,sn.Line=Yi,sn.Point=Mc,sn.Rectangle=gu;var Vr=F._deprecated,ui=F.valueOrDefault;oe._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),oe._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var Ic=_e.extend({dataElementType:sn.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var d,v,_=this;_e.prototype.initialize.apply(_,arguments),(d=_.getMeta()).stack=_.getDataset().stack,d.bar=!0,v=_._getIndexScale().options,Vr("bar chart",v.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Vr("bar chart",v.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Vr("bar chart",v.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Vr("bar chart",_._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Vr("bar chart",v.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(d){var v,_,w=this.getMeta().data;for(this._ruler=this.getRuler(),v=0,_=w.length;v<_;++v)this.updateElement(w[v],v,d)},updateElement:function(d,v,_){var w=this,I=w.getMeta(),A=w.getDataset(),L=w._resolveDataElementOptions(d,v);d._xScale=w.getScaleForId(I.xAxisID),d._yScale=w.getScaleForId(I.yAxisID),d._datasetIndex=w.index,d._index=v,d._model={backgroundColor:L.backgroundColor,borderColor:L.borderColor,borderSkipped:L.borderSkipped,borderWidth:L.borderWidth,datasetLabel:A.label,label:w.chart.data.labels[v]},F.isArray(A.data[v])&&(d._model.borderSkipped=null),w._updateElementGeometry(d,v,_,L),d.pivot()},_updateElementGeometry:function(d,v,_,w){var I=this,A=d._model,L=I._getValueScale(),P=L.getBasePixel(),O=L.isHorizontal(),z=I._ruler||I.getRuler(),W=I.calculateBarValuePixels(I.index,v,w),U=I.calculateBarIndexPixels(I.index,v,z,w);A.horizontal=O,A.base=_?P:W.base,A.x=O?_?P:W.head:U.center,A.y=O?U.center:_?P:W.head,A.height=O?U.size:void 0,A.width=O?void 0:U.size},_getStacks:function(d){var v,_,w=this._getIndexScale(),I=w._getMatchingVisibleMetas(this._type),A=w.options.stacked,L=I.length,P=[];for(v=0;v<L&&(_=I[v],(!1===A||-1===P.indexOf(_.stack)||void 0===A&&void 0===_.stack)&&P.push(_.stack),_.index!==d);++v);return P},getStackCount:function(){return this._getStacks().length},getStackIndex:function(d,v){var _=this._getStacks(d),w=void 0!==v?_.indexOf(v):-1;return-1===w?_.length-1:w},getRuler:function(){var d,v,_=this._getIndexScale(),w=[];for(d=0,v=this.getMeta().data.length;d<v;++d)w.push(_.getPixelForValue(null,d,this.index));return{pixels:w,start:_._startPixel,end:_._endPixel,stackCount:this.getStackCount(),scale:_}},calculateBarValuePixels:function(d,v,_){var w,I,A,L,P,O,z,W=this.chart,U=this._getValueScale(),X=U.isHorizontal(),K=W.data.datasets,$=U._getMatchingVisibleMetas(this._type),ee=U._parseValue(K[d].data[v]),re=_.minBarLength,fe=U.options.stacked,de=this.getMeta().stack,Se=void 0===ee.start?0:ee.max>=0&&ee.min>=0?ee.min:ee.max,Ae=void 0===ee.start?ee.end:ee.max>=0&&ee.min>=0?ee.max-ee.min:ee.min-ee.max,ue=$.length;if(fe||void 0===fe&&void 0!==de)for(w=0;w<ue&&(I=$[w]).index!==d;++w)I.stack===de&&(A=void 0===(z=U._parseValue(K[I.index].data[v])).start?z.end:z.min>=0&&z.max>=0?z.max:z.min,(ee.min<0&&A<0||ee.max>=0&&A>0)&&(Se+=A));return L=U.getPixelForValue(Se),O=(P=U.getPixelForValue(Se+Ae))-L,void 0!==re&&Math.abs(O)<re&&(O=re,P=Ae>=0&&!X||Ae<0&&X?L-re:L+re),{size:O,base:L,head:P,center:P+O/2}},calculateBarIndexPixels:function(d,v,_,w){var O,z,W,U,X,K,$,ee,re,I="flex"===w.barThickness?(K=(X=(z=_).pixels)[O=v],ee=O<X.length-1?X[O+1]:null,re=(W=w).categoryPercentage,null===($=O>0?X[O-1]:null)&&($=K-(null===ee?z.end-z.start:ee-K)),null===ee&&(ee=K+K-$),U=K-(K-Math.min($,ee))/2*re,{chunk:Math.abs(ee-$)/2*re/z.stackCount,ratio:W.barPercentage,start:U}):function Oa(d,v,_){var w,I,A=_.barThickness,L=v.stackCount,P=v.pixels[d],O=F.isNullOrUndef(A)?function(z,W){var U,X,K,$,ee=z._length;for(K=1,$=W.length;K<$;++K)ee=Math.min(ee,Math.abs(W[K]-W[K-1]));for(K=0,$=z.getTicks().length;K<$;++K)X=z.getPixelForTick(K),ee=K>0?Math.min(ee,Math.abs(X-U)):ee,U=X;return ee}(v.scale,v.pixels):-1;return F.isNullOrUndef(A)?(w=O*_.categoryPercentage,I=_.barPercentage):(w=A*L,I=1),{chunk:w/L,ratio:I,start:P-w/2}}(v,_,w),A=this.getStackIndex(d,this.getMeta().stack),L=I.start+I.chunk*A+I.chunk/2,P=Math.min(ui(w.maxBarThickness,1/0),I.chunk*I.ratio);return{base:L-P/2,head:L+P/2,center:L,size:P}},draw:function(){var d=this.chart,v=this._getValueScale(),_=this.getMeta().data,w=this.getDataset(),I=_.length,A=0;for(F.canvas.clipArea(d.ctx,d.chartArea);A<I;++A){var L=v._parseValue(w.data[A]);isNaN(L.min)||isNaN(L.max)||_[A].draw()}F.canvas.unclipArea(d.ctx)},_resolveDataElementOptions:function(){var d=this,v=F.extend({},_e.prototype._resolveDataElementOptions.apply(d,arguments)),_=d._getIndexScale().options,w=d._getValueScale().options;return v.barPercentage=ui(_.barPercentage,v.barPercentage),v.barThickness=ui(_.barThickness,v.barThickness),v.categoryPercentage=ui(_.categoryPercentage,v.categoryPercentage),v.maxBarThickness=ui(_.maxBarThickness,v.maxBarThickness),v.minBarLength=ui(w.minBarLength,v.minBarLength),v}}),Ra=F.valueOrDefault,xf=F.options.resolve;oe._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(d,v){return(v.datasets[d.datasetIndex].label||"")+": ("+d.xLabel+", "+d.yLabel+", "+v.datasets[d.datasetIndex].data[d.index].r+")"}}}});var Zs=_e.extend({dataElementType:sn.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(d){var v=this,_=v.getMeta().data;F.each(_,function(w,I){v.updateElement(w,I,d)})},updateElement:function(d,v,_){var w=this,I=w.getMeta(),A=d.custom||{},L=w.getScaleForId(I.xAxisID),P=w.getScaleForId(I.yAxisID),O=w._resolveDataElementOptions(d,v),z=w.getDataset().data[v],W=w.index,U=_?L.getPixelForDecimal(.5):L.getPixelForValue("object"==typeof z?z:NaN,v,W),X=_?P.getBasePixel():P.getPixelForValue(z,v,W);d._xScale=L,d._yScale=P,d._options=O,d._datasetIndex=W,d._index=v,d._model={backgroundColor:O.backgroundColor,borderColor:O.borderColor,borderWidth:O.borderWidth,hitRadius:O.hitRadius,pointStyle:O.pointStyle,rotation:O.rotation,radius:_?0:O.radius,skip:A.skip||isNaN(U)||isNaN(X),x:U,y:X},d.pivot()},setHoverStyle:function(d){var v=d._model,_=d._options,w=F.getHoverColor;d.$previousStyle={backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,radius:v.radius},v.backgroundColor=Ra(_.hoverBackgroundColor,w(_.backgroundColor)),v.borderColor=Ra(_.hoverBorderColor,w(_.borderColor)),v.borderWidth=Ra(_.hoverBorderWidth,_.borderWidth),v.radius=_.radius+_.hoverRadius},_resolveDataElementOptions:function(d,v){var _=this,w=_.chart,I=_.getDataset(),A=d.custom||{},L=I.data[v]||{},P=_e.prototype._resolveDataElementOptions.apply(_,arguments),O={chart:w,dataIndex:v,dataset:I,datasetIndex:_.index};return _._cachedDataOpts===P&&(P=F.extend({},P)),P.radius=xf([A.radius,L.r,_._config.radius,w.options.elements.point.radius],O,v),P}}),mr=F.valueOrDefault,Xi=Math.PI,Pn=2*Xi,Fr=Xi/2;oe._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(d){var v,_,w,I=document.createElement("ul"),A=d.data,L=A.datasets,P=A.labels;if(I.setAttribute("class",d.id+"-legend"),L.length)for(v=0,_=L[0].data.length;v<_;++v)(w=I.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=L[0].backgroundColor[v],P[v]&&w.appendChild(document.createTextNode(P[v]));return I.outerHTML},legend:{labels:{generateLabels:function(d){var v=d.data;return v.labels.length&&v.datasets.length?v.labels.map(function(_,w){var I=d.getDatasetMeta(0),A=I.controller.getStyle(w);return{text:_,fillStyle:A.backgroundColor,strokeStyle:A.borderColor,lineWidth:A.borderWidth,hidden:isNaN(v.datasets[0].data[w])||I.data[w].hidden,index:w}}):[]}},onClick:function(d,v){var _,w,I,A=v.index,L=this.chart;for(_=0,w=(L.data.datasets||[]).length;_<w;++_)(I=L.getDatasetMeta(_)).data[A]&&(I.data[A].hidden=!I.data[A].hidden);L.update()}},cutoutPercentage:50,rotation:-Fr,circumference:Pn,tooltips:{callbacks:{title:function(){return""},label:function(d,v){var _=v.labels[d.index],w=": "+v.datasets[d.datasetIndex].data[d.index];return F.isArray(_)?(_=_.slice())[0]+=w:_+=w,_}}}});var vr=_e.extend({dataElementType:sn.Arc,linkScales:F.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(d){for(var v=0,_=0;_<d;++_)this.chart.isDatasetVisible(_)&&++v;return v},update:function(d){var w,I,A=this,L=A.chart,P=L.chartArea,O=L.options,z=1,W=1,U=0,X=0,K=A.getMeta(),$=K.data,ee=O.cutoutPercentage/100||0,re=O.circumference,fe=A._getRingWeight(A.index);if(re<Pn){var de=O.rotation%Pn,Se=(de+=de>=Xi?-Pn:de<-Xi?Pn:0)+re,Ae=Math.cos(de),ue=Math.sin(de),Ve=Math.cos(Se),Ge=Math.sin(Se),Qe=de<=0&&Se>=0||Se>=Pn,Be=de<=Fr&&Se>=Fr||Se>=Pn+Fr,Mt=de<=-Fr&&Se>=-Fr||Se>=Xi+Fr,ft=de===-Xi||Se>=Xi?-1:Math.min(Ae,Ae*ee,Ve,Ve*ee),yt=Mt?-1:Math.min(ue,ue*ee,Ge,Ge*ee),Tt=Qe?1:Math.max(Ae,Ae*ee,Ve,Ve*ee),xt=Be?1:Math.max(ue,ue*ee,Ge,Ge*ee);z=(Tt-ft)/2,W=(xt-yt)/2,U=-(Tt+ft)/2,X=-(xt+yt)/2}for(w=0,I=$.length;w<I;++w)$[w]._options=A._resolveDataElementOptions($[w],w);for(L.borderWidth=A.getMaxBorderWidth(),L.outerRadius=Math.max(Math.min((P.right-P.left-L.borderWidth)/z,(P.bottom-P.top-L.borderWidth)/W)/2,0),L.innerRadius=Math.max(L.outerRadius*ee,0),L.radiusLength=(L.outerRadius-L.innerRadius)/(A._getVisibleDatasetWeightTotal()||1),L.offsetX=U*L.outerRadius,L.offsetY=X*L.outerRadius,K.total=A.calculateTotal(),A.outerRadius=L.outerRadius-L.radiusLength*A._getRingWeightOffset(A.index),A.innerRadius=Math.max(A.outerRadius-L.radiusLength*fe,0),w=0,I=$.length;w<I;++w)A.updateElement($[w],w,d)},updateElement:function(d,v,_){var w=this,I=w.chart,A=I.chartArea,L=I.options,P=L.animation,O=(A.left+A.right)/2,z=(A.top+A.bottom)/2,W=L.rotation,U=L.rotation,X=w.getDataset(),K=_&&P.animateRotate||d.hidden?0:w.calculateCircumference(X.data[v])*(L.circumference/Pn),re=d._options||{};F.extend(d,{_datasetIndex:w.index,_index:v,_model:{backgroundColor:re.backgroundColor,borderColor:re.borderColor,borderWidth:re.borderWidth,borderAlign:re.borderAlign,x:O+I.offsetX,y:z+I.offsetY,startAngle:W,endAngle:U,circumference:K,outerRadius:_&&P.animateScale?0:w.outerRadius,innerRadius:_&&P.animateScale?0:w.innerRadius,label:F.valueAtIndexOrDefault(X.label,v,I.data.labels[v])}});var fe=d._model;_&&P.animateRotate||(fe.startAngle=0===v?L.rotation:w.getMeta().data[v-1]._model.endAngle,fe.endAngle=fe.startAngle+fe.circumference),d.pivot()},calculateTotal:function(){var d,v=this.getDataset(),_=this.getMeta(),w=0;return F.each(_.data,function(I,A){d=v.data[A],isNaN(d)||I.hidden||(w+=Math.abs(d))}),w},calculateCircumference:function(d){var v=this.getMeta().total;return v>0&&!isNaN(d)?Pn*(Math.abs(d)/v):0},getMaxBorderWidth:function(d){var v,_,w,I,A,L,P,O,z=0,W=this.chart;if(!d)for(v=0,_=W.data.datasets.length;v<_;++v)if(W.isDatasetVisible(v)){d=(w=W.getDatasetMeta(v)).data,v!==this.index&&(A=w.controller);break}if(!d)return 0;for(v=0,_=d.length;v<_;++v)I=d[v],A?(A._configure(),L=A._resolveDataElementOptions(I,v)):L=I._options,"inner"!==L.borderAlign&&(z=(O=L.hoverBorderWidth)>(z=(P=L.borderWidth)>z?P:z)?O:z);return z},setHoverStyle:function(d){var v=d._model,_=d._options,w=F.getHoverColor;d.$previousStyle={backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth},v.backgroundColor=mr(_.hoverBackgroundColor,w(_.backgroundColor)),v.borderColor=mr(_.hoverBorderColor,w(_.borderColor)),v.borderWidth=mr(_.hoverBorderWidth,_.borderWidth)},_getRingWeightOffset:function(d){for(var v=0,_=0;_<d;++_)this.chart.isDatasetVisible(_)&&(v+=this._getRingWeight(_));return v},_getRingWeight:function(d){return Math.max(mr(this.chart.data.datasets[d].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});oe._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),oe._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Na=Ic.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Zt=F.valueOrDefault,yr=F.options.resolve,Li=F.canvas._isPointInArea;function Cc(d,v){var _=d&&d.options.ticks||{},w=_.reverse,I=void 0===_.min?v:0,A=void 0===_.max?v:0;return{start:w?A:I,end:w?I:A}}function Fo(d,v,_){var w=_/2,I=Cc(d,w),A=Cc(v,w);return{top:A.end,right:I.end,bottom:A.start,left:I.start}}function _f(d){var v,_,w,I;return F.isObject(d)?(v=d.top,_=d.right,w=d.bottom,I=d.left):v=_=w=I=d,{top:v,right:_,bottom:w,left:I}}oe._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var hi=_e.extend({datasetElementType:sn.Line,dataElementType:sn.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(d){var v,_,w=this,I=w.getMeta(),A=I.dataset,L=I.data||[],O=w._config,z=w._showLine=Zt(O.showLine,w.chart.options.showLines);for(w._xScale=w.getScaleForId(I.xAxisID),w._yScale=w.getScaleForId(I.yAxisID),z&&(void 0!==O.tension&&void 0===O.lineTension&&(O.lineTension=O.tension),A._scale=w._yScale,A._datasetIndex=w.index,A._children=L,A._model=w._resolveDatasetElementOptions(A),A.pivot()),v=0,_=L.length;v<_;++v)w.updateElement(L[v],v,d);for(z&&0!==A._model.tension&&w.updateBezierControlPoints(),v=0,_=L.length;v<_;++v)L[v].pivot()},updateElement:function(d,v,_){var w,I,A=this,L=A.getMeta(),P=d.custom||{},O=A.getDataset(),z=A.index,W=O.data[v],U=A._xScale,X=A._yScale,K=L.dataset._model,$=A._resolveDataElementOptions(d,v);w=U.getPixelForValue("object"==typeof W?W:NaN,v,z),I=_?X.getBasePixel():A.calculatePointY(W,v,z),d._xScale=U,d._yScale=X,d._options=$,d._datasetIndex=z,d._index=v,d._model={x:w,y:I,skip:P.skip||isNaN(w)||isNaN(I),radius:$.radius,pointStyle:$.pointStyle,rotation:$.rotation,backgroundColor:$.backgroundColor,borderColor:$.borderColor,borderWidth:$.borderWidth,tension:Zt(P.tension,K?K.tension:0),steppedLine:!!K&&K.steppedLine,hitRadius:$.hitRadius}},_resolveDatasetElementOptions:function(d){var v=this,_=v._config,w=d.custom||{},I=v.chart.options,A=I.elements.line,L=_e.prototype._resolveDatasetElementOptions.apply(v,arguments);return L.spanGaps=Zt(_.spanGaps,I.spanGaps),L.tension=Zt(_.lineTension,A.tension),L.steppedLine=yr([w.steppedLine,_.steppedLine,A.stepped]),L.clip=_f(Zt(_.clip,Fo(v._xScale,v._yScale,L.borderWidth))),L},calculatePointY:function(d,v,_){var w,A,L,P,O,z,W=this.chart,U=this._yScale,X=0,K=0;if(U.options.stacked){for(P=+U.getRightValue(d),z=(O=W._getSortedVisibleDatasetMetas()).length,w=0;w<z&&(A=O[w]).index!==_;++w)"line"===A.type&&A.yAxisID===U.id&&((L=+U.getRightValue(W.data.datasets[A.index].data[v]))<0?K+=L||0:X+=L||0);return U.getPixelForValue(P<0?K+P:X+P)}return U.getPixelForValue(d)},updateBezierControlPoints:function(){var d,v,_,w,I=this.chart,A=this.getMeta(),L=A.dataset._model,P=I.chartArea,O=A.data||[];function z(W,U,X){return Math.max(Math.min(W,X),U)}if(L.spanGaps&&(O=O.filter(function(W){return!W._model.skip})),"monotone"===L.cubicInterpolationMode)F.splineCurveMonotone(O);else for(d=0,v=O.length;d<v;++d)_=O[d]._model,w=F.splineCurve(F.previousItem(O,d)._model,_,F.nextItem(O,d)._model,L.tension),_.controlPointPreviousX=w.previous.x,_.controlPointPreviousY=w.previous.y,_.controlPointNextX=w.next.x,_.controlPointNextY=w.next.y;if(I.options.elements.line.capBezierPoints)for(d=0,v=O.length;d<v;++d)Li(_=O[d]._model,P)&&(d>0&&Li(O[d-1]._model,P)&&(_.controlPointPreviousX=z(_.controlPointPreviousX,P.left,P.right),_.controlPointPreviousY=z(_.controlPointPreviousY,P.top,P.bottom)),d<O.length-1&&Li(O[d+1]._model,P)&&(_.controlPointNextX=z(_.controlPointNextX,P.left,P.right),_.controlPointNextY=z(_.controlPointNextY,P.top,P.bottom)))},draw:function(){var d,v=this.chart,_=this.getMeta(),w=_.data||[],I=v.chartArea,A=v.canvas,L=0,P=w.length;for(this._showLine&&(F.canvas.clipArea(v.ctx,{left:!1===(d=_.dataset._model.clip).left?0:I.left-d.left,right:!1===d.right?A.width:I.right+d.right,top:!1===d.top?0:I.top-d.top,bottom:!1===d.bottom?A.height:I.bottom+d.bottom}),_.dataset.draw(),F.canvas.unclipArea(v.ctx));L<P;++L)w[L].draw(I)},setHoverStyle:function(d){var v=d._model,_=d._options,w=F.getHoverColor;d.$previousStyle={backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,radius:v.radius},v.backgroundColor=Zt(_.hoverBackgroundColor,w(_.backgroundColor)),v.borderColor=Zt(_.hoverBorderColor,w(_.borderColor)),v.borderWidth=Zt(_.hoverBorderWidth,_.borderWidth),v.radius=Zt(_.hoverRadius,_.radius)}}),bf=F.options.resolve;oe._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(d){var v,_,w,I=document.createElement("ul"),A=d.data,L=A.datasets,P=A.labels;if(I.setAttribute("class",d.id+"-legend"),L.length)for(v=0,_=L[0].data.length;v<_;++v)(w=I.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=L[0].backgroundColor[v],P[v]&&w.appendChild(document.createTextNode(P[v]));return I.outerHTML},legend:{labels:{generateLabels:function(d){var v=d.data;return v.labels.length&&v.datasets.length?v.labels.map(function(_,w){var I=d.getDatasetMeta(0),A=I.controller.getStyle(w);return{text:_,fillStyle:A.backgroundColor,strokeStyle:A.borderColor,lineWidth:A.borderWidth,hidden:isNaN(v.datasets[0].data[w])||I.data[w].hidden,index:w}}):[]}},onClick:function(d,v){var _,w,I,A=v.index,L=this.chart;for(_=0,w=(L.data.datasets||[]).length;_<w;++_)(I=L.getDatasetMeta(_)).data[A].hidden=!I.data[A].hidden;L.update()}},tooltips:{callbacks:{title:function(){return""},label:function(d,v){return v.labels[d.index]+": "+d.yLabel}}}});var mu=_e.extend({dataElementType:sn.Arc,linkScales:F.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(d){var v,_,w,I=this,A=I.getDataset(),L=I.getMeta(),P=I.chart.options.startAngle||0,O=I._starts=[],z=I._angles=[],W=L.data;for(I._updateRadius(),L.count=I.countVisibleElements(),v=0,_=A.data.length;v<_;v++)O[v]=P,w=I._computeAngle(v),z[v]=w,P+=w;for(v=0,_=W.length;v<_;++v)W[v]._options=I._resolveDataElementOptions(W[v],v),I.updateElement(W[v],v,d)},_updateRadius:function(){var d=this,v=d.chart,_=v.chartArea,w=v.options,I=Math.min(_.right-_.left,_.bottom-_.top);v.outerRadius=Math.max(I/2,0),v.innerRadius=Math.max(w.cutoutPercentage?v.outerRadius/100*w.cutoutPercentage:1,0),v.radiusLength=(v.outerRadius-v.innerRadius)/v.getVisibleDatasetCount(),d.outerRadius=v.outerRadius-v.radiusLength*d.index,d.innerRadius=d.outerRadius-v.radiusLength},updateElement:function(d,v,_){var w=this,I=w.chart,A=w.getDataset(),L=I.options,P=L.animation,O=I.scale,z=I.data.labels,W=O.xCenter,U=O.yCenter,X=L.startAngle,K=d.hidden?0:O.getDistanceFromCenterForValue(A.data[v]),$=w._starts[v],ee=$+(d.hidden?0:w._angles[v]),re=P.animateScale?0:O.getDistanceFromCenterForValue(A.data[v]),fe=d._options||{};F.extend(d,{_datasetIndex:w.index,_index:v,_scale:O,_model:{backgroundColor:fe.backgroundColor,borderColor:fe.borderColor,borderWidth:fe.borderWidth,borderAlign:fe.borderAlign,x:W,y:U,innerRadius:0,outerRadius:_?re:K,startAngle:_&&P.animateRotate?X:$,endAngle:_&&P.animateRotate?X:ee,label:F.valueAtIndexOrDefault(z,v,z[v])}}),d.pivot()},countVisibleElements:function(){var d=this.getDataset(),v=this.getMeta(),_=0;return F.each(v.data,function(w,I){isNaN(d.data[I])||w.hidden||_++}),_},setHoverStyle:function(d){var v=d._model,_=d._options,w=F.getHoverColor,I=F.valueOrDefault;d.$previousStyle={backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth},v.backgroundColor=I(_.hoverBackgroundColor,w(_.backgroundColor)),v.borderColor=I(_.hoverBorderColor,w(_.borderColor)),v.borderWidth=I(_.hoverBorderWidth,_.borderWidth)},_computeAngle:function(d){var v=this,_=this.getMeta().count,w=v.getDataset(),I=v.getMeta();return isNaN(w.data[d])||I.data[d].hidden?0:bf([v.chart.options.elements.arc.angle,2*Math.PI/_],{chart:v.chart,dataIndex:d,dataset:w,datasetIndex:v.index},d)}});oe._set("pie",F.clone(oe.doughnut)),oe._set("pie",{cutoutPercentage:0});var Tc=vr,xr=F.valueOrDefault;oe._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var vu=_e.extend({datasetElementType:sn.Line,dataElementType:sn.Point,linkScales:F.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(d){var v,_,w=this,I=w.getMeta(),A=I.dataset,L=I.data||[],P=w.chart.scale,O=w._config;for(void 0!==O.tension&&void 0===O.lineTension&&(O.lineTension=O.tension),A._scale=P,A._datasetIndex=w.index,A._children=L,A._loop=!0,A._model=w._resolveDatasetElementOptions(A),A.pivot(),v=0,_=L.length;v<_;++v)w.updateElement(L[v],v,d);for(w.updateBezierControlPoints(),v=0,_=L.length;v<_;++v)L[v].pivot()},updateElement:function(d,v,_){var w=this,I=d.custom||{},A=w.getDataset(),L=w.chart.scale,P=L.getPointPositionForValue(v,A.data[v]),O=w._resolveDataElementOptions(d,v),z=w.getMeta().dataset._model,W=_?L.xCenter:P.x,U=_?L.yCenter:P.y;d._scale=L,d._options=O,d._datasetIndex=w.index,d._index=v,d._model={x:W,y:U,skip:I.skip||isNaN(W)||isNaN(U),radius:O.radius,pointStyle:O.pointStyle,rotation:O.rotation,backgroundColor:O.backgroundColor,borderColor:O.borderColor,borderWidth:O.borderWidth,tension:xr(I.tension,z?z.tension:0),hitRadius:O.hitRadius}},_resolveDatasetElementOptions:function(){var d=this,v=d._config,_=d.chart.options,w=_e.prototype._resolveDatasetElementOptions.apply(d,arguments);return w.spanGaps=xr(v.spanGaps,_.spanGaps),w.tension=xr(v.lineTension,_.elements.line.tension),w},updateBezierControlPoints:function(){var d,v,_,w,I=this.getMeta(),A=this.chart.chartArea,L=I.data||[];function P(O,z,W){return Math.max(Math.min(O,W),z)}for(I.dataset._model.spanGaps&&(L=L.filter(function(O){return!O._model.skip})),d=0,v=L.length;d<v;++d)_=L[d]._model,w=F.splineCurve(F.previousItem(L,d,!0)._model,_,F.nextItem(L,d,!0)._model,_.tension),_.controlPointPreviousX=P(w.previous.x,A.left,A.right),_.controlPointPreviousY=P(w.previous.y,A.top,A.bottom),_.controlPointNextX=P(w.next.x,A.left,A.right),_.controlPointNextY=P(w.next.y,A.top,A.bottom)},setHoverStyle:function(d){var v=d._model,_=d._options,w=F.getHoverColor;d.$previousStyle={backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,radius:v.radius},v.backgroundColor=xr(_.hoverBackgroundColor,w(_.backgroundColor)),v.borderColor=xr(_.hoverBorderColor,w(_.borderColor)),v.borderWidth=xr(_.hoverBorderWidth,_.borderWidth),v.radius=xr(_.hoverRadius,_.radius)}});oe._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(d){return"("+d.xLabel+", "+d.yLabel+")"}}}}),oe._set("global",{datasets:{scatter:{showLine:!1}}});var yu={bar:Ic,bubble:Zs,doughnut:vr,horizontalBar:Na,line:hi,polarArea:mu,pie:Tc,radar:vu,scatter:hi};function go(d,v){return d.native?{x:d.x,y:d.y}:F.getRelativePosition(d,v)}function mo(d,v){var _,w,I,A,L,P,O=d._getSortedVisibleDatasetMetas();for(w=0,A=O.length;w<A;++w)for(I=0,L=(_=O[w].data).length;I<L;++I)(P=_[I])._view.skip||v(P)}function xu(d,v){var _=[];return mo(d,function(w){w.inRange(v.x,v.y)&&_.push(w)}),_}function Ea(d,v,_,w){var I=Number.POSITIVE_INFINITY,A=[];return mo(d,function(L){if(!_||L.inRange(v.x,v.y)){var P=L.getCenterPoint(),O=w(v,P);O<I?(A=[L],I=O):O===I&&A.push(L)}}),A}function qs(d){var v=-1!==d.indexOf("x"),_=-1!==d.indexOf("y");return function(w,I){var A=v?Math.abs(w.x-I.x):0,L=_?Math.abs(w.y-I.y):0;return Math.sqrt(Math.pow(A,2)+Math.pow(L,2))}}function za(d,v,_){var w=go(v,d);_.axis=_.axis||"x";var I=qs(_.axis),A=_.intersect?xu(d,w):Ea(d,w,!1,I),L=[];return A.length?(d._getSortedVisibleDatasetMetas().forEach(function(P){var O=P.data[A[0]._index];O&&!O._view.skip&&L.push(O)}),L):[]}var On={modes:{single:function(d,v){var _=go(v,d),w=[];return mo(d,function(I){if(I.inRange(_.x,_.y))return w.push(I),w}),w.slice(0,1)},label:za,index:za,dataset:function(d,v,_){var w=go(v,d);_.axis=_.axis||"xy";var I=qs(_.axis),A=_.intersect?xu(d,w):Ea(d,w,!1,I);return A.length>0&&(A=d.getDatasetMeta(A[0]._datasetIndex).data),A},"x-axis":function(d,v){return za(d,v,{intersect:!1})},point:function(d,v){return xu(d,go(v,d))},nearest:function(d,v,_){var w=go(v,d);_.axis=_.axis||"xy";var I=qs(_.axis);return Ea(d,w,_.intersect,I)},x:function(d,v,_){var w=go(v,d),I=[],A=!1;return mo(d,function(L){L.inXRange(w.x)&&I.push(L),L.inRange(w.x,w.y)&&(A=!0)}),_.intersect&&!A&&(I=[]),I},y:function(d,v,_){var w=go(v,d),I=[],A=!1;return mo(d,function(L){L.inYRange(w.y)&&I.push(L),L.inRange(w.x,w.y)&&(A=!0)}),_.intersect&&!A&&(I=[]),I}}},Ba=F.extend;function ci(d,v){return F.where(d,function(_){return _.pos===v})}function Va(d,v){return d.sort(function(_,w){var I=v?w:_,A=v?_:w;return I.weight===A.weight?I.index-A.index:I.weight-A.weight})}function Dc(d,v,_,w){return Math.max(d[_],v[_])+Math.max(d[w],v[w])}function Ac(d,v,_){var w,I,A=_.box,L=d.maxPadding;if(_.size&&(d[_.pos]-=_.size),_.size=_.horizontal?A.height:A.width,d[_.pos]+=_.size,A.getPadding){var P=A.getPadding();L.top=Math.max(L.top,P.top),L.left=Math.max(L.left,P.left),L.bottom=Math.max(L.bottom,P.bottom),L.right=Math.max(L.right,P.right)}if(w=v.outerWidth-Dc(L,d,"left","right"),I=v.outerHeight-Dc(L,d,"top","bottom"),w!==d.w||I!==d.h){d.w=w,d.h=I;var O=_.horizontal?[w,d.w]:[I,d.h];return!(O[0]===O[1]||isNaN(O[0])&&isNaN(O[1]))}}function _u(d,v){var _=v.maxPadding;return function w(I){var A={left:0,top:0,right:0,bottom:0};return I.forEach(function(L){A[L]=Math.max(v[L],_[L])}),A}(d?["left","right"]:["top","bottom"])}function Fa(d,v,_){var w,I,A,L,P,O,z=[];for(w=0,I=d.length;w<I;++w)(L=(A=d[w]).box).update(A.width||v.w,A.height||v.h,_u(A.horizontal,v)),Ac(v,_,A)&&(O=!0,z.length&&(P=!0)),L.fullWidth||z.push(A);return P&&Fa(z,v,_)||O}function kc(d,v,_){var w,I,A,L,P=_.padding,O=v.x,z=v.y;for(w=0,I=d.length;w<I;++w)L=(A=d[w]).box,A.horizontal?(L.left=L.fullWidth?P.left:v.left,L.right=L.fullWidth?_.outerWidth-P.right:v.left+v.w,L.top=z,L.bottom=z+L.height,L.width=L.right-L.left,z=L.bottom):(L.left=O,L.right=O+L.width,L.top=v.top,L.bottom=v.top+v.h,L.height=L.bottom-L.top,O=L.right);v.x=O,v.y=z}oe._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var bu,Un={defaults:{},addBox:function(d,v){d.boxes||(d.boxes=[]),v.fullWidth=v.fullWidth||!1,v.position=v.position||"top",v.weight=v.weight||0,v._layers=v._layers||function(){return[{z:0,draw:function(){v.draw.apply(v,arguments)}}]},d.boxes.push(v)},removeBox:function(d,v){var _=d.boxes?d.boxes.indexOf(v):-1;-1!==_&&d.boxes.splice(_,1)},configure:function(d,v,_){for(var w,I=["fullWidth","position","weight"],A=I.length,L=0;L<A;++L)_.hasOwnProperty(w=I[L])&&(v[w]=_[w])},update:function(d,v,_){if(d){var I=F.options.toPadding((d.options.layout||{}).padding),A=v-I.width,L=_-I.height,P=($=Va(ci(K=function(de){var Se,Ae,ue,Ve=[];for(Se=0,Ae=(de||[]).length;Se<Ae;++Se)Ve.push({index:Se,box:ue=de[Se],pos:ue.position,horizontal:ue.isHorizontal(),weight:ue.weight});return Ve}(d.boxes),"left"),!0),ee=Va(ci(K,"right")),re=Va(ci(K,"top"),!0),fe=Va(ci(K,"bottom")),{leftAndTop:$.concat(re),rightAndBottom:ee.concat(fe),chartArea:ci(K,"chartArea"),vertical:$.concat(ee),horizontal:re.concat(fe)}),O=P.vertical,z=P.horizontal,W=Object.freeze({outerWidth:v,outerHeight:_,padding:I,availableWidth:A,vBoxMaxWidth:A/2/O.length,hBoxMaxHeight:L/2}),U=Ba({maxPadding:Ba({},I),w:A,h:L,x:I.left,y:I.top},I);(function(X,K){var $,ee,re;for($=0,ee=X.length;$<ee;++$)(re=X[$]).width=re.horizontal?re.box.fullWidth&&K.availableWidth:K.vBoxMaxWidth,re.height=re.horizontal&&K.hBoxMaxHeight})(O.concat(z),W),Fa(O,U,W),Fa(z,U,W)&&Fa(O,U,W),function(X){var K=X.maxPadding;function $(ee){var re=Math.max(K[ee]-X[ee],0);return X[ee]+=re,re}X.y+=$("top"),X.x+=$("left"),$("right"),$("bottom")}(U),kc(P.leftAndTop,U,W),U.x+=U.w,U.y+=U.h,kc(P.rightAndBottom,U,W),d.chartArea={left:U.left,top:U.top,right:U.left+U.w,bottom:U.top+U.h},F.each(P.chartArea,function(X){var K=X.box;Ba(K,d.chartArea),K.update(U.w,U.h)})}var K,$,ee,re,fe}},wf=(bu=Object.freeze({__proto__:null,default:"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&bu.default||bu,Yn="$chartjs",wu="chartjs-size-monitor",Su="chartjs-render-monitor",Mu=["animationstart","webkitAnimationStart"],Iu={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function Ks(d,v){var _=F.getStyle(d,v),w=_&&_.match(/^(\d+)(\.\d+)?px$/);return w?Number(w[1]):void 0}var Pc=!!function(){var d=!1;try{var v=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("e",null,v)}catch{}return d}()&&{passive:!0};function Wr(d,v,_){d.addEventListener(v,_,Pc)}function $s(d,v,_){d.removeEventListener(v,_,Pc)}function Wa(d,v,_,w,I){return{type:d,chart:v,native:I||null,x:void 0!==_?_:null,y:void 0!==w?w:null}}function Wo(d){var v=document.createElement("div");return v.className=d||"",v}var Go={disableCSSInjection:!1,_enabled:typeof window<"u"&&typeof document<"u",_ensureLoaded:function(d){if(!this.disableCSSInjection){var v=d.getRootNode?d.getRootNode():document;!function(_,w){var I=_[Yn]||(_[Yn]={});if(!I.containsStyles){I.containsStyles=!0,w="/* Chart.js */\n"+w;var A=document.createElement("style");A.setAttribute("type","text/css"),A.appendChild(document.createTextNode(w)),_.appendChild(A)}}(v.host?v:document.head,wf)}},acquireContext:function(d,v){"string"==typeof d?d=document.getElementById(d):d.length&&(d=d[0]),d&&d.canvas&&(d=d.canvas);var _=d&&d.getContext&&d.getContext("2d");return _&&_.canvas===d?(this._ensureLoaded(d),function(w,I){var A=w.style,L=w.getAttribute("height"),P=w.getAttribute("width");if(w[Yn]={initial:{height:L,width:P,style:{display:A.display,height:A.height,width:A.width}}},A.display=A.display||"block",null===P||""===P){var O=Ks(w,"width");void 0!==O&&(w.width=O)}if(null===L||""===L)if(""===w.style.height)w.height=w.width/(I.options.aspectRatio||2);else{var z=Ks(w,"height");void 0!==O&&(w.height=z)}}(d,v),_):null},releaseContext:function(d){var v=d.canvas;if(v[Yn]){var _=v[Yn].initial;["height","width"].forEach(function(w){var I=_[w];F.isNullOrUndef(I)?v.removeAttribute(w):v.setAttribute(w,I)}),F.each(_.style||{},function(w,I){v.style[I]=w}),v.width=v.width,delete v[Yn]}},addEventListener:function(d,v,_){var w=d.canvas;if("resize"!==v){var I=_[Yn]||(_[Yn]={});Wr(w,v,(I.proxies||(I.proxies={}))[d.id+"_"+v]=function(A){var L,P,O,z;_((O=Iu[(L=A).type]||L.type,z=F.getRelativePosition(L,P=d),Wa(O,P,z.x,z.y,L)))})}else!function Sf(d,v,_){var w,I,A,L,z,U,X,P=d[Yn]||(d[Yn]={}),O=P.resizer=function(z){var W=Wo(wu),U=Wo(wu+"-expand"),X=Wo(wu+"-shrink");U.appendChild(Wo()),X.appendChild(Wo()),W.appendChild(U),W.appendChild(X),W._reset=function(){U.scrollLeft=1e6,U.scrollTop=1e6,X.scrollLeft=1e6,X.scrollTop=1e6};var K=function(){W._reset(),z()};return Wr(U,"scroll",K.bind(U,"expand")),Wr(X,"scroll",K.bind(X,"shrink")),W}((w=function(){if(P.resizer){var z=_.options.maintainAspectRatio&&d.parentNode,W=z?z.clientWidth:0;v(Wa("resize",_)),z&&z.clientWidth<W&&_.canvas&&v(Wa("resize",_))}},A=!1,L=[],function(){L=Array.prototype.slice.call(arguments),I=I||this,A||(A=!0,F.requestAnimFrame.call(window,function(){A=!1,w.apply(I,L)}))}));U=(z=d)[Yn]||(z[Yn]={}),X=U.renderProxy=function(K){"chartjs-render-animation"===K.animationName&&function(){if(P.resizer){var z=d.parentNode;z&&z!==O.parentNode&&z.insertBefore(O,z.firstChild),O._reset()}}()},F.each(Mu,function(K){Wr(z,K,X)}),U.reflow=!!z.offsetParent,z.classList.add(Su)}(w,_,d)},removeEventListener:function(d,v,_){var w=d.canvas;if("resize"!==v){var I=((_[Yn]||{}).proxies||{})[d.id+"_"+v];I&&$s(w,v,I)}else!function Cu(d){var w,I,A,v=d[Yn]||{},_=v.resizer;delete v.resizer,(A=(I=(w=d)[Yn]||{}).renderProxy)&&(F.each(Mu,function(L){$s(w,L,A)}),delete I.renderProxy),w.classList.remove(Su),_&&_.parentNode&&_.parentNode.removeChild(_)}(w)}};F.addEvent=Wr,F.removeEvent=$s;var di=F.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Go._enabled?Go:{acquireContext:function(d){return d&&d.canvas&&(d=d.canvas),d&&d.getContext("2d")||null}});oe._set("global",{plugins:{}});var Wt={_plugins:[],_cacheId:0,register:function(d){var v=this._plugins;[].concat(d).forEach(function(_){-1===v.indexOf(_)&&v.push(_)}),this._cacheId++},unregister:function(d){var v=this._plugins;[].concat(d).forEach(function(_){var w=v.indexOf(_);-1!==w&&v.splice(w,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(d,v,_){var w,I,A,L,P,O=this.descriptors(d),z=O.length;for(w=0;w<z;++w)if("function"==typeof(P=(A=(I=O[w]).plugin)[v])&&((L=[d].concat(_||[])).push(I.options),!1===P.apply(A,L)))return!1;return!0},descriptors:function(d){var v=d.$plugins||(d.$plugins={});if(v.id===this._cacheId)return v.descriptors;var _=[],w=[],I=d&&d.config||{},A=I.options&&I.options.plugins||{};return this._plugins.concat(I.plugins||[]).forEach(function(L){if(-1===_.indexOf(L)){var P=L.id,O=A[P];!1!==O&&(!0===O&&(O=F.clone(oe.global.plugins[P])),_.push(L),w.push({plugin:L,options:O||{}}))}}),v.descriptors=w,v.id=this._cacheId,w},_invalidate:function(d){delete d.$plugins}},Ho={constructors:{},defaults:{},registerScaleType:function(d,v,_){this.constructors[d]=v,this.defaults[d]=F.clone(_)},getScaleConstructor:function(d){return this.constructors.hasOwnProperty(d)?this.constructors[d]:void 0},getScaleDefaults:function(d){return this.defaults.hasOwnProperty(d)?F.merge(Object.create(null),[oe.scale,this.defaults[d]]):{}},updateScaleDefaults:function(d,v){this.defaults.hasOwnProperty(d)&&(this.defaults[d]=F.extend(this.defaults[d],v))},addScalesToLayout:function(d){F.each(d.scales,function(v){v.fullWidth=v.options.fullWidth,v.position=v.options.position,v.weight=v.options.weight,Un.addBox(d,v)})}},ji=F.valueOrDefault,Uo=F.rtl.getRtlAdapter;oe._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:F.noop,title:function(d,v){var _="",w=v.labels,I=w?w.length:0;if(d.length>0){var A=d[0];A.label?_=A.label:A.xLabel?_=A.xLabel:I>0&&A.index<I&&(_=w[A.index])}return _},afterTitle:F.noop,beforeBody:F.noop,beforeLabel:F.noop,label:function(d,v){var _=v.datasets[d.datasetIndex].label||"";return _&&(_+=": "),F.isNullOrUndef(d.value)?_+=d.yLabel:_+=d.value,_},labelColor:function(d,v){var _=v.getDatasetMeta(d.datasetIndex).data[d.index]._view;return{borderColor:_.borderColor,backgroundColor:_.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:F.noop,afterBody:F.noop,beforeFooter:F.noop,footer:F.noop,afterFooter:F.noop}}});var Pi={average:function(d){if(!d.length)return!1;var v,_,w=0,I=0,A=0;for(v=0,_=d.length;v<_;++v){var L=d[v];if(L&&L.hasValue()){var P=L.tooltipPosition();w+=P.x,I+=P.y,++A}}return{x:w/A,y:I/A}},nearest:function(d,v){var _,w,I,A=v.x,L=v.y,P=Number.POSITIVE_INFINITY;for(_=0,w=d.length;_<w;++_){var O=d[_];if(O&&O.hasValue()){var z=O.getCenterPoint(),W=F.distanceBetweenPoints(v,z);W<P&&(P=W,I=O)}}if(I){var U=I.tooltipPosition();A=U.x,L=U.y}return{x:A,y:L}}};function ln(d,v){return v&&(F.isArray(v)?Array.prototype.push.apply(d,v):d.push(v)),d}function Kn(d){return("string"==typeof d||d instanceof String)&&d.indexOf("\n")>-1?d.split("\n"):d}function _r(d){var v=oe.global;return{xPadding:d.xPadding,yPadding:d.yPadding,xAlign:d.xAlign,yAlign:d.yAlign,rtl:d.rtl,textDirection:d.textDirection,bodyFontColor:d.bodyFontColor,_bodyFontFamily:ji(d.bodyFontFamily,v.defaultFontFamily),_bodyFontStyle:ji(d.bodyFontStyle,v.defaultFontStyle),_bodyAlign:d.bodyAlign,bodyFontSize:ji(d.bodyFontSize,v.defaultFontSize),bodySpacing:d.bodySpacing,titleFontColor:d.titleFontColor,_titleFontFamily:ji(d.titleFontFamily,v.defaultFontFamily),_titleFontStyle:ji(d.titleFontStyle,v.defaultFontStyle),titleFontSize:ji(d.titleFontSize,v.defaultFontSize),_titleAlign:d.titleAlign,titleSpacing:d.titleSpacing,titleMarginBottom:d.titleMarginBottom,footerFontColor:d.footerFontColor,_footerFontFamily:ji(d.footerFontFamily,v.defaultFontFamily),_footerFontStyle:ji(d.footerFontStyle,v.defaultFontStyle),footerFontSize:ji(d.footerFontSize,v.defaultFontSize),_footerAlign:d.footerAlign,footerSpacing:d.footerSpacing,footerMarginTop:d.footerMarginTop,caretSize:d.caretSize,cornerRadius:d.cornerRadius,backgroundColor:d.backgroundColor,opacity:0,legendColorBackground:d.multiKeyBackground,displayColors:d.displayColors,borderColor:d.borderColor,borderWidth:d.borderWidth}}function Ga(d,v){return"center"===v?d.x+d.width/2:"right"===v?d.x+d.width-d.xPadding:d.x+d.xPadding}function dn(d){return ln([],Kn(d))}var Oc=Oe.extend({initialize:function(){this._model=_r(this._options),this._lastActive=[]},getTitle:function(){var d=this,v=d._options,_=v.callbacks,w=_.beforeTitle.apply(d,arguments),I=_.title.apply(d,arguments),A=_.afterTitle.apply(d,arguments),L=[];return L=ln(L,Kn(w)),L=ln(L,Kn(I)),ln(L,Kn(A))},getBeforeBody:function(){return dn(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(d,v){var _=this,w=_._options.callbacks,I=[];return F.each(d,function(A){var L={before:[],lines:[],after:[]};ln(L.before,Kn(w.beforeLabel.call(_,A,v))),ln(L.lines,w.label.call(_,A,v)),ln(L.after,Kn(w.afterLabel.call(_,A,v))),I.push(L)}),I},getAfterBody:function(){return dn(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var d=this,v=d._options.callbacks,_=v.beforeFooter.apply(d,arguments),w=v.footer.apply(d,arguments),I=v.afterFooter.apply(d,arguments),A=[];return A=ln(A,Kn(_)),A=ln(A,Kn(w)),ln(A,Kn(I))},update:function(d){var v,_,w,I,A,L,P,O,z,W,Qe,Be,Mt,ft,yt,Tt,Et,on,Qt,Jn,_i,U=this,X=U._options,K=U._model,$=U._model=_r(X),ee=U._active,re=U._data,fe={xAlign:K.xAlign,yAlign:K.yAlign},de={x:K.x,y:K.y},Se={width:K.width,height:K.height},Ae={x:K.caretX,y:K.caretY};if(ee.length){$.opacity=1;var ue=[],Ve=[];Ae=Pi[X.position].call(U,ee,U._eventPosition);var Ge=[];for(v=0,_=ee.length;v<_;++v)Ge.push((I=void 0,A=void 0,O=void 0,z=void 0,W=void 0,I=(w=ee[v])._xScale,A=w._yScale||w._scale,L=w._index,z=(O=w._chart.getDatasetMeta(P=w._datasetIndex).controller)._getIndexScale(),W=O._getValueScale(),{xLabel:I?I.getLabelForIndex(L,P):"",yLabel:A?A.getLabelForIndex(L,P):"",label:z?""+z.getLabelForIndex(L,P):"",value:W?""+W.getLabelForIndex(L,P):"",index:L,datasetIndex:P,x:w._model.x,y:w._model.y}));X.filter&&(Ge=Ge.filter(function(Qe){return X.filter(Qe,re)})),X.itemSort&&(Ge=Ge.sort(function(Qe,Be){return X.itemSort(Qe,Be,re)})),F.each(Ge,function(Qe){ue.push(X.callbacks.labelColor.call(U,Qe,U._chart)),Ve.push(X.callbacks.labelTextColor.call(U,Qe,U._chart))}),$.title=U.getTitle(Ge,re),$.beforeBody=U.getBeforeBody(Ge,re),$.body=U.getBody(Ge,re),$.afterBody=U.getAfterBody(Ge,re),$.footer=U.getFooter(Ge,re),$.x=Ae.x,$.y=Ae.y,$.caretPadding=X.caretPadding,$.labelColors=ue,$.labelTextColors=Ve,$.dataPoints=Ge,Se=function(Qe,Be){var Mt=Qe._chart.ctx,ft=2*Be.yPadding,yt=0,Tt=Be.body,xt=Tt.reduce(function(Qn,En){return Qn+En.before.length+En.lines.length+En.after.length},0),Et=Be.title.length,qt=Be.footer.length,on=Be.titleFontSize,Qt=Be.bodyFontSize,Jn=Be.footerFontSize;ft+=Et*on,ft+=Et?(Et-1)*Be.titleSpacing:0,ft+=Et?Be.titleMarginBottom:0,ft+=(xt+=Be.beforeBody.length+Be.afterBody.length)*Qt,ft+=xt?(xt-1)*Be.bodySpacing:0,ft+=qt?Be.footerMarginTop:0,ft+=qt*Jn,ft+=qt?(qt-1)*Be.footerSpacing:0;var _i=0,Qi=function(Qn){yt=Math.max(yt,Mt.measureText(Qn).width+_i)};return Mt.font=F.fontString(on,Be._titleFontStyle,Be._titleFontFamily),F.each(Be.title,Qi),Mt.font=F.fontString(Qt,Be._bodyFontStyle,Be._bodyFontFamily),F.each(Be.beforeBody.concat(Be.afterBody),Qi),_i=Be.displayColors?Qt+2:0,F.each(Tt,function(Qn){F.each(Qn.before,Qi),F.each(Qn.lines,Qi),F.each(Qn.after,Qi)}),_i=0,Mt.font=F.fontString(Jn,Be._footerFontStyle,Be._footerFontFamily),F.each(Be.footer,Qi),{width:yt+=2*Be.xPadding,height:ft}}(this,$),Qe=$,Be=Se,Mt=fe=function(Qe,Be){var Mt,ft,yt,Tt,xt,Et=Qe._model,qt=Qe._chart,on=Qe._chart.chartArea,Qt="center",Jn="center";Et.y<Be.height?Jn="top":Et.y>qt.height-Be.height&&(Jn="bottom");var _i=(on.left+on.right)/2,Qi=(on.top+on.bottom)/2;"center"===Jn?(Mt=function(En){return En<=_i},ft=function(En){return En>_i}):(Mt=function(En){return En<=Be.width/2},ft=function(En){return En>=qt.width-Be.width/2}),yt=function(En){return En+Be.width+Et.caretSize+Et.caretPadding>qt.width},Tt=function(En){return En-Be.width-Et.caretSize-Et.caretPadding<0},xt=function(En){return En<=Qi?"top":"bottom"},Mt(Et.x)?(Qt="left",yt(Et.x)&&(Qt="center",Jn=xt(Et.y))):ft(Et.x)&&(Qt="right",Tt(Et.x)&&(Qt="center",Jn=xt(Et.y)));var Qn=Qe._options;return{xAlign:Qn.xAlign?Qn.xAlign:Qt,yAlign:Qn.yAlign?Qn.yAlign:Jn}}(this,Se),ft=U._chart,yt=Qe.x,Tt=Qe.y,Jn=Qe.caretSize+(Et=Qe.caretPadding),_i=Qe.cornerRadius+Et,"right"===(on=Mt.xAlign)?yt-=Be.width:"center"===on&&((yt-=Be.width/2)+Be.width>ft.width&&(yt=ft.width-Be.width),yt<0&&(yt=0)),"top"===(Qt=Mt.yAlign)?Tt+=Jn:Tt-="bottom"===Qt?Be.height+Jn:Be.height/2,"center"===Qt?"left"===on?yt+=Jn:"right"===on&&(yt-=Jn):"left"===on?yt-=_i:"right"===on&&(yt+=_i),de={x:yt,y:Tt}}else $.opacity=0;return $.xAlign=fe.xAlign,$.yAlign=fe.yAlign,$.x=de.x,$.y=de.y,$.width=Se.width,$.height=Se.height,$.caretX=Ae.x,$.caretY=Ae.y,U._model=$,d&&X.custom&&X.custom.call(U,$),U},drawCaret:function(d,v){var _=this._chart.ctx,I=this.getCaretPosition(d,v,this._view);_.lineTo(I.x1,I.y1),_.lineTo(I.x2,I.y2),_.lineTo(I.x3,I.y3)},getCaretPosition:function(d,v,_){var w,I,A,L,P,O,z=_.caretSize,W=_.cornerRadius,U=_.xAlign,X=_.yAlign,K=d.x,$=d.y,ee=v.width,re=v.height;if("center"===X)P=$+re/2,"left"===U?(I=(w=K)-z,A=w,L=P+z,O=P-z):(I=(w=K+ee)+z,A=w,L=P-z,O=P+z);else if("left"===U?(w=(I=K+W+z)-z,A=I+z):"right"===U?(w=(I=K+ee-W-z)-z,A=I+z):(w=(I=_.caretX)-z,A=I+z),"top"===X)P=(L=$)-z,O=L;else{P=(L=$+re)+z,O=L;var fe=A;A=w,w=fe}return{x1:w,x2:I,x3:A,y1:L,y2:P,y3:O}},drawTitle:function(d,v,_){var w,I,A,L=v.title,P=L.length;if(P){var O=Uo(v.rtl,v.x,v.width);for(d.x=Ga(v,v._titleAlign),_.textAlign=O.textAlign(v._titleAlign),_.textBaseline="middle",w=v.titleFontSize,I=v.titleSpacing,_.fillStyle=v.titleFontColor,_.font=F.fontString(w,v._titleFontStyle,v._titleFontFamily),A=0;A<P;++A)_.fillText(L[A],O.x(d.x),d.y+w/2),d.y+=w+I,A+1===P&&(d.y+=v.titleMarginBottom-I)}},drawBody:function(d,v,_){var w,I,A,L,P,O,z,W,U=v.bodyFontSize,X=v.bodySpacing,K=v._bodyAlign,$=v.body,ee=v.displayColors,re=0,fe=ee?Ga(v,"left"):0,de=Uo(v.rtl,v.x,v.width),Se=function(Ve){_.fillText(Ve,de.x(d.x+re),d.y+U/2),d.y+=U+X},Ae=de.textAlign(K);for(_.textAlign=K,_.textBaseline="middle",_.font=F.fontString(U,v._bodyFontStyle,v._bodyFontFamily),d.x=Ga(v,Ae),_.fillStyle=v.bodyFontColor,F.each(v.beforeBody,Se),re=ee&&"right"!==Ae?"center"===K?U/2+1:U+2:0,P=0,z=$.length;P<z;++P){for(w=$[P],A=v.labelColors[P],_.fillStyle=I=v.labelTextColors[P],F.each(w.before,Se),O=0,W=(L=w.lines).length;O<W;++O){if(ee){var ue=de.x(fe);_.fillStyle=v.legendColorBackground,_.fillRect(de.leftForLtr(ue,U),d.y,U,U),_.lineWidth=1,_.strokeStyle=A.borderColor,_.strokeRect(de.leftForLtr(ue,U),d.y,U,U),_.fillStyle=A.backgroundColor,_.fillRect(de.leftForLtr(de.xPlus(ue,1),U-2),d.y+1,U-2,U-2),_.fillStyle=I}Se(L[O])}F.each(w.after,Se)}re=0,F.each(v.afterBody,Se),d.y-=X},drawFooter:function(d,v,_){var w,I,A=v.footer,L=A.length;if(L){var P=Uo(v.rtl,v.x,v.width);for(d.x=Ga(v,v._footerAlign),d.y+=v.footerMarginTop,_.textAlign=P.textAlign(v._footerAlign),_.textBaseline="middle",w=v.footerFontSize,_.fillStyle=v.footerFontColor,_.font=F.fontString(w,v._footerFontStyle,v._footerFontFamily),I=0;I<L;++I)_.fillText(A[I],P.x(d.x),d.y+w/2),d.y+=w+v.footerSpacing}},drawBackground:function(d,v,_,w){_.fillStyle=v.backgroundColor,_.strokeStyle=v.borderColor,_.lineWidth=v.borderWidth;var I=v.xAlign,A=v.yAlign,L=d.x,P=d.y,O=w.width,z=w.height,W=v.cornerRadius;_.beginPath(),_.moveTo(L+W,P),"top"===A&&this.drawCaret(d,w),_.lineTo(L+O-W,P),_.quadraticCurveTo(L+O,P,L+O,P+W),"center"===A&&"right"===I&&this.drawCaret(d,w),_.lineTo(L+O,P+z-W),_.quadraticCurveTo(L+O,P+z,L+O-W,P+z),"bottom"===A&&this.drawCaret(d,w),_.lineTo(L+W,P+z),_.quadraticCurveTo(L,P+z,L,P+z-W),"center"===A&&"left"===I&&this.drawCaret(d,w),_.lineTo(L,P+W),_.quadraticCurveTo(L,P,L+W,P),_.closePath(),_.fill(),v.borderWidth>0&&_.stroke()},draw:function(){var d=this._chart.ctx,v=this._view;if(0!==v.opacity){var _={width:v.width,height:v.height},w={x:v.x,y:v.y},I=Math.abs(v.opacity<.001)?0:v.opacity;this._options.enabled&&(v.title.length||v.beforeBody.length||v.body.length||v.afterBody.length||v.footer.length)&&(d.save(),d.globalAlpha=I,this.drawBackground(w,v,d,_),w.y+=v.yPadding,F.rtl.overrideTextDirection(d,v.textDirection),this.drawTitle(w,v,d),this.drawBody(w,v,d),this.drawFooter(w,v,d),F.rtl.restoreTextDirection(d,v.textDirection),d.restore())}},handleEvent:function(d){var v,_=this,w=_._options;return _._lastActive=_._lastActive||[],"mouseout"===d.type?_._active=[]:(_._active=_._chart.getElementsAtEventForMode(d,w.mode,w),w.reverse&&_._active.reverse()),(v=!F.arrayEquals(_._active,_._lastActive))&&(_._lastActive=_._active,(w.enabled||w.custom)&&(_._eventPosition={x:d.x,y:d.y},_.update(!0),_.pivot())),v}}),el=Oc;el.positioners=Pi;var Zi=F.valueOrDefault;function Tu(){return F.merge(Object.create(null),[].slice.call(arguments),{merger:function(d,v,_,w){if("xAxes"===d||"yAxes"===d){var I,A,L,P=_[d].length;for(v[d]||(v[d]=[]),I=0;I<P;++I)A=Zi((L=_[d][I]).type,"xAxes"===d?"category":"linear"),I>=v[d].length&&v[d].push({}),F.merge(v[d][I],!v[d][I].type||L.type&&L.type!==v[d][I].type?[Ho.getScaleDefaults(A),L]:L)}else F._merger(d,v,_,w)}})}function Du(){return F.merge(Object.create(null),[].slice.call(arguments),{merger:function(d,v,_,w){var I=v[d]||Object.create(null),A=_[d];"scales"===d?v[d]=Tu(I,A):"scale"===d?v[d]=F.merge(I,[Ho.getScaleDefaults(A.type),A]):F._merger(d,v,_,w)}})}function Dn(d){var v=d.options;F.each(d.scales,function(_){Un.removeBox(d,_)}),v=Du(oe.global,oe[d.config.type],v),d.options=d.config.options=v,d.ensureScalesHaveIDs(),d.buildOrUpdateScales(),d.tooltip._options=v.tooltips,d.tooltip.initialize()}function tl(d,v,_){var w,I=function(A){return A.id===w};do{w=v+_++}while(F.findIndex(d,I)>=0);return w}function Au(d){return"top"===d||"bottom"===d}function Yo(d,v){return function(_,w){return _[d]===w[d]?_[v]-w[v]:_[d]-w[d]}}oe._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var br=function(d,v){return this.construct(d,v),this};F.extend(br.prototype,{construct:function(d,v){var P,O,_=this;(O=(P=(P=v)||Object.create(null)).data=P.data||{}).datasets=O.datasets||[],O.labels=O.labels||[],P.options=Du(oe.global,oe[P.type],P.options||{});var w=di.acquireContext(d,v=P),I=w&&w.canvas,A=I&&I.height,L=I&&I.width;_.id=F.uid(),_.ctx=w,_.canvas=I,_.config=v,_.width=L,_.height=A,_.aspectRatio=A?L/A:null,_.options=v.options,_._bufferedRender=!1,_._layers=[],_.chart=_,_.controller=_,br.instances[_.id]=_,Object.defineProperty(_,"data",{get:function(){return _.config.data},set:function(P){_.config.data=P}}),w&&I?(_.initialize(),_.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var d=this;return Wt.notify(d,"beforeInit"),F.retinaScale(d,d.options.devicePixelRatio),d.bindEvents(),d.options.responsive&&d.resize(!0),d.initToolTip(),Wt.notify(d,"afterInit"),d},clear:function(){return F.canvas.clear(this),this},stop:function(){return Hi.cancelAnimation(this),this},resize:function(d){var v=this,_=v.options,w=v.canvas,I=_.maintainAspectRatio&&v.aspectRatio||null,A=Math.max(0,Math.floor(F.getMaximumWidth(w))),L=Math.max(0,Math.floor(I?A/I:F.getMaximumHeight(w)));if((v.width!==A||v.height!==L)&&(w.width=v.width=A,w.height=v.height=L,w.style.width=A+"px",w.style.height=L+"px",F.retinaScale(v,_.devicePixelRatio),!d)){var P={width:A,height:L};Wt.notify(v,"resize",[P]),_.onResize&&_.onResize(v,P),v.stop(),v.update({duration:_.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var d=this.options,v=d.scales||{},_=d.scale;F.each(v.xAxes,function(w,I){w.id||(w.id=tl(v.xAxes,"x-axis-",I))}),F.each(v.yAxes,function(w,I){w.id||(w.id=tl(v.yAxes,"y-axis-",I))}),_&&(_.id=_.id||"scale")},buildOrUpdateScales:function(){var d=this,v=d.options,_=d.scales||{},w=[],I=Object.keys(_).reduce(function(A,L){return A[L]=!1,A},{});v.scales&&(w=w.concat((v.scales.xAxes||[]).map(function(A){return{options:A,dtype:"category",dposition:"bottom"}}),(v.scales.yAxes||[]).map(function(A){return{options:A,dtype:"linear",dposition:"left"}}))),v.scale&&w.push({options:v.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),F.each(w,function(A){var L=A.options,P=L.id,O=Zi(L.type,A.dtype);Au(L.position)!==Au(A.dposition)&&(L.position=A.dposition),I[P]=!0;var z=null;if(P in _&&_[P].type===O)(z=_[P]).options=L,z.ctx=d.ctx,z.chart=d;else{var W=Ho.getScaleConstructor(O);if(!W)return;z=new W({id:P,type:O,options:L,ctx:d.ctx,chart:d}),_[z.id]=z}z.mergeTicksOptions(),A.isDefault&&(d.scale=z)}),F.each(I,function(A,L){A||delete _[L]}),d.scales=_,Ho.addScalesToLayout(this)},buildOrUpdateControllers:function(){var d,v,_=this,w=[],I=_.data.datasets;for(d=0,v=I.length;d<v;d++){var A=I[d],L=_.getDatasetMeta(d),P=A.type||_.config.type;if(L.type&&L.type!==P&&(_.destroyDatasetMeta(d),L=_.getDatasetMeta(d)),L.type=P,L.order=A.order||0,L.index=d,L.controller)L.controller.updateIndex(d),L.controller.linkScales();else{var O=yu[L.type];if(void 0===O)throw new Error('"'+L.type+'" is not a chart type.');L.controller=new O(_,d),w.push(L.controller)}}return w},resetElements:function(){var d=this;F.each(d.data.datasets,function(v,_){d.getDatasetMeta(_).controller.reset()},d)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(d){var v,_,w=this;if(d&&"object"==typeof d||(d={duration:d,lazy:arguments[1]}),Dn(w),Wt._invalidate(w),!1!==Wt.notify(w,"beforeUpdate")){w.tooltip._data=w.data;var I=w.buildOrUpdateControllers();for(v=0,_=w.data.datasets.length;v<_;v++)w.getDatasetMeta(v).controller.buildOrUpdateElements();w.updateLayout(),w.options.animation&&w.options.animation.duration&&F.each(I,function(A){A.reset()}),w.updateDatasets(),w.tooltip.initialize(),w.lastActive=[],Wt.notify(w,"afterUpdate"),w._layers.sort(Yo("z","_idx")),w._bufferedRender?w._bufferedRequest={duration:d.duration,easing:d.easing,lazy:d.lazy}:w.render(d)}},updateLayout:function(){var d=this;!1!==Wt.notify(d,"beforeLayout")&&(Un.update(this,this.width,this.height),d._layers=[],F.each(d.boxes,function(v){v._configure&&v._configure(),d._layers.push.apply(d._layers,v._layers())},d),d._layers.forEach(function(v,_){v._idx=_}),Wt.notify(d,"afterScaleUpdate"),Wt.notify(d,"afterLayout"))},updateDatasets:function(){if(!1!==Wt.notify(this,"beforeDatasetsUpdate")){for(var d=0,v=this.data.datasets.length;d<v;++d)this.updateDataset(d);Wt.notify(this,"afterDatasetsUpdate")}},updateDataset:function(d){var v=this.getDatasetMeta(d),_={meta:v,index:d};!1!==Wt.notify(this,"beforeDatasetUpdate",[_])&&(v.controller._update(),Wt.notify(this,"afterDatasetUpdate",[_]))},render:function(d){var v=this;d&&"object"==typeof d||(d={duration:d,lazy:arguments[1]});var _=v.options.animation,w=Zi(d.duration,_&&_.duration),I=d.lazy;if(!1!==Wt.notify(v,"beforeRender")){var A=function(P){Wt.notify(v,"afterRender"),F.callback(_&&_.onComplete,[P],v)};if(_&&w){var L=new bn({numSteps:w/16.66,easing:d.easing||_.easing,render:function(P,O){var W=O.currentStep,U=W/O.numSteps;P.draw((0,F.easing.effects[O.easing])(U),U,W)},onAnimationProgress:_.onProgress,onAnimationComplete:A});Hi.addAnimation(v,L,w,I)}else v.draw(),A(new bn({numSteps:0,chart:v}));return v}},draw:function(d){var v,_,w=this;if(w.clear(),F.isNullOrUndef(d)&&(d=1),w.transition(d),!(w.width<=0||w.height<=0)&&!1!==Wt.notify(w,"beforeDraw",[d])){for(_=w._layers,v=0;v<_.length&&_[v].z<=0;++v)_[v].draw(w.chartArea);for(w.drawDatasets(d);v<_.length;++v)_[v].draw(w.chartArea);w._drawTooltip(d),Wt.notify(w,"afterDraw",[d])}},transition:function(d){for(var v=0,_=(this.data.datasets||[]).length;v<_;++v)this.isDatasetVisible(v)&&this.getDatasetMeta(v).controller.transition(d);this.tooltip.transition(d)},_getSortedDatasetMetas:function(d){var v,_,w=[];for(v=0,_=(this.data.datasets||[]).length;v<_;++v)d&&!this.isDatasetVisible(v)||w.push(this.getDatasetMeta(v));return w.sort(Yo("order","index")),w},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(d){var v,_;if(!1!==Wt.notify(this,"beforeDatasetsDraw",[d])){for(_=(v=this._getSortedVisibleDatasetMetas()).length-1;_>=0;--_)this.drawDataset(v[_],d);Wt.notify(this,"afterDatasetsDraw",[d])}},drawDataset:function(d,v){var _={meta:d,index:d.index,easingValue:v};!1!==Wt.notify(this,"beforeDatasetDraw",[_])&&(d.controller.draw(v),Wt.notify(this,"afterDatasetDraw",[_]))},_drawTooltip:function(d){var v=this.tooltip,_={tooltip:v,easingValue:d};!1!==Wt.notify(this,"beforeTooltipDraw",[_])&&(v.draw(),Wt.notify(this,"afterTooltipDraw",[_]))},getElementAtEvent:function(d){return On.modes.single(this,d)},getElementsAtEvent:function(d){return On.modes.label(this,d,{intersect:!0})},getElementsAtXAxis:function(d){return On.modes["x-axis"](this,d,{intersect:!0})},getElementsAtEventForMode:function(d,v,_){var w=On.modes[v];return"function"==typeof w?w(this,d,_):[]},getDatasetAtEvent:function(d){return On.modes.dataset(this,d,{intersect:!0})},getDatasetMeta:function(d){var v=this.data.datasets[d];v._meta||(v._meta={});var _=v._meta[this.id];return _||(_=v._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:v.order||0,index:d}),_},getVisibleDatasetCount:function(){for(var d=0,v=0,_=this.data.datasets.length;v<_;++v)this.isDatasetVisible(v)&&d++;return d},isDatasetVisible:function(d){var v=this.getDatasetMeta(d);return"boolean"==typeof v.hidden?!v.hidden:!this.data.datasets[d].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(d){var v=this.id,_=this.data.datasets[d],w=_._meta&&_._meta[v];w&&(w.controller.destroy(),delete _._meta[v])},destroy:function(){var d,v,_=this,w=_.canvas;for(_.stop(),d=0,v=_.data.datasets.length;d<v;++d)_.destroyDatasetMeta(d);w&&(_.unbindEvents(),F.canvas.clear(_),di.releaseContext(_.ctx),_.canvas=null,_.ctx=null),Wt.notify(_,"destroy"),delete br.instances[_.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var d=this;d.tooltip=new el({_chart:d,_chartInstance:d,_data:d.data,_options:d.options.tooltips},d)},bindEvents:function(){var d=this,v=d._listeners={},_=function(){d.eventHandler.apply(d,arguments)};F.each(d.options.events,function(w){di.addEventListener(d,w,_),v[w]=_}),d.options.responsive&&(_=function(){d.resize()},di.addEventListener(d,"resize",_),v.resize=_)},unbindEvents:function(){var d=this,v=d._listeners;v&&(delete d._listeners,F.each(v,function(_,w){di.removeEventListener(d,w,_)}))},updateHoverStyle:function(d,v,_){var w,I,A,L=_?"set":"remove";for(I=0,A=d.length;I<A;++I)(w=d[I])&&this.getDatasetMeta(w._datasetIndex).controller[L+"HoverStyle"](w);"dataset"===v&&this.getDatasetMeta(d[0]._datasetIndex).controller["_"+L+"DatasetHoverStyle"]()},eventHandler:function(d){var v=this,_=v.tooltip;if(!1!==Wt.notify(v,"beforeEvent",[d])){v._bufferedRender=!0,v._bufferedRequest=null;var w=v.handleEvent(d);_&&(w=_._start?_.handleEvent(d):w|_.handleEvent(d)),Wt.notify(v,"afterEvent",[d]);var I=v._bufferedRequest;return I?v.render(I):w&&!v.animating&&(v.stop(),v.render({duration:v.options.hover.animationDuration,lazy:!0})),v._bufferedRender=!1,v._bufferedRequest=null,v}},handleEvent:function(d){var v,_=this,w=_.options||{},I=w.hover;return _.lastActive=_.lastActive||[],_.active="mouseout"===d.type?[]:_.getElementsAtEventForMode(d,I.mode,I),F.callback(w.onHover||w.hover.onHover,[d.native,_.active],_),"mouseup"!==d.type&&"click"!==d.type||w.onClick&&w.onClick.call(_,d.native,_.active),_.lastActive.length&&_.updateHoverStyle(_.lastActive,I.mode,!1),_.active.length&&I.mode&&_.updateHoverStyle(_.active,I.mode,!0),v=!F.arrayEquals(_.active,_.lastActive),_.lastActive=_.active,v}}),br.instances={};var pt=br;function vo(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Xo(d){this.options=d||{}}br.Controller=br,br.types={},F.configMerge=Du,F.scaleMerge=Tu,F.extend(Xo.prototype,{formats:vo,parse:vo,format:vo,add:vo,diff:vo,startOf:vo,endOf:vo,_create:function(d){return d}}),Xo.override=function(d){F.extend(Xo.prototype,d)};var ku={_date:Xo},jo={formatters:{values:function(d){return F.isArray(d)?d:""+d},linear:function(d,v,_){var w=_.length>3?_[2]-_[1]:_[1]-_[0];Math.abs(w)>1&&d!==Math.floor(d)&&(w=d-Math.floor(d));var I=F.log10(Math.abs(w)),A="";if(0!==d)if(Math.max(Math.abs(_[0]),Math.abs(_[_.length-1]))<1e-4){var L=F.log10(Math.abs(d)),P=Math.floor(L)-Math.floor(I);P=Math.max(Math.min(P,20),0),A=d.toExponential(P)}else{var O=-1*Math.floor(I);O=Math.max(Math.min(O,20),0),A=d.toFixed(O)}else A="0";return A},logarithmic:function(d,v,_){var w=d/Math.pow(10,Math.floor(F.log10(d)));return 0===d?"0":1===w||2===w||5===w||0===v||v===_.length-1?d.toExponential():""}}},yo=F.isArray,wr=F.isNullOrUndef,Gr=F.valueOrDefault,Xn=F.valueAtIndexOrDefault;function Ha(d,v,_){var w,I=d.getTicks().length,A=Math.min(v,I-1),L=d.getPixelForTick(A),P=d._startPixel,O=d._endPixel;if(!(_&&(w=1===I?Math.max(L-P,O-L):0===v?(d.getPixelForTick(1)-L)/2:(L-d.getPixelForTick(A-1))/2,(L+=A<v?w:-w)<P-1e-6||L>O+1e-6)))return L}function qi(d){return d.drawTicks?d.tickMarkLength:0}function Ua(d){var v,_;return d.display?(v=F.options._parseFont(d),_=F.options.toPadding(d.padding),v.lineHeight+_.height):0}function Sr(d,v){return F.extend(F.options._parseFont({fontFamily:Gr(v.fontFamily,d.fontFamily),fontSize:Gr(v.fontSize,d.fontSize),fontStyle:Gr(v.fontStyle,d.fontStyle),lineHeight:Gr(v.lineHeight,d.lineHeight)}),{color:F.options.resolve([v.fontColor,d.fontColor,oe.global.defaultFontColor])})}function $n(d){var v=Sr(d,d.minor);return{minor:v,major:d.major.enabled?Sr(d,d.major):v}}function Ya(d){var v,_,w,I=[];for(_=0,w=d.length;_<w;++_)void 0!==(v=d[_])._index&&I.push(v);return I}function Xa(d,v,_,w){var I,A,L,P,O=Gr(_,0),z=Math.min(Gr(w,d.length),d.length),W=0;for(v=Math.ceil(v),w&&(v=(I=w-_)/Math.floor(I/v)),P=O;P<0;)W++,P=Math.round(O+W*v);for(A=Math.max(O,0);A<z;A++)L=d[A],A===P?(L._index=A,W++,P=Math.round(O+W*v)):delete L.label}oe._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:jo.formatters.values,minor:{},major:{}}});var Zo=Oe.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var d=this.chart.data;return this.options.labels||(this.isHorizontal()?d.xLabels:d.yLabels)||d.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){F.callback(this.options.beforeUpdate,[this])},update:function(d,v,_){var w,I,A,L,P,O=this,z=O.options.ticks,W=z.sampleSize;if(O.beforeUpdate(),O.maxWidth=d,O.maxHeight=v,O.margins=F.extend({left:0,right:0,top:0,bottom:0},_),O._ticks=null,O.ticks=null,O._labelSizes=null,O._maxLabelLines=0,O.longestLabelWidth=0,O.longestTextCache=O.longestTextCache||{},O._gridLineItems=null,O._labelItems=null,O.beforeSetDimensions(),O.setDimensions(),O.afterSetDimensions(),O.beforeDataLimits(),O.determineDataLimits(),O.afterDataLimits(),O.beforeBuildTicks(),L=O.buildTicks()||[],(!(L=O.afterBuildTicks(L)||L)||!L.length)&&O.ticks)for(L=[],w=0,I=O.ticks.length;w<I;++w)L.push({value:O.ticks[w],major:!1});return O._ticks=L,A=O._convertTicksToLabels((P=W<L.length)?function(U,X){for(var K=[],$=U.length/X,ee=0,re=U.length;ee<re;ee+=$)K.push(U[Math.floor(ee)]);return K}(L,W):L),O._configure(),O.beforeCalculateTickRotation(),O.calculateTickRotation(),O.afterCalculateTickRotation(),O.beforeFit(),O.fit(),O.afterFit(),O._ticksToDraw=z.display&&(z.autoSkip||"auto"===z.source)?O._autoSkip(L):L,P&&(A=O._convertTicksToLabels(O._ticksToDraw)),O.ticks=A,O.afterUpdate(),O.minSize},_configure:function(){var d,v,_=this,w=_.options.ticks.reverse;_.isHorizontal()?(d=_.left,v=_.right):(d=_.top,v=_.bottom,w=!w),_._startPixel=d,_._endPixel=v,_._reversePixels=w,_._length=v-d},afterUpdate:function(){F.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){F.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var d=this;d.isHorizontal()?(d.width=d.maxWidth,d.left=0,d.right=d.width):(d.height=d.maxHeight,d.top=0,d.bottom=d.height),d.paddingLeft=0,d.paddingTop=0,d.paddingRight=0,d.paddingBottom=0},afterSetDimensions:function(){F.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){F.callback(this.options.beforeDataLimits,[this])},determineDataLimits:F.noop,afterDataLimits:function(){F.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){F.callback(this.options.beforeBuildTicks,[this])},buildTicks:F.noop,afterBuildTicks:function(d){var v=this;return yo(d)&&d.length?F.callback(v.options.afterBuildTicks,[v,d]):(v.ticks=F.callback(v.options.afterBuildTicks,[v,v.ticks])||v.ticks,d)},beforeTickToLabelConversion:function(){F.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var d=this.options.ticks;this.ticks=this.ticks.map(d.userCallback||d.callback,this)},afterTickToLabelConversion:function(){F.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){F.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var d,v,_,w,I,A,L,P=this,O=P.options,z=O.ticks,W=P.getTicks().length,U=z.minRotation||0,X=z.maxRotation,K=U;!P._isVisible()||!z.display||U>=X||W<=1||!P.isHorizontal()?P.labelRotation=U:(v=(d=P._getLabelSizes()).widest.width,_=d.highest.height-d.highest.offset,w=Math.min(P.maxWidth,P.chart.width-v),v+6>(I=O.offset?P.maxWidth/W:w/(W-1))&&(I=w/(W-(O.offset?.5:1)),A=P.maxHeight-qi(O.gridLines)-z.padding-Ua(O.scaleLabel),L=Math.sqrt(v*v+_*_),K=F.toDegrees(Math.min(Math.asin(Math.min((d.highest.height+6)/I,1)),Math.asin(Math.min(A/L,1))-Math.asin(_/L))),K=Math.max(U,Math.min(X,K))),P.labelRotation=K)},afterCalculateTickRotation:function(){F.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){F.callback(this.options.beforeFit,[this])},fit:function(){var d=this,v=d.minSize={width:0,height:0},_=d.chart,w=d.options,I=w.ticks,A=w.scaleLabel,L=w.gridLines,P=d._isVisible(),O="bottom"===w.position,z=d.isHorizontal();if(z?v.width=d.maxWidth:P&&(v.width=qi(L)+Ua(A)),z?P&&(v.height=qi(L)+Ua(A)):v.height=d.maxHeight,I.display&&P){var W=$n(I),U=d._getLabelSizes(),X=U.first,K=U.last,$=U.widest,ee=U.highest,re=.4*W.minor.lineHeight,fe=I.padding;if(z){var de=0!==d.labelRotation,Se=F.toRadians(d.labelRotation),Ae=Math.cos(Se),ue=Math.sin(Se);v.height=Math.min(d.maxHeight,v.height+(ue*$.width+Ae*(ee.height-(de?ee.offset:0))+(de?0:re))+fe);var Ge,Qe,Be=d.getPixelForTick(0)-d.left,Mt=d.right-d.getPixelForTick(d.getTicks().length-1);de?(Ge=O?Ae*X.width+ue*X.offset:ue*(X.height-X.offset),Qe=O?ue*(K.height-K.offset):Ae*K.width+ue*K.offset):(Ge=X.width/2,Qe=K.width/2),d.paddingLeft=Math.max((Ge-Be)*d.width/(d.width-Be),0)+3,d.paddingRight=Math.max((Qe-Mt)*d.width/(d.width-Mt),0)+3}else v.width=Math.min(d.maxWidth,v.width+(I.mirror?0:$.width+fe+re)),d.paddingTop=X.height/2,d.paddingBottom=K.height/2}d.handleMargins(),z?(d.width=d._length=_.width-d.margins.left-d.margins.right,d.height=v.height):(d.width=v.width,d.height=d._length=_.height-d.margins.top-d.margins.bottom)},handleMargins:function(){var d=this;d.margins&&(d.margins.left=Math.max(d.paddingLeft,d.margins.left),d.margins.top=Math.max(d.paddingTop,d.margins.top),d.margins.right=Math.max(d.paddingRight,d.margins.right),d.margins.bottom=Math.max(d.paddingBottom,d.margins.bottom))},afterFit:function(){F.callback(this.options.afterFit,[this])},isHorizontal:function(){var d=this.options.position;return"top"===d||"bottom"===d},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(d){if(wr(d))return NaN;if(("number"==typeof d||d instanceof Number)&&!isFinite(d))return NaN;if(d)if(this.isHorizontal()){if(void 0!==d.x)return this.getRightValue(d.x)}else if(void 0!==d.y)return this.getRightValue(d.y);return d},_convertTicksToLabels:function(d){var v,_,w,I=this;for(I.ticks=d.map(function(A){return A.value}),I.beforeTickToLabelConversion(),v=I.convertTicksToLabels(d)||I.ticks,I.afterTickToLabelConversion(),_=0,w=d.length;_<w;++_)d[_].label=v[_];return v},_getLabelSizes:function(){var d=this,v=d._labelSizes;return v||(d._labelSizes=v=function Lu(d,v,_,w){var I,A,L,P,O,z,W,U,X,K,$,ee,re,Be,fe=_.length,de=[],Se=[],Ae=[],ue=0,Ve=0;for(I=0;I<fe;++I){if(P=_[I].label,d.font=z=(O=_[I].major?v.major:v.minor).string,W=w[z]=w[z]||{data:{},gc:[]},U=O.lineHeight,X=K=0,wr(P)||yo(P)){if(yo(P))for(A=0,L=P.length;A<L;++A)wr($=P[A])||yo($)||(X=F.measureText(d,W.data,W.gc,X,$),K+=U)}else X=F.measureText(d,W.data,W.gc,X,P),K=U;de.push(X),Se.push(K),Ae.push(U/2),ue=Math.max(X,ue),Ve=Math.max(K,Ve)}function Ge(Qe){return{width:de[Qe]||0,height:Se[Qe]||0,offset:Ae[Qe]||0}}return Be=fe,F.each(w,function(Mt){var ft,yt=Mt.gc,Tt=yt.length/2;if(Tt>Be){for(ft=0;ft<Tt;++ft)delete Mt.data[yt[ft]];yt.splice(0,Tt)}}),ee=de.indexOf(ue),re=Se.indexOf(Ve),{first:Ge(0),last:Ge(fe-1),widest:Ge(ee),highest:Ge(re)}}(d.ctx,$n(d.options.ticks),d.getTicks(),d.longestTextCache),d.longestLabelWidth=v.widest.width),v},_parseValue:function(d){var v,_,w,I;return yo(d)?(v=+this.getRightValue(d[0]),_=+this.getRightValue(d[1]),w=Math.min(v,_),I=Math.max(v,_)):(v=void 0,_=d=+this.getRightValue(d),w=d,I=d),{min:w,max:I,start:v,end:_}},_getScaleLabel:function(d){var v=this._parseValue(d);return void 0!==v.start?"["+v.start+", "+v.end+"]":+this.getRightValue(d)},getLabelForIndex:F.noop,getPixelForValue:F.noop,getValueForPixel:F.noop,getPixelForTick:function(d){var v=this.options.offset,_=this._ticks.length,w=1/Math.max(_-(v?0:1),1);return d<0||d>_-1?null:this.getPixelForDecimal(d*w+(v?w/2:0))},getPixelForDecimal:function(d){return this._reversePixels&&(d=1-d),this._startPixel+d*this._length},getDecimalForPixel:function(d){var v=(d-this._startPixel)/this._length;return this._reversePixels?1-v:v},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var d=this.min,v=this.max;return this.beginAtZero?0:d<0&&v<0?v:d>0&&v>0?d:0},_autoSkip:function(d){var v,_,w,I,A=this.options.ticks,P=A.maxTicksLimit||this._length/this._tickSize()+1,O=A.major.enabled?function(X){var K,$,ee=[];for(K=0,$=X.length;K<$;K++)X[K].major&&ee.push(K);return ee}(d):[],z=O.length,W=O[0],U=O[z-1];if(z>P)return function(X,K,$){var ee,re,fe=0,de=K[0];for($=Math.ceil($),ee=0;ee<X.length;ee++)re=X[ee],ee===de?(re._index=ee,de=K[++fe*$]):delete re.label}(d,O,z/P),Ya(d);if(w=function(X,K,$,ee){var re,fe,de,Se,Ae=function(Ve){var Ge,Qe,Be=Ve.length;if(Be<2)return!1;for(Qe=Ve[0],Ge=1;Ge<Be;++Ge)if(Ve[Ge]-Ve[Ge-1]!==Qe)return!1;return Qe}(X),ue=(K.length-1)/ee;if(!Ae)return Math.max(ue,1);for(de=0,Se=(re=F.math._factorize(Ae)).length-1;de<Se;de++)if((fe=re[de])>ue)return fe;return Math.max(ue,1)}(O,d,0,P),z>0){for(v=0,_=z-1;v<_;v++)Xa(d,w,O[v],O[v+1]);return Xa(d,w,F.isNullOrUndef(I=z>1?(U-W)/(z-1):null)?0:W-I,W),Xa(d,w,U,F.isNullOrUndef(I)?d.length:U+I),Ya(d)}return Xa(d,w),Ya(d)},_tickSize:function(){var d=this.options.ticks,v=F.toRadians(this.labelRotation),_=Math.abs(Math.cos(v)),w=Math.abs(Math.sin(v)),I=this._getLabelSizes(),A=d.autoSkipPadding||0,L=I?I.widest.width+A:0,P=I?I.highest.height+A:0;return this.isHorizontal()?P*_>L*w?L/_:P/w:P*w<L*_?P/_:L/w},_isVisible:function(){var d,v,_,w=this.chart,I=this.options.display;if("auto"!==I)return!!I;for(d=0,v=w.data.datasets.length;d<v;++d)if(w.isDatasetVisible(d)&&((_=w.getDatasetMeta(d)).xAxisID===this.id||_.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(d){var v,_,w,I,A,L,P,O,z,W,U,X,K,$,ee,re,fe,de=this,Se=de.chart,Ae=de.options,ue=Ae.gridLines,Ve=Ae.position,Ge=ue.offsetGridLines,Qe=de.isHorizontal(),Be=de._ticksToDraw,Mt=Be.length+(Ge?1:0),ft=qi(ue),yt=[],Tt=ue.drawBorder?Xn(ue.lineWidth,0,0):0,xt=Tt/2,Et=F._alignPixel,qt=function(on){return Et(Se,on,Tt)};for("top"===Ve?(v=qt(de.bottom),P=de.bottom-ft,z=v-xt,U=qt(d.top)+xt,K=d.bottom):"bottom"===Ve?(v=qt(de.top),U=d.top,K=qt(d.bottom)-xt,P=v+xt,z=de.top+ft):"left"===Ve?(v=qt(de.right),L=de.right-ft,O=v-xt,W=qt(d.left)+xt,X=d.right):(v=qt(de.left),W=d.left,X=qt(d.right)-xt,L=v+xt,O=de.left+ft),_=0;_<Mt;++_)wr((w=Be[_]||{}).label)&&_<Be.length||(_===de.zeroLineIndex&&Ae.offset===Ge?($=ue.zeroLineWidth,ee=ue.zeroLineColor,re=ue.zeroLineBorderDash||[],fe=ue.zeroLineBorderDashOffset||0):($=Xn(ue.lineWidth,_,1),ee=Xn(ue.color,_,"rgba(0,0,0,0.1)"),re=ue.borderDash||[],fe=ue.borderDashOffset||0),void 0!==(I=Ha(de,w._index||_,Ge))&&(A=Et(Se,I,$),Qe?L=O=W=X=A:P=z=U=K=A,yt.push({tx1:L,ty1:P,tx2:O,ty2:z,x1:W,y1:U,x2:X,y2:K,width:$,color:ee,borderDash:re,borderDashOffset:fe})));return yt.ticksLength=Mt,yt.borderValue=v,yt},_computeLabelItems:function(){var d,v,_,w,I,A,L,P,O,z,W,U,X=this,K=X.options,$=K.ticks,ee=K.position,re=$.mirror,fe=X.isHorizontal(),de=X._ticksToDraw,Se=$n($),Ae=$.padding,ue=qi(K.gridLines),Ve=-F.toRadians(X.labelRotation),Ge=[];for("top"===ee?(A=X.bottom-ue-Ae,L=Ve?"left":"center"):"bottom"===ee?(A=X.top+ue+Ae,L=Ve?"right":"center"):"left"===ee?(I=X.right-(re?0:ue)-Ae,L=re?"left":"right"):(I=X.left+(re?0:ue)+Ae,L=re?"right":"left"),d=0,v=de.length;d<v;++d)w=(_=de[d]).label,wr(w)||(P=X.getPixelForTick(_._index||d)+$.labelOffset,z=(O=_.major?Se.major:Se.minor).lineHeight,W=yo(w)?w.length:1,fe?(I=P,U="top"===ee?((Ve?1:.5)-W)*z:(Ve?0:.5)*z):(A=P,U=(1-W)*z/2),Ge.push({x:I,y:A,rotation:Ve,label:w,font:O,textOffset:U,textAlign:L}));return Ge},_drawGrid:function(d){var v=this,_=v.options.gridLines;if(_.display){var w,I,A,L,P,O=v.ctx,z=v.chart,W=F._alignPixel,U=_.drawBorder?Xn(_.lineWidth,0,0):0,X=v._gridLineItems||(v._gridLineItems=v._computeGridLineItems(d));for(A=0,L=X.length;A<L;++A)w=(P=X[A]).width,I=P.color,w&&I&&(O.save(),O.lineWidth=w,O.strokeStyle=I,O.setLineDash&&(O.setLineDash(P.borderDash),O.lineDashOffset=P.borderDashOffset),O.beginPath(),_.drawTicks&&(O.moveTo(P.tx1,P.ty1),O.lineTo(P.tx2,P.ty2)),_.drawOnChartArea&&(O.moveTo(P.x1,P.y1),O.lineTo(P.x2,P.y2)),O.stroke(),O.restore());if(U){var K,$,ee,re,fe=U,de=Xn(_.lineWidth,X.ticksLength-1,1),Se=X.borderValue;v.isHorizontal()?(K=W(z,v.left,fe)-fe/2,$=W(z,v.right,de)+de/2,ee=re=Se):(ee=W(z,v.top,fe)-fe/2,re=W(z,v.bottom,de)+de/2,K=$=Se),O.lineWidth=U,O.strokeStyle=Xn(_.color,0),O.beginPath(),O.moveTo(K,ee),O.lineTo($,re),O.stroke()}}},_drawLabels:function(){var d=this;if(d.options.ticks.display){var v,_,w,I,A,L,P,O,z=d.ctx,W=d._labelItems||(d._labelItems=d._computeLabelItems());for(v=0,w=W.length;v<w;++v){if(L=(A=W[v]).font,z.save(),z.translate(A.x,A.y),z.rotate(A.rotation),z.font=L.string,z.fillStyle=L.color,z.textBaseline="middle",z.textAlign=A.textAlign,O=A.textOffset,yo(P=A.label))for(_=0,I=P.length;_<I;++_)z.fillText(""+P[_],0,O),O+=L.lineHeight;else z.fillText(P,0,O);z.restore()}}},_drawTitle:function(){var d=this,v=d.ctx,_=d.options,w=_.scaleLabel;if(w.display){var I,A,L=Gr(w.fontColor,oe.global.defaultFontColor),P=F.options._parseFont(w),O=F.options.toPadding(w.padding),z=P.lineHeight/2,W=_.position,U=0;if(d.isHorizontal())I=d.left+d.width/2,A="bottom"===W?d.bottom-z-O.bottom:d.top+z+O.top;else{var X="left"===W;I=X?d.left+z+O.top:d.right-z-O.top,A=d.top+d.height/2,U=X?-.5*Math.PI:.5*Math.PI}v.save(),v.translate(I,A),v.rotate(U),v.textAlign="center",v.textBaseline="middle",v.fillStyle=L,v.font=P.string,v.fillText(w.labelString,0,0),v.restore()}},draw:function(d){this._isVisible()&&(this._drawGrid(d),this._drawTitle(),this._drawLabels())},_layers:function(){var d=this,v=d.options,_=v.ticks&&v.ticks.z||0,w=v.gridLines&&v.gridLines.z||0;return d._isVisible()&&_!==w&&d.draw===d._draw?[{z:w,draw:function(){d._drawGrid.apply(d,arguments),d._drawTitle.apply(d,arguments)}},{z:_,draw:function(){d._drawLabels.apply(d,arguments)}}]:[{z:_,draw:function(){d.draw.apply(d,arguments)}}]},_getMatchingVisibleMetas:function(d){var v=this,_=v.isHorizontal();return v.chart._getSortedVisibleDatasetMetas().filter(function(w){return(!d||w.type===d)&&(_?w.xAxisID===v.id:w.yAxisID===v.id)})}});Zo.prototype._draw=Zo.prototype.draw;var Sn=Zo,Rn=F.isNullOrUndef,nl=Sn.extend({determineDataLimits:function(){var d,v=this,_=v._getLabels(),w=v.options.ticks,I=w.min,A=w.max,L=0,P=_.length-1;void 0!==I&&(d=_.indexOf(I))>=0&&(L=d),void 0!==A&&(d=_.indexOf(A))>=0&&(P=d),v.minIndex=L,v.maxIndex=P,v.min=_[L],v.max=_[P]},buildTicks:function(){var d=this._getLabels(),v=this.minIndex,_=this.maxIndex;this.ticks=0===v&&_===d.length-1?d:d.slice(v,_+1)},getLabelForIndex:function(d,v){var _=this.chart;return _.getDatasetMeta(v).controller._getValueScaleId()===this.id?this.getRightValue(_.data.datasets[v].data[d]):this._getLabels()[d]},_configure:function(){var d=this,v=d.options.offset,_=d.ticks;Sn.prototype._configure.call(d),d.isHorizontal()||(d._reversePixels=!d._reversePixels),_&&(d._startValue=d.minIndex-(v?.5:0),d._valueRange=Math.max(_.length-(v?0:1),1))},getPixelForValue:function(d,v,_){var w,I,A,L=this;return Rn(v)||Rn(_)||(d=L.chart.data.datasets[_].data[v]),Rn(d)||(w=L.isHorizontal()?d.x:d.y),(void 0!==w||void 0!==d&&isNaN(v))&&(I=L._getLabels(),d=F.valueOrDefault(w,d),v=-1!==(A=I.indexOf(d))?A:v,isNaN(v)&&(v=d)),L.getPixelForDecimal((v-L._startValue)/L._valueRange)},getPixelForTick:function(d){var v=this.ticks;return d<0||d>v.length-1?null:this.getPixelForValue(v[d],d+this.minIndex)},getValueForPixel:function(d){var v=Math.round(this._startValue+this.getDecimalForPixel(d)*this._valueRange);return Math.min(Math.max(v,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}});nl._defaults={position:"bottom"};var xo=F.isNullOrUndef,qo=Sn.extend({getRightValue:function(d){return"string"==typeof d?+d:Sn.prototype.getRightValue.call(this,d)},handleTickRangeOptions:function(){var d=this,v=d.options.ticks;if(v.beginAtZero){var _=F.sign(d.min),w=F.sign(d.max);_<0&&w<0?d.max=0:_>0&&w>0&&(d.min=0)}var I=void 0!==v.min||void 0!==v.suggestedMin,A=void 0!==v.max||void 0!==v.suggestedMax;void 0!==v.min?d.min=v.min:void 0!==v.suggestedMin&&(d.min=null===d.min?v.suggestedMin:Math.min(d.min,v.suggestedMin)),void 0!==v.max?d.max=v.max:void 0!==v.suggestedMax&&(d.max=null===d.max?v.suggestedMax:Math.max(d.max,v.suggestedMax)),I!==A&&d.min>=d.max&&(I?d.max=d.min+1:d.min=d.max-1),d.min===d.max&&(d.max++,v.beginAtZero||d.min--)},getTickLimit:function(){var d,v=this.options.ticks,_=v.stepSize,w=v.maxTicksLimit;return _?d=Math.ceil(this.max/_)-Math.floor(this.min/_)+1:(d=this._computeTickLimit(),w=w||11),w&&(d=Math.min(w,d)),d},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:F.noop,buildTicks:function(){var d=this,v=d.options.ticks,_=d.getTickLimit(),w={maxTicks:_=Math.max(2,_),min:v.min,max:v.max,precision:v.precision,stepSize:F.valueOrDefault(v.fixedStepSize,v.stepSize)},I=d.ticks=function(A,L){var P,O,z,W,U=[],X=A.stepSize,K=X||1,$=A.maxTicks-1,ee=A.min,re=A.max,fe=A.precision,de=L.min,Se=L.max,Ae=F.niceNum((Se-de)/$/K)*K;if(Ae<1e-14&&xo(ee)&&xo(re))return[de,Se];(W=Math.ceil(Se/Ae)-Math.floor(de/Ae))>$&&(Ae=F.niceNum(W*Ae/$/K)*K),X||xo(fe)?P=Math.pow(10,F._decimalPlaces(Ae)):(P=Math.pow(10,fe),Ae=Math.ceil(Ae*P)/P),O=Math.floor(de/Ae)*Ae,z=Math.ceil(Se/Ae)*Ae,X&&(!xo(ee)&&F.almostWhole(ee/Ae,Ae/1e3)&&(O=ee),!xo(re)&&F.almostWhole(re/Ae,Ae/1e3)&&(z=re)),W=F.almostEquals(W=(z-O)/Ae,Math.round(W),Ae/1e3)?Math.round(W):Math.ceil(W),O=Math.round(O*P)/P,z=Math.round(z*P)/P,U.push(xo(ee)?O:ee);for(var ue=1;ue<W;++ue)U.push(Math.round((O+ue*Ae)*P)/P);return U.push(xo(re)?z:re),U}(w,d);d.handleDirectionalChanges(),d.max=F.max(I),d.min=F.min(I),v.reverse?(I.reverse(),d.start=d.max,d.end=d.min):(d.start=d.min,d.end=d.max)},convertTicksToLabels:function(){var d=this;d.ticksAsNumbers=d.ticks.slice(),d.zeroLineIndex=d.ticks.indexOf(0),Sn.prototype.convertTicksToLabels.call(d)},_configure:function(){var d,v=this,_=v.getTicks(),w=v.min,I=v.max;Sn.prototype._configure.call(v),v.options.offset&&_.length&&(w-=d=(I-w)/Math.max(_.length-1,1)/2,I+=d),v._startValue=w,v._endValue=I,v._valueRange=I-w}}),Mf={position:"left",ticks:{callback:jo.formatters.linear}};function Ko(d,v,_,w){var I,A,U,K,$,L=d.options,P=(void 0===(U=v)[$=[(K=_).type,void 0===L.stacked&&void 0===K.stack?K.index:"",K.stack].join(".")]&&(U[$]={pos:[],neg:[]}),U[$]),O=P.pos,z=P.neg,W=w.length;for(I=0;I<W;++I)A=d._parseValue(w[I]),isNaN(A.min)||isNaN(A.max)||_.data[I].hidden||(O[I]=O[I]||0,z[I]=z[I]||0,L.relativePoints?O[I]=100:A.min<0||A.max<0?z[I]+=A.min:O[I]+=A.max)}function Za(d,v,_){var w,I,A=_.length;for(w=0;w<A;++w)I=d._parseValue(_[w]),isNaN(I.min)||isNaN(I.max)||v.data[w].hidden||(d.min=Math.min(d.min,I.min),d.max=Math.max(d.max,I.max))}var yi=qo.extend({determineDataLimits:function(){var d,v,_,w,I=this,A=I.options,L=I.chart.data.datasets,P=I._getMatchingVisibleMetas(),O=A.stacked,z={},W=P.length;if(I.min=Number.POSITIVE_INFINITY,I.max=Number.NEGATIVE_INFINITY,void 0===O)for(d=0;!O&&d<W;++d)O=void 0!==(v=P[d]).stack;for(d=0;d<W;++d)_=L[(v=P[d]).index].data,O?Ko(I,z,v,_):Za(I,v,_);F.each(z,function(U){w=U.pos.concat(U.neg),I.min=Math.min(I.min,F.min(w)),I.max=Math.max(I.max,F.max(w))}),I.min=F.isFinite(I.min)&&!isNaN(I.min)?I.min:0,I.max=F.isFinite(I.max)&&!isNaN(I.max)?I.max:1,I.handleTickRangeOptions()},_computeTickLimit:function(){var d;return this.isHorizontal()?Math.ceil(this.width/40):(d=F.options._parseFont(this.options.ticks),Math.ceil(this.height/d.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(d,v){return this._getScaleLabel(this.chart.data.datasets[v].data[d])},getPixelForValue:function(d){return this.getPixelForDecimal((+this.getRightValue(d)-this._startValue)/this._valueRange)},getValueForPixel:function(d){return this._startValue+this.getDecimalForPixel(d)*this._valueRange},getPixelForTick:function(d){var v=this.ticksAsNumbers;return d<0||d>v.length-1?null:this.getPixelForValue(v[d])}});yi._defaults=Mf;var Pu=F.valueOrDefault,Nn=F.math.log10,$o={position:"left",ticks:{callback:jo.formatters.logarithmic}};function rl(d,v){return F.isFinite(d)&&d>=0?d:v}var Mr=Sn.extend({determineDataLimits:function(){var d,v,_,w,I,A,L=this,P=L.options,O=L.chart,z=O.data.datasets,W=L.isHorizontal();function U(re){return W?re.xAxisID===L.id:re.yAxisID===L.id}L.min=Number.POSITIVE_INFINITY,L.max=Number.NEGATIVE_INFINITY,L.minNotZero=Number.POSITIVE_INFINITY;var X=P.stacked;if(void 0===X)for(d=0;d<z.length;d++)if(v=O.getDatasetMeta(d),O.isDatasetVisible(d)&&U(v)&&void 0!==v.stack){X=!0;break}if(P.stacked||X){var K={};for(d=0;d<z.length;d++){var $=[(v=O.getDatasetMeta(d)).type,void 0===P.stacked&&void 0===v.stack?d:"",v.stack].join(".");if(O.isDatasetVisible(d)&&U(v))for(void 0===K[$]&&(K[$]=[]),I=0,A=(w=z[d].data).length;I<A;I++){var ee=K[$];_=L._parseValue(w[I]),isNaN(_.min)||isNaN(_.max)||v.data[I].hidden||_.min<0||_.max<0||(ee[I]=ee[I]||0,ee[I]+=_.max)}}F.each(K,function(re){if(re.length>0){var fe=F.min(re),de=F.max(re);L.min=Math.min(L.min,fe),L.max=Math.max(L.max,de)}})}else for(d=0;d<z.length;d++)if(v=O.getDatasetMeta(d),O.isDatasetVisible(d)&&U(v))for(I=0,A=(w=z[d].data).length;I<A;I++)_=L._parseValue(w[I]),isNaN(_.min)||isNaN(_.max)||v.data[I].hidden||_.min<0||_.max<0||(L.min=Math.min(_.min,L.min),L.max=Math.max(_.max,L.max),0!==_.min&&(L.minNotZero=Math.min(_.min,L.minNotZero)));L.min=F.isFinite(L.min)?L.min:null,L.max=F.isFinite(L.max)?L.max:null,L.minNotZero=F.isFinite(L.minNotZero)?L.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var d=this,v=d.options.ticks;d.min=rl(v.min,d.min),d.max=rl(v.max,d.max),d.min===d.max&&(0!==d.min&&null!==d.min?(d.min=Math.pow(10,Math.floor(Nn(d.min))-1),d.max=Math.pow(10,Math.floor(Nn(d.max))+1)):(d.min=1,d.max=10)),null===d.min&&(d.min=Math.pow(10,Math.floor(Nn(d.max))-1)),null===d.max&&(d.max=0!==d.min?Math.pow(10,Math.floor(Nn(d.min))+1):10),null===d.minNotZero&&(d.minNotZero=d.min>0?d.min:d.max<1?Math.pow(10,Math.floor(Nn(d.max))):1)},buildTicks:function(){var d=this,v=d.options.ticks,_=!d.isHorizontal(),w={min:rl(v.min),max:rl(v.max)},I=d.ticks=function(A,L){var P,O,z=[],W=Pu(A.min,Math.pow(10,Math.floor(Nn(L.min)))),U=Math.floor(Nn(L.max)),X=Math.ceil(L.max/Math.pow(10,U));0===W?(P=Math.floor(Nn(L.minNotZero)),O=Math.floor(L.minNotZero/Math.pow(10,P)),z.push(W),W=O*Math.pow(10,P)):(P=Math.floor(Nn(W)),O=Math.floor(W/Math.pow(10,P)));var K=P<0?Math.pow(10,Math.abs(P)):1;do{z.push(W),10==++O&&(O=1,K=++P>=0?1:K),W=Math.round(O*Math.pow(10,P)*K)/K}while(P<U||P===U&&O<X);var $=Pu(A.max,W);return z.push($),z}(w,d);d.max=F.max(I),d.min=F.min(I),v.reverse?(_=!_,d.start=d.max,d.end=d.min):(d.start=d.min,d.end=d.max),_&&I.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Sn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(d,v){return this._getScaleLabel(this.chart.data.datasets[v].data[d])},getPixelForTick:function(d){var v=this.tickValues;return d<0||d>v.length-1?null:this.getPixelForValue(v[d])},_getFirstTickValue:function(d){var v=Math.floor(Nn(d));return Math.floor(d/Math.pow(10,v))*Math.pow(10,v)},_configure:function(){var d=this,v=d.min,_=0;Sn.prototype._configure.call(d),0===v&&(v=d._getFirstTickValue(d.minNotZero),_=Pu(d.options.ticks.fontSize,oe.global.defaultFontSize)/d._length),d._startValue=Nn(v),d._valueOffset=_,d._valueRange=(Nn(d.max)-Nn(v))/(1-_)},getPixelForValue:function(d){var v=this,_=0;return(d=+v.getRightValue(d))>v.min&&d>0&&(_=(Nn(d)-v._startValue)/v._valueRange+v._valueOffset),v.getPixelForDecimal(_)},getValueForPixel:function(d){var v=this,_=v.getDecimalForPixel(d);return 0===_&&0===v.min?0:Math.pow(10,v._startValue+(_-v._valueOffset)*v._valueRange)}});Mr._defaults=$o;var Jo=F.valueOrDefault,Ou=F.valueAtIndexOrDefault,Ru=F.options.resolve,Rc={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:jo.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(d){return d}}};function al(d){var v=d.ticks;return v.display&&d.display?Jo(v.fontSize,oe.global.defaultFontSize)+2*v.backdropPaddingY:0}function Ka(d,v,_,w,I){return d===w||d===I?{start:v-_/2,end:v+_/2}:d<w||d>I?{start:v-_,end:v}:{start:v,end:v+_}}function Nc(d){return 0===d||180===d?"center":d<180?"left":"right"}function Ec(d,v,_,w){var I,A,L=_.y+w/2;if(F.isArray(v))for(I=0,A=v.length;I<A;++I)d.fillText(v[I],_.x,L),L+=w;else d.fillText(v,_.x,L)}function If(d,v,_){90===d||270===d?_.y-=v.h/2:(d>270||d<90)&&(_.y-=v.h)}function Qo(d){return F.isNumber(d)?d:0}var Ki=qo.extend({setDimensions:function(){var d=this;d.width=d.maxWidth,d.height=d.maxHeight,d.paddingTop=al(d.options)/2,d.xCenter=Math.floor(d.width/2),d.yCenter=Math.floor((d.height-d.paddingTop)/2),d.drawingArea=Math.min(d.height-d.paddingTop,d.width)/2},determineDataLimits:function(){var d=this,v=d.chart,_=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY;F.each(v.data.datasets,function(I,A){if(v.isDatasetVisible(A)){var L=v.getDatasetMeta(A);F.each(I.data,function(P,O){var z=+d.getRightValue(P);isNaN(z)||L.data[O].hidden||(_=Math.min(z,_),w=Math.max(z,w))})}}),d.min=_===Number.POSITIVE_INFINITY?0:_,d.max=w===Number.NEGATIVE_INFINITY?0:w,d.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/al(this.options))},convertTicksToLabels:function(){var d=this;qo.prototype.convertTicksToLabels.call(d),d.pointLabels=d.chart.data.labels.map(function(){var v=F.callback(d.options.pointLabels.callback,arguments,d);return v||0===v?v:""})},getLabelForIndex:function(d,v){return+this.getRightValue(this.chart.data.datasets[v].data[d])},fit:function(){var d=this.options;d.display&&d.pointLabels.display?function(v){var _,w,I,A=F.options._parseFont(v.options.pointLabels),L={l:0,r:v.width,t:0,b:v.height-v.paddingTop},P={};v.ctx.font=A.string,v._pointLabelSizes=[];var O,z,W,U=v.chart.data.labels.length;for(_=0;_<U;_++){I=v.getPointPosition(_,v.drawingArea+5),O=v.ctx,z=A.lineHeight,w=F.isArray(W=v.pointLabels[_])?{w:F.longestText(O,O.font,W),h:W.length*z}:{w:O.measureText(W).width,h:z},v._pointLabelSizes[_]=w;var X=v.getIndexAngle(_),K=F.toDegrees(X)%360,$=Ka(K,I.x,w.w,0,180),ee=Ka(K,I.y,w.h,90,270);$.start<L.l&&(L.l=$.start,P.l=X),$.end>L.r&&(L.r=$.end,P.r=X),ee.start<L.t&&(L.t=ee.start,P.t=X),ee.end>L.b&&(L.b=ee.end,P.b=X)}v.setReductions(v.drawingArea,L,P)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(d,v,_){var w=this,I=v.l/Math.sin(_.l),A=Math.max(v.r-w.width,0)/Math.sin(_.r),L=-v.t/Math.cos(_.t),P=-Math.max(v.b-(w.height-w.paddingTop),0)/Math.cos(_.b);I=Qo(I),A=Qo(A),L=Qo(L),P=Qo(P),w.drawingArea=Math.min(Math.floor(d-(I+A)/2),Math.floor(d-(L+P)/2)),w.setCenterPoint(I,A,L,P)},setCenterPoint:function(d,v,_,w){var I=this,P=_+I.drawingArea,O=I.height-I.paddingTop-w-I.drawingArea;I.xCenter=Math.floor((d+I.drawingArea+(I.width-v-I.drawingArea))/2+I.left),I.yCenter=Math.floor((P+O)/2+I.top+I.paddingTop)},getIndexAngle:function(d){var v=this.chart,_=(d*(360/v.data.labels.length)+((v.options||{}).startAngle||0))%360;return(_<0?_+360:_)*Math.PI*2/360},getDistanceFromCenterForValue:function(d){var v=this;if(F.isNullOrUndef(d))return NaN;var _=v.drawingArea/(v.max-v.min);return v.options.ticks.reverse?(v.max-d)*_:(d-v.min)*_},getPointPosition:function(d,v){var _=this.getIndexAngle(d)-Math.PI/2;return{x:Math.cos(_)*v+this.xCenter,y:Math.sin(_)*v+this.yCenter}},getPointPositionForValue:function(d,v){return this.getPointPosition(d,this.getDistanceFromCenterForValue(v))},getBasePosition:function(d){var v=this.min,_=this.max;return this.getPointPositionForValue(d||0,this.beginAtZero?0:v<0&&_<0?_:v>0&&_>0?v:0)},_drawGrid:function(){var d,v,_,w=this,I=w.ctx,A=w.options,L=A.gridLines,P=A.angleLines,O=Jo(P.lineWidth,L.lineWidth),z=Jo(P.color,L.color);if(A.pointLabels.display&&function(W){var U=W.ctx,X=W.options,K=X.pointLabels,$=al(X),ee=W.getDistanceFromCenterForValue(X.ticks.reverse?W.min:W.max),re=F.options._parseFont(K);U.save(),U.font=re.string,U.textBaseline="middle";for(var fe=W.chart.data.labels.length-1;fe>=0;fe--){var Se=W.getPointPosition(fe,ee+(0===fe?$/2:0)+5),Ae=Ou(K.fontColor,fe,oe.global.defaultFontColor);U.fillStyle=Ae;var ue=W.getIndexAngle(fe),Ve=F.toDegrees(ue);U.textAlign=Nc(Ve),If(Ve,W._pointLabelSizes[fe],Se),Ec(U,W.pointLabels[fe],Se,re.lineHeight)}U.restore()}(w),L.display&&F.each(w.ticks,function(W,U){0!==U&&(v=w.getDistanceFromCenterForValue(w.ticksAsNumbers[U]),function(X,K,$,ee){var re,fe=X.ctx,de=K.circular,Se=X.chart.data.labels.length,Ae=Ou(K.color,ee-1),ue=Ou(K.lineWidth,ee-1);if((de||Se)&&Ae&&ue){if(fe.save(),fe.strokeStyle=Ae,fe.lineWidth=ue,fe.setLineDash&&(fe.setLineDash(K.borderDash||[]),fe.lineDashOffset=K.borderDashOffset||0),fe.beginPath(),de)fe.arc(X.xCenter,X.yCenter,$,0,2*Math.PI);else{re=X.getPointPosition(0,$),fe.moveTo(re.x,re.y);for(var Ve=1;Ve<Se;Ve++)re=X.getPointPosition(Ve,$),fe.lineTo(re.x,re.y)}fe.closePath(),fe.stroke(),fe.restore()}}(w,L,v,U))}),P.display&&O&&z){for(I.save(),I.lineWidth=O,I.strokeStyle=z,I.setLineDash&&(I.setLineDash(Ru([P.borderDash,L.borderDash,[]])),I.lineDashOffset=Ru([P.borderDashOffset,L.borderDashOffset,0])),d=w.chart.data.labels.length-1;d>=0;d--)v=w.getDistanceFromCenterForValue(A.ticks.reverse?w.min:w.max),_=w.getPointPosition(d,v),I.beginPath(),I.moveTo(w.xCenter,w.yCenter),I.lineTo(_.x,_.y),I.stroke();I.restore()}},_drawLabels:function(){var d=this,v=d.ctx,_=d.options.ticks;if(_.display){var w,I,A=d.getIndexAngle(0),L=F.options._parseFont(_),P=Jo(_.fontColor,oe.global.defaultFontColor);v.save(),v.font=L.string,v.translate(d.xCenter,d.yCenter),v.rotate(A),v.textAlign="center",v.textBaseline="middle",F.each(d.ticks,function(O,z){(0!==z||_.reverse)&&(w=d.getDistanceFromCenterForValue(d.ticksAsNumbers[z]),_.showLabelBackdrop&&(I=v.measureText(O).width,v.fillStyle=_.backdropColor,v.fillRect(-I/2-_.backdropPaddingX,-w-L.size/2-_.backdropPaddingY,I+2*_.backdropPaddingX,L.size+2*_.backdropPaddingY)),v.fillStyle=P,v.fillText(O,0,-w))}),v.restore()}},_drawTitle:F.noop});Ki._defaults=Rc;var ea=F._deprecated,Eu=F.options.resolve,Cf=F.valueOrDefault,zc=Number.MIN_SAFE_INTEGER||-9007199254740991,_o=Number.MAX_SAFE_INTEGER||9007199254740991,bo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zn=Object.keys(bo);function $a(d,v){return d-v}function ta(d){return F.valueOrDefault(d.time.min,d.ticks.min)}function Bc(d){return F.valueOrDefault(d.time.max,d.ticks.max)}function Hr(d,v,_,w){var I=function(W,U,X){for(var K,$,ee,re=0,fe=W.length-1;re>=0&&re<=fe;){if($=W[(K=re+fe>>1)-1]||null,ee=W[K],!$)return{lo:null,hi:ee};if(ee[U]<X)re=K+1;else{if(!($[U]>X))return{lo:$,hi:ee};fe=K-1}}return{lo:ee,hi:null}}(d,v,_),A=I.lo?I.hi?I.lo:d[d.length-2]:d[0],L=I.lo?I.hi?I.hi:d[d.length-1]:d[1],P=L[v]-A[v];return A[w]+(L[w]-A[w])*(P?(_-A[v])/P:0)}function Ur(d,v){var _=d._adapter,w=d.options.time,I=w.parser,A=I||w.format,L=v;return"function"==typeof I&&(L=I(L)),F.isFinite(L)||(L="string"==typeof A?_.parse(L,A):_.parse(L)),null!==L?+L:(I||"function"!=typeof A||(L=A(v),F.isFinite(L)||(L=_.parse(L))),L)}function Yr(d,v){if(F.isNullOrUndef(v))return null;var _=d.options.time,w=Ur(d,d.getRightValue(v));return null===w||_.round&&(w=+d._adapter.startOf(w,_.round)),w}function zu(d,v,_,w){var I,A,L,P=Zn.length;for(I=Zn.indexOf(d);I<P-1;++I)if(L=(A=bo[Zn[I]]).steps?A.steps:_o,A.common&&Math.ceil((_-v)/(L*A.size))<=w)return Zn[I];return Zn[P-1]}function Vc(d,v,_){var w,I,A=[],L={},P=v.length;for(w=0;w<P;++w)L[I=v[w]]=w,A.push({value:I,major:!1});return 0!==P&&_?function(O,z,W,U){var X,K,$=O._adapter,ee=+$.startOf(z[0].value,U),re=z[z.length-1].value;for(X=ee;X<=re;X=+$.add(X,1,U))(K=W[X])>=0&&(z[K].major=!0);return z}(d,A,L,_):A}var sl=Sn.extend({initialize:function(){this.mergeTicksOptions(),Sn.prototype.initialize.call(this)},update:function(){var d=this,v=d.options,_=v.time||(v.time={}),w=d._adapter=new ku._date(v.adapters.date);return ea("time scale",_.format,"time.format","time.parser"),ea("time scale",_.min,"time.min","ticks.min"),ea("time scale",_.max,"time.max","ticks.max"),F.mergeIf(_.displayFormats,w.formats()),Sn.prototype.update.apply(d,arguments)},getRightValue:function(d){return d&&void 0!==d.t&&(d=d.t),Sn.prototype.getRightValue.call(this,d)},determineDataLimits:function(){var d,v,_,w,I,A,L,P=this,O=P.chart,z=P._adapter,W=P.options,U=W.time.unit||"day",X=_o,K=zc,$=[],ee=[],re=[],fe=P._getLabels();for(d=0,_=fe.length;d<_;++d)re.push(Yr(P,fe[d]));for(d=0,_=(O.data.datasets||[]).length;d<_;++d)if(O.isDatasetVisible(d))if(F.isObject((I=O.data.datasets[d].data)[0]))for(ee[d]=[],v=0,w=I.length;v<w;++v)A=Yr(P,I[v]),$.push(A),ee[d][v]=A;else ee[d]=re.slice(0),L||($=$.concat(re),L=!0);else ee[d]=[];re.length&&(X=Math.min(X,re[0]),K=Math.max(K,re[re.length-1])),$.length&&($=_>1?function(de){var Se,Ae,ue,Ve={},Ge=[];for(Se=0,Ae=de.length;Se<Ae;++Se)Ve[ue=de[Se]]||(Ve[ue]=!0,Ge.push(ue));return Ge}($).sort($a):$.sort($a),X=Math.min(X,$[0]),K=Math.max(K,$[$.length-1])),X=Yr(P,ta(W))||X,K=Yr(P,Bc(W))||K,X=X===_o?+z.startOf(Date.now(),U):X,K=K===zc?+z.endOf(Date.now(),U)+1:K,P.min=Math.min(X,K),P.max=Math.max(X+1,K),P._table=[],P._timestamps={data:$,datasets:ee,labels:re}},buildTicks:function(){var d,v,_,$,ee,Se,Ae,ue,Ve,w=this,I=w.min,A=w.max,L=w.options,P=L.ticks,O=L.time,z=w._timestamps,W=[],U=w.getLabelCapacity(I),X=P.source,K=L.distribution;for(z="data"===X||"auto"===X&&"series"===K?z.data:"labels"===X?z.labels:function($,ee,re,fe){var de,Se=$._adapter,Ae=$.options,ue=Ae.time,Ve=ue.unit||zu(ue.minUnit,ee,re,fe),Ge=Eu([ue.stepSize,ue.unitStepSize,1]),Qe="week"===Ve&&ue.isoWeekday,Be=ee,Mt=[];if(Qe&&(Be=+Se.startOf(Be,"isoWeek",Qe)),Be=+Se.startOf(Be,Qe?"day":Ve),Se.diff(re,ee,Ve)>1e5*Ge)throw ee+" and "+re+" are too far apart with stepSize of "+Ge+" "+Ve;for(de=Be;de<re;de=+Se.add(de,Ge,Ve))Mt.push(de);return de!==re&&"ticks"!==Ae.bounds||Mt.push(de),Mt}(w,I,A,U),"ticks"===L.bounds&&z.length&&(I=z[0],A=z[z.length-1]),I=Yr(w,ta(L))||I,A=Yr(w,Bc(L))||A,d=0,v=z.length;d<v;++d)(_=z[d])>=I&&_<=A&&W.push(_);return w.min=I,w.max=A,w._unit=O.unit||(P.autoSkip?zu(O.minUnit,w.min,w.max,U):function($,ee,re,fe,de){var Se,Ae;for(Se=Zn.length-1;Se>=Zn.indexOf(re);Se--)if(bo[Ae=Zn[Se]].common&&$._adapter.diff(de,fe,Ae)>=ee-1)return Ae;return Zn[re?Zn.indexOf(re):0]}(w,W.length,O.minUnit,w.min,w.max)),w._majorUnit=P.major.enabled&&"year"!==w._unit?function($){for(var ee=Zn.indexOf($)+1,re=Zn.length;ee<re;++ee)if(bo[Zn[ee]].common)return Zn[ee]}(w._unit):void 0,w._table=function($,ee,re,fe){if("linear"===fe||!$.length)return[{time:ee,pos:0},{time:re,pos:1}];var de,Se,Ae,ue,Ve,Ge=[],Qe=[ee];for(de=0,Se=$.length;de<Se;++de)(ue=$[de])>ee&&ue<re&&Qe.push(ue);for(Qe.push(re),de=0,Se=Qe.length;de<Se;++de)Ve=Qe[de+1],ue=Qe[de],void 0!==(Ae=Qe[de-1])&&void 0!==Ve&&Math.round((Ve+Ae)/2)===ue||Ge.push({time:ue,pos:de/(Se-1)});return Ge}(w._timestamps.data,I,A,K),w._offsets=($=w._table,ee=W,ue=0,Ve=0,L.offset&&ee.length&&(Se=Hr($,"time",ee[0],"pos"),ue=1===ee.length?1-Se:(Hr($,"time",ee[1],"pos")-Se)/2,Ae=Hr($,"time",ee[ee.length-1],"pos"),Ve=1===ee.length?Ae:(Ae-Hr($,"time",ee[ee.length-2],"pos"))/2),{start:ue,end:Ve,factor:1/(ue+1+Ve)}),P.reverse&&W.reverse(),Vc(w,W,w._majorUnit)},getLabelForIndex:function(d,v){var _=this,w=_._adapter,I=_.chart.data,A=_.options.time,L=I.labels&&d<I.labels.length?I.labels[d]:"",P=I.datasets[v].data[d];return F.isObject(P)&&(L=_.getRightValue(P)),A.tooltipFormat?w.format(Ur(_,L),A.tooltipFormat):"string"==typeof L?L:w.format(Ur(_,L),A.displayFormats.datetime)},tickFormatFunction:function(d,v,_,w){var A=this.options,L=A.time.displayFormats,O=this._majorUnit,z=L[O],W=_[v],U=A.ticks,X=O&&z&&W&&W.major,K=this._adapter.format(d,w||(X?z:L[this._unit])),$=X?U.major:U.minor,ee=Eu([$.callback,$.userCallback,U.callback,U.userCallback]);return ee?ee(K,v,_):K},convertTicksToLabels:function(d){var v,_,w=[];for(v=0,_=d.length;v<_;++v)w.push(this.tickFormatFunction(d[v].value,v,d));return w},getPixelForOffset:function(d){var v=this._offsets,_=Hr(this._table,"time",d,"pos");return this.getPixelForDecimal((v.start+_)*v.factor)},getPixelForValue:function(d,v,_){var w=null;if(void 0!==v&&void 0!==_&&(w=this._timestamps.datasets[_][v]),null===w&&(w=Yr(this,d)),null!==w)return this.getPixelForOffset(w)},getPixelForTick:function(d){var v=this.getTicks();return d>=0&&d<v.length?this.getPixelForOffset(v[d].value):null},getValueForPixel:function(d){var v=this._offsets,_=this.getDecimalForPixel(d)/v.factor-v.end,w=Hr(this._table,"pos",_,"time");return this._adapter._create(w)},_getLabelSize:function(d){var v=this.options.ticks,_=this.ctx.measureText(d).width,w=F.toRadians(this.isHorizontal()?v.maxRotation:v.minRotation),I=Math.cos(w),A=Math.sin(w),L=Cf(v.fontSize,oe.global.defaultFontSize);return{w:_*I+L*A,h:_*A+L*I}},getLabelWidth:function(d){return this._getLabelSize(d).w},getLabelCapacity:function(d){var v=this,_=v.options.time,w=_.displayFormats,I=w[_.unit]||w.millisecond,A=v.tickFormatFunction(d,0,Vc(v,[d],v._majorUnit),I),L=v._getLabelSize(A),P=Math.floor(v.isHorizontal()?v.width/L.w:v.height/L.h);return v.options.offset&&P--,P>0?P:1}});sl._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var Tf={category:nl,linear:yi,logarithmic:Mr,radialLinear:Ki,time:sl},Df={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};ku._date.override("function"==typeof ke?{_id:"moment",formats:function(){return Df},parse:function(d,v){return"string"==typeof d&&"string"==typeof v?d=ke(d,v):d instanceof ke||(d=ke(d)),d.isValid()?d.valueOf():null},format:function(d,v){return ke(d).format(v)},add:function(d,v,_){return ke(d).add(v,_).valueOf()},diff:function(d,v,_){return ke(d).diff(ke(v),_)},startOf:function(d,v,_){return d=ke(d),"isoWeek"===v?d.isoWeekday(_).valueOf():d.startOf(v).valueOf()},endOf:function(d,v){return ke(d).endOf(v).valueOf()},_create:function(d){return ke(d)}}:{}),oe._set("global",{plugins:{filler:{propagate:!0}}});var Fc={dataset:function(d){var v=d.fill,_=d.chart,w=_.getDatasetMeta(v),I=w&&_.isDatasetVisible(v)&&w.dataset._children||[],A=I.length||0;return A?function(L,P){return P<A&&I[P]._view||null}:null},boundary:function(d){var v=d.boundary,_=v?v.x:null,w=v?v.y:null;return F.isArray(v)?function(I,A){return v[A]}:function(I){return{x:null===_?I.x:_,y:null===w?I.y:w}}}};function Vu(d,v,_){var w,I=d._model||{},A=I.fill;if(void 0===A&&(A=!!I.backgroundColor),!1===A||null===A)return!1;if(!0===A)return"origin";if(w=parseFloat(A,10),isFinite(w)&&Math.floor(w)===w)return"-"!==A[0]&&"+"!==A[0]||(w=v+w),!(w===v||w<0||w>=_)&&w;switch(A){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return A;default:return!1}}function Fu(d){return(d.el._scale||{}).getPointPositionForValue?function(v){var _,w,I,A,L,P=v.el._scale,O=P.options,z=P.chart.data.labels.length,W=v.fill,U=[];if(!z)return null;for(w=O.ticks.reverse?P.min:P.max,I=P.getPointPositionForValue(0,_=O.ticks.reverse?P.max:P.min),A=0;A<z;++A)L="start"===W||"end"===W?P.getPointPositionForValue(A,"start"===W?_:w):P.getBasePosition(A),O.gridLines.circular&&(L.cx=I.x,L.cy=I.y,L.angle=P.getIndexAngle(A)-Math.PI/2),U.push(L);return U}(d):function(v){var _,w=v.el._model||{},I=v.el._scale||{},A=v.fill,L=null;if(isFinite(A))return null;if("start"===A?L=void 0===w.scaleBottom?I.bottom:w.scaleBottom:"end"===A?L=void 0===w.scaleTop?I.top:w.scaleTop:void 0!==w.scaleZero?L=w.scaleZero:I.getBasePixel&&(L=I.getBasePixel()),null!=L){if(void 0!==L.x&&void 0!==L.y)return L;if(F.isFinite(L))return{x:(_=I.isHorizontal())?L:null,y:_?null:L}}return null}(d)}function Wc(d,v,_){var w,I=d[v].fill,A=[v];if(!_)return I;for(;!1!==I&&-1===A.indexOf(I);){if(!isFinite(I))return I;if(!(w=d[I]))return!1;if(w.visible)return I;A.push(I),I=w.fill}return!1}function Af(d){var v=d.fill,_="dataset";return!1===v?null:(isFinite(v)||(_="boundary"),Fc[_](d))}function xi(d){return d&&!d.skip}function ll(d,v,_,w,I){var A,L,P,O;if(w&&I){for(d.moveTo(v[0].x,v[0].y),A=1;A<w;++A)F.canvas.lineTo(d,v[A-1],v[A]);if(void 0===_[0].angle)for(d.lineTo(_[I-1].x,_[I-1].y),A=I-1;A>0;--A)F.canvas.lineTo(d,_[A],_[A-1],!0);else for(L=_[0].cx,P=_[0].cy,O=Math.sqrt(Math.pow(_[0].x-L,2)+Math.pow(_[0].y-P,2)),A=I-1;A>0;--A)d.arc(L,P,O,_[A].angle,_[A-1].angle,!0)}}function kf(d,v,_,w,I,A){var L,P,O,z,W,U,X,K,$=v.length,ee=w.spanGaps,re=[],fe=[],de=0,Se=0;for(d.beginPath(),L=0,P=$;L<P;++L)W=_(z=v[O=L%$]._view,O,w),U=xi(z),X=xi(W),A&&void 0===K&&U&&(P=$+(K=L+1)),U&&X?(de=re.push(z),Se=fe.push(W)):de&&Se&&(ee?(U&&re.push(z),X&&fe.push(W)):(ll(d,re,fe,de,Se),de=Se=0,re=[],fe=[]));ll(d,re,fe,de,Se),d.closePath(),d.fillStyle=I,d.fill()}var Lf={id:"filler",afterDatasetsUpdate:function(d,v){var _,w,I,A,L=(d.data.datasets||[]).length,P=v.propagate,O=[];for(w=0;w<L;++w)A=null,(I=(_=d.getDatasetMeta(w)).dataset)&&I._model&&I instanceof sn.Line&&(A={visible:d.isDatasetVisible(w),fill:Vu(I,w,L),chart:d,el:I}),_.$filler=A,O.push(A);for(w=0;w<L;++w)(A=O[w])&&(A.fill=Wc(O,w,P),A.boundary=Fu(A),A.mapper=Af(A))},beforeDatasetsDraw:function(d){var v,_,w,I,A,L,P,O=d._getSortedVisibleDatasetMetas(),z=d.ctx;for(_=O.length-1;_>=0;--_)(v=O[_].$filler)&&v.visible&&(I=(w=v.el)._view,A=w._children||[],P=I.backgroundColor||oe.global.defaultColor,(L=v.mapper)&&P&&A.length&&(F.canvas.clipArea(z,d.chartArea),kf(z,A,L,I,P,w._loop),F.canvas.unclipArea(z)))}},ul=F.rtl.getRtlAdapter,$i=F.noop,Ir=F.valueOrDefault;function Wu(d,v){return d.usePointStyle&&d.boxWidth>v?v:d.boxWidth}oe._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(d,v){var _=v.datasetIndex,w=this.chart,I=w.getDatasetMeta(_);I.hidden=null===I.hidden?!w.data.datasets[_].hidden:null,w.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(d){var v=d.data.datasets,_=d.options.legend||{},w=_.labels&&_.labels.usePointStyle;return d._getSortedDatasetMetas().map(function(I){var A=I.controller.getStyle(w?0:void 0);return{text:v[I.index].label,fillStyle:A.backgroundColor,hidden:!d.isDatasetVisible(I.index),lineCap:A.borderCapStyle,lineDash:A.borderDash,lineDashOffset:A.borderDashOffset,lineJoin:A.borderJoinStyle,lineWidth:A.borderWidth,strokeStyle:A.borderColor,pointStyle:A.pointStyle,rotation:A.rotation,datasetIndex:I.index}},this)}}},legendCallback:function(d){var v,_,w,I=document.createElement("ul"),A=d.data.datasets;for(I.setAttribute("class",d.id+"-legend"),v=0,_=A.length;v<_;v++)(w=I.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=A[v].backgroundColor,A[v].label&&w.appendChild(document.createTextNode(A[v].label));return I.outerHTML}});var Gu=Oe.extend({initialize:function(d){F.extend(this,d),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:$i,update:function(d,v,_){var w=this;return w.beforeUpdate(),w.maxWidth=d,w.maxHeight=v,w.margins=_,w.beforeSetDimensions(),w.setDimensions(),w.afterSetDimensions(),w.beforeBuildLabels(),w.buildLabels(),w.afterBuildLabels(),w.beforeFit(),w.fit(),w.afterFit(),w.afterUpdate(),w.minSize},afterUpdate:$i,beforeSetDimensions:$i,setDimensions:function(){var d=this;d.isHorizontal()?(d.width=d.maxWidth,d.left=0,d.right=d.width):(d.height=d.maxHeight,d.top=0,d.bottom=d.height),d.paddingLeft=0,d.paddingTop=0,d.paddingRight=0,d.paddingBottom=0,d.minSize={width:0,height:0}},afterSetDimensions:$i,beforeBuildLabels:$i,buildLabels:function(){var d=this,v=d.options.labels||{},_=F.callback(v.generateLabels,[d.chart],d)||[];v.filter&&(_=_.filter(function(w){return v.filter(w,d.chart.data)})),d.options.reverse&&_.reverse(),d.legendItems=_},afterBuildLabels:$i,beforeFit:$i,fit:function(){var d=this,v=d.options,_=v.labels,w=v.display,I=d.ctx,A=F.options._parseFont(_),L=A.size,P=d.legendHitBoxes=[],O=d.minSize,z=d.isHorizontal();if(z?(O.width=d.maxWidth,O.height=w?10:0):(O.width=w?10:0,O.height=d.maxHeight),w){if(I.font=A.string,z){var W=d.lineWidths=[0],U=0;I.textAlign="left",I.textBaseline="middle",F.each(d.legendItems,function(de,Se){var Ae=Wu(_,L)+L/2+I.measureText(de.text).width;(0===Se||W[W.length-1]+Ae+2*_.padding>O.width)&&(U+=L+_.padding,W[W.length-(Se>0?0:1)]=0),P[Se]={left:0,top:0,width:Ae,height:L},W[W.length-1]+=Ae+_.padding}),O.height+=U}else{var X=_.padding,K=d.columnWidths=[],$=d.columnHeights=[],ee=_.padding,re=0,fe=0;F.each(d.legendItems,function(de,Se){var Ae=Wu(_,L)+L/2+I.measureText(de.text).width;Se>0&&fe+L+2*X>O.height&&(ee+=re+_.padding,K.push(re),$.push(fe),re=0,fe=0),re=Math.max(re,Ae),fe+=L+X,P[Se]={left:0,top:0,width:Ae,height:L}}),ee+=re,K.push(re),$.push(fe),O.width+=ee}d.width=O.width,d.height=O.height}else d.width=O.width=d.height=O.height=0},afterFit:$i,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var d=this,v=d.options,_=v.labels,w=oe.global,I=w.defaultColor,A=w.elements.line,L=d.height,P=d.columnHeights,O=d.width,z=d.lineWidths;if(v.display){var W,U=ul(v.rtl,d.left,d.minSize.width),X=d.ctx,K=Ir(_.fontColor,w.defaultFontColor),$=F.options._parseFont(_),ee=$.size;X.textAlign=U.textAlign("left"),X.textBaseline="middle",X.lineWidth=.5,X.strokeStyle=K,X.fillStyle=K,X.font=$.string;var re=Wu(_,ee),fe=d.legendHitBoxes,de=function(ue,Ve){switch(v.align){case"start":return _.padding;case"end":return ue-Ve;default:return(ue-Ve+_.padding)/2}},Se=d.isHorizontal();W=Se?{x:d.left+de(O,z[0]),y:d.top+_.padding,line:0}:{x:d.left+_.padding,y:d.top+de(L,P[0]),line:0},F.rtl.overrideTextDirection(d.ctx,v.textDirection);var Ae=ee+_.padding;F.each(d.legendItems,function(ue,Ve){var Ge=X.measureText(ue.text).width,Qe=re+ee/2+Ge,Be=W.x,Mt=W.y;U.setWidth(d.minSize.width),Se?Ve>0&&Be+Qe+_.padding>d.left+d.minSize.width&&(Mt=W.y+=Ae,W.line++,Be=W.x=d.left+de(O,z[W.line])):Ve>0&&Mt+Ae>d.top+d.minSize.height&&(Be=W.x=Be+d.columnWidths[W.line]+_.padding,W.line++,Mt=W.y=d.top+de(L,P[W.line]));var Tt,xt,Et,qt,on,Qt,ft=U.x(Be);(function(yt,Tt,xt){if(!(isNaN(re)||re<=0)){X.save();var Et=Ir(xt.lineWidth,A.borderWidth);if(X.fillStyle=Ir(xt.fillStyle,I),X.lineCap=Ir(xt.lineCap,A.borderCapStyle),X.lineDashOffset=Ir(xt.lineDashOffset,A.borderDashOffset),X.lineJoin=Ir(xt.lineJoin,A.borderJoinStyle),X.lineWidth=Et,X.strokeStyle=Ir(xt.strokeStyle,I),X.setLineDash&&X.setLineDash(Ir(xt.lineDash,A.borderDash)),_&&_.usePointStyle){var qt=re*Math.SQRT2/2,on=U.xPlus(yt,re/2);F.canvas.drawPoint(X,xt.pointStyle,qt,on,Tt+ee/2,xt.rotation)}else X.fillRect(U.leftForLtr(yt,re),Tt,re,ee),0!==Et&&X.strokeRect(U.leftForLtr(yt,re),Tt,re,ee);X.restore()}})(ft,Mt,ue),fe[Ve].left=U.leftForLtr(ft,fe[Ve].width),fe[Ve].top=Mt,Tt=Mt,xt=ue,Et=Ge,on=U.xPlus(ft,re+(qt=ee/2)),X.fillText(xt.text,on,Qt=Tt+qt),xt.hidden&&(X.beginPath(),X.lineWidth=2,X.moveTo(on,Qt),X.lineTo(U.xPlus(on,Et),Qt),X.stroke()),Se?W.x+=Qe+_.padding:W.y+=Ae}),F.rtl.restoreTextDirection(d.ctx,v.textDirection)}},_getLegendItemAt:function(d,v){var _,w,I,A=this;if(d>=A.left&&d<=A.right&&v>=A.top&&v<=A.bottom)for(I=A.legendHitBoxes,_=0;_<I.length;++_)if(d>=(w=I[_]).left&&d<=w.left+w.width&&v>=w.top&&v<=w.top+w.height)return A.legendItems[_];return null},handleEvent:function(d){var v,_=this,w=_.options,I="mouseup"===d.type?"click":d.type;if("mousemove"===I){if(!w.onHover&&!w.onLeave)return}else if("click"!==I||!w.onClick)return;v=_._getLegendItemAt(d.x,d.y),"click"===I?v&&w.onClick&&w.onClick.call(_,d.native,v):(w.onLeave&&v!==_._hoveredItem&&(_._hoveredItem&&w.onLeave.call(_,d.native,_._hoveredItem),_._hoveredItem=v),w.onHover&&v&&w.onHover.call(_,d.native,v))}});function Ja(d,v){var _=new Gu({ctx:d.ctx,options:v,chart:d});Un.configure(d,_,v),Un.addBox(d,_),d.legend=_}var Hu={id:"legend",_element:Gu,beforeInit:function(d){var v=d.options.legend;v&&Ja(d,v)},beforeUpdate:function(d){var v=d.options.legend,_=d.legend;v?(F.mergeIf(v,oe.global.legend),_?(Un.configure(d,_,v),_.options=v):Ja(d,v)):_&&(Un.removeBox(d,_),delete d.legend)},afterEvent:function(d,v){var _=d.legend;_&&_.handleEvent(v)}},Oi=F.noop;oe._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Gc=Oe.extend({initialize:function(d){F.extend(this,d),this.legendHitBoxes=[]},beforeUpdate:Oi,update:function(d,v,_){var w=this;return w.beforeUpdate(),w.maxWidth=d,w.maxHeight=v,w.margins=_,w.beforeSetDimensions(),w.setDimensions(),w.afterSetDimensions(),w.beforeBuildLabels(),w.buildLabels(),w.afterBuildLabels(),w.beforeFit(),w.fit(),w.afterFit(),w.afterUpdate(),w.minSize},afterUpdate:Oi,beforeSetDimensions:Oi,setDimensions:function(){var d=this;d.isHorizontal()?(d.width=d.maxWidth,d.left=0,d.right=d.width):(d.height=d.maxHeight,d.top=0,d.bottom=d.height),d.paddingLeft=0,d.paddingTop=0,d.paddingRight=0,d.paddingBottom=0,d.minSize={width:0,height:0}},afterSetDimensions:Oi,beforeBuildLabels:Oi,buildLabels:Oi,afterBuildLabels:Oi,beforeFit:Oi,fit:function(){var d,v=this,_=v.options,w=v.minSize={},I=v.isHorizontal();_.display?(d=(F.isArray(_.text)?_.text.length:1)*F.options._parseFont(_).lineHeight+2*_.padding,v.width=w.width=I?v.maxWidth:d,v.height=w.height=I?d:v.maxHeight):v.width=w.width=v.height=w.height=0},afterFit:Oi,isHorizontal:function(){var d=this.options.position;return"top"===d||"bottom"===d},draw:function(){var d=this,v=d.ctx,_=d.options;if(_.display){var w,I,A,L=F.options._parseFont(_),P=L.lineHeight,O=P/2+_.padding,z=0,W=d.top,U=d.left,X=d.bottom,K=d.right;v.fillStyle=F.valueOrDefault(_.fontColor,oe.global.defaultFontColor),v.font=L.string,d.isHorizontal()?(I=U+(K-U)/2,A=W+O,w=K-U):(I="left"===_.position?U+O:K-O,A=W+(X-W)/2,w=X-W,z=Math.PI*("left"===_.position?-.5:.5)),v.save(),v.translate(I,A),v.rotate(z),v.textAlign="center",v.textBaseline="middle";var $=_.text;if(F.isArray($))for(var ee=0,re=0;re<$.length;++re)v.fillText($[re],0,ee,w),ee+=P;else v.fillText($,0,0,w);v.restore()}}});function na(d,v){var _=new Gc({ctx:d.ctx,options:v,chart:d});Un.configure(d,_,v),Un.addBox(d,_),d.titleBlock=_}var Ri={},Ji=Lf,Ni=Hu,Xr={id:"title",_element:Gc,beforeInit:function(d){var v=d.options.title;v&&na(d,v)},beforeUpdate:function(d){var v=d.options.title,_=d.titleBlock;v?(F.mergeIf(v,oe.global.title),_?(Un.configure(d,_,v),_.options=v):na(d,v)):_&&(Un.removeBox(d,_),delete d.titleBlock)}};for(var Qa in Ri.filler=Ji,Ri.legend=Ni,Ri.title=Xr,pt.helpers=F,function(){function d(w,I,A){var L;return"string"==typeof w?(L=parseInt(w,10),-1!==w.indexOf("%")&&(L=L/100*I.parentNode[A])):L=w,L}function v(w){return null!=w&&"none"!==w}function _(w,I,A){var L=document.defaultView,P=F._getParentNode(w),O=L.getComputedStyle(w)[I],z=L.getComputedStyle(P)[I],W=v(O),U=v(z),X=Number.POSITIVE_INFINITY;return W||U?Math.min(W?d(O,w,A):X,U?d(z,P,A):X):"none"}F.where=function(w,I){if(F.isArray(w)&&Array.prototype.filter)return w.filter(I);var A=[];return F.each(w,function(L){I(L)&&A.push(L)}),A},F.findIndex=Array.prototype.findIndex?function(w,I,A){return w.findIndex(I,A)}:function(w,I,A){A=void 0===A?w:A;for(var L=0,P=w.length;L<P;++L)if(I.call(A,w[L],L,w))return L;return-1},F.findNextWhere=function(w,I,A){F.isNullOrUndef(A)&&(A=-1);for(var L=A+1;L<w.length;L++){var P=w[L];if(I(P))return P}},F.findPreviousWhere=function(w,I,A){F.isNullOrUndef(A)&&(A=w.length);for(var L=A-1;L>=0;L--){var P=w[L];if(I(P))return P}},F.isNumber=function(w){return!isNaN(parseFloat(w))&&isFinite(w)},F.almostEquals=function(w,I,A){return Math.abs(w-I)<A},F.almostWhole=function(w,I){var A=Math.round(w);return A-I<=w&&A+I>=w},F.max=function(w){return w.reduce(function(I,A){return isNaN(A)?I:Math.max(I,A)},Number.NEGATIVE_INFINITY)},F.min=function(w){return w.reduce(function(I,A){return isNaN(A)?I:Math.min(I,A)},Number.POSITIVE_INFINITY)},F.sign=Math.sign?function(w){return Math.sign(w)}:function(w){return 0==(w=+w)||isNaN(w)?w:w>0?1:-1},F.toRadians=function(w){return w*(Math.PI/180)},F.toDegrees=function(w){return w*(180/Math.PI)},F._decimalPlaces=function(w){if(F.isFinite(w)){for(var I=1,A=0;Math.round(w*I)/I!==w;)I*=10,A++;return A}},F.getAngleFromPoint=function(w,I){var A=I.x-w.x,L=I.y-w.y,P=Math.sqrt(A*A+L*L),O=Math.atan2(L,A);return O<-.5*Math.PI&&(O+=2*Math.PI),{angle:O,distance:P}},F.distanceBetweenPoints=function(w,I){return Math.sqrt(Math.pow(I.x-w.x,2)+Math.pow(I.y-w.y,2))},F.aliasPixel=function(w){return w%2==0?0:.5},F._alignPixel=function(w,I,A){var L=w.currentDevicePixelRatio,P=A/2;return Math.round((I-P)*L)/L+P},F.splineCurve=function(w,I,A,L){var P=w.skip?I:w,O=I,z=A.skip?I:A,W=Math.sqrt(Math.pow(O.x-P.x,2)+Math.pow(O.y-P.y,2)),U=Math.sqrt(Math.pow(z.x-O.x,2)+Math.pow(z.y-O.y,2)),X=W/(W+U),K=U/(W+U),$=L*(X=isNaN(X)?0:X),ee=L*(K=isNaN(K)?0:K);return{previous:{x:O.x-$*(z.x-P.x),y:O.y-$*(z.y-P.y)},next:{x:O.x+ee*(z.x-P.x),y:O.y+ee*(z.y-P.y)}}},F.EPSILON=Number.EPSILON||1e-14,F.splineCurveMonotone=function(w){var I,A,L,P,O,z,W,U,X,K=(w||[]).map(function(re){return{model:re._model,deltaK:0,mK:0}}),$=K.length;for(I=0;I<$;++I)if(!(L=K[I]).model.skip){if(A=I>0?K[I-1]:null,(P=I<$-1?K[I+1]:null)&&!P.model.skip){var ee=P.model.x-L.model.x;L.deltaK=0!==ee?(P.model.y-L.model.y)/ee:0}L.mK=!A||A.model.skip?L.deltaK:!P||P.model.skip?A.deltaK:this.sign(A.deltaK)!==this.sign(L.deltaK)?0:(A.deltaK+L.deltaK)/2}for(I=0;I<$-1;++I)P=K[I+1],(L=K[I]).model.skip||P.model.skip||(F.almostEquals(L.deltaK,0,this.EPSILON)?L.mK=P.mK=0:(O=L.mK/L.deltaK,z=P.mK/L.deltaK,(U=Math.pow(O,2)+Math.pow(z,2))<=9||(W=3/Math.sqrt(U),L.mK=O*W*L.deltaK,P.mK=z*W*L.deltaK)));for(I=0;I<$;++I)(L=K[I]).model.skip||(P=I<$-1?K[I+1]:null,(A=I>0?K[I-1]:null)&&!A.model.skip&&(L.model.controlPointPreviousX=L.model.x-(X=(L.model.x-A.model.x)/3),L.model.controlPointPreviousY=L.model.y-X*L.mK),P&&!P.model.skip&&(L.model.controlPointNextX=L.model.x+(X=(P.model.x-L.model.x)/3),L.model.controlPointNextY=L.model.y+X*L.mK))},F.nextItem=function(w,I,A){return A?I>=w.length-1?w[0]:w[I+1]:I>=w.length-1?w[w.length-1]:w[I+1]},F.previousItem=function(w,I,A){return A?I<=0?w[w.length-1]:w[I-1]:I<=0?w[0]:w[I-1]},F.niceNum=function(w,I){var A=Math.floor(F.log10(w)),L=w/Math.pow(10,A);return(I?L<1.5?1:L<3?2:L<7?5:10:L<=1?1:L<=2?2:L<=5?5:10)*Math.pow(10,A)},F.requestAnimFrame=typeof window>"u"?function(w){w()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(w){return window.setTimeout(w,1e3/60)},F.getRelativePosition=function(w,I){var A,L,P=w.originalEvent||w,O=w.target||w.srcElement,z=O.getBoundingClientRect(),W=P.touches;W&&W.length>0?(A=W[0].clientX,L=W[0].clientY):(A=P.clientX,L=P.clientY);var U=parseFloat(F.getStyle(O,"padding-left")),X=parseFloat(F.getStyle(O,"padding-top")),K=parseFloat(F.getStyle(O,"padding-right")),$=parseFloat(F.getStyle(O,"padding-bottom")),re=z.bottom-z.top-X-$;return{x:A=Math.round((A-z.left-U)/(z.right-z.left-U-K)*O.width/I.currentDevicePixelRatio),y:L=Math.round((L-z.top-X)/re*O.height/I.currentDevicePixelRatio)}},F.getConstraintWidth=function(w){return _(w,"max-width","clientWidth")},F.getConstraintHeight=function(w){return _(w,"max-height","clientHeight")},F._calculatePadding=function(w,I,A){return(I=F.getStyle(w,I)).indexOf("%")>-1?A*parseInt(I,10)/100:parseInt(I,10)},F._getParentNode=function(w){var I=w.parentNode;return I&&"[object ShadowRoot]"===I.toString()&&(I=I.host),I},F.getMaximumWidth=function(w){var I=F._getParentNode(w);if(!I)return w.clientWidth;var A=I.clientWidth,L=A-F._calculatePadding(I,"padding-left",A)-F._calculatePadding(I,"padding-right",A),P=F.getConstraintWidth(w);return isNaN(P)?L:Math.min(L,P)},F.getMaximumHeight=function(w){var I=F._getParentNode(w);if(!I)return w.clientHeight;var A=I.clientHeight,L=A-F._calculatePadding(I,"padding-top",A)-F._calculatePadding(I,"padding-bottom",A),P=F.getConstraintHeight(w);return isNaN(P)?L:Math.min(L,P)},F.getStyle=function(w,I){return w.currentStyle?w.currentStyle[I]:document.defaultView.getComputedStyle(w,null).getPropertyValue(I)},F.retinaScale=function(w,I){var A=w.currentDevicePixelRatio=I||typeof window<"u"&&window.devicePixelRatio||1;if(1!==A){var L=w.canvas,P=w.height,O=w.width;L.height=P*A,L.width=O*A,w.ctx.scale(A,A),L.style.height||L.style.width||(L.style.height=P+"px",L.style.width=O+"px")}},F.fontString=function(w,I,A){return I+" "+w+"px "+A},F.longestText=function(w,I,A,L){var P=(L=L||{}).data=L.data||{},O=L.garbageCollect=L.garbageCollect||[];L.font!==I&&(P=L.data={},O=L.garbageCollect=[],L.font=I),w.font=I;var z,W,U,X,K,$=0,ee=A.length;for(z=0;z<ee;z++)if(null!=(X=A[z])&&!0!==F.isArray(X))$=F.measureText(w,P,O,$,X);else if(F.isArray(X))for(W=0,U=X.length;W<U;W++)null==(K=X[W])||F.isArray(K)||($=F.measureText(w,P,O,$,K));var re=O.length/2;if(re>A.length){for(z=0;z<re;z++)delete P[O[z]];O.splice(0,re)}return $},F.measureText=function(w,I,A,L,P){var O=I[P];return O||(O=I[P]=w.measureText(P).width,A.push(P)),O>L&&(L=O),L},F.numberOfLabelLines=function(w){var I=1;return F.each(w,function(A){F.isArray(A)&&A.length>I&&(I=A.length)}),I},F.color=Ln?function(w){return w instanceof CanvasGradient&&(w=oe.global.defaultColor),Ln(w)}:function(w){return console.error("Color.js not found!"),w},F.getHoverColor=function(w){return w instanceof CanvasPattern||w instanceof CanvasGradient?w:F.color(w).saturate(.5).darken(.1).rgbString()}}(),pt._adapters=ku,pt.Animation=bn,pt.animationService=Hi,pt.controllers=yu,pt.DatasetController=_e,pt.defaults=oe,pt.Element=Oe,pt.elements=sn,pt.Interaction=On,pt.layouts=Un,pt.platform=di,pt.plugins=Wt,pt.Scale=Sn,pt.scaleService=Ho,pt.Ticks=jo,pt.Tooltip=el,pt.helpers.each(Tf,function(d,v){pt.scaleService.registerScaleType(v,d,d._defaults)}),Ri)Ri.hasOwnProperty(Qa)&&pt.plugins.register(Ri[Qa]);pt.platform.initialize();var wo=pt;return typeof window<"u"&&(window.Chart=pt),pt.Chart=pt,pt.Legend=Ri.legend._element,pt.Title=Ri.title._element,pt.pluginService=pt.plugins,pt.PluginBase=pt.Element.extend({}),pt.canvasHelpers=pt.helpers.canvas,pt.layoutService=pt.layouts,pt.LinearScaleBase=qo,pt.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(d){pt[d]=function(v,_){return new pt(v,pt.helpers.merge(_||{},{type:d.charAt(0).toLowerCase()+d.slice(1)}))}}),wo});